(globalThis.TURBOPACK || (globalThis.TURBOPACK = [])).push([typeof document === "object" ? document.currentScript : undefined,
"[project]/src/features/trading/constants/markets.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ALL_MARKETS",
    ()=>ALL_MARKETS
]);
const letterLogo = (text, bg, fg = '#0B0F1A')=>`data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64'><rect width='64' height='64' rx='32' ry='32' fill='${encodeURIComponent(bg)}'/><text x='50%' y='54%' font-family='Inter,Arial,sans-serif' font-size='28' font-weight='700' fill='${encodeURIComponent(fg)}' text-anchor='middle' dominant-baseline='middle'>${encodeURIComponent(text)}</text></svg>`;
const ALL_MARKETS = [
    {
        symbol: 'BTC',
        tradingViewSymbol: 'BINANCE:BTCUSDT',
        logoUrl: 'https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/bitcoin/info/logo.png',
        binanceSymbol: 'BTCUSDT',
        category: 'crypto',
        maxLeverage: 100
    },
    {
        symbol: 'ETH',
        tradingViewSymbol: 'BINANCE:ETHUSDT',
        logoUrl: 'https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png',
        binanceSymbol: 'ETHUSDT',
        category: 'crypto',
        maxLeverage: 100
    },
    {
        symbol: 'SOL',
        tradingViewSymbol: 'BINANCE:SOLUSDT',
        logoUrl: 'https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/solana/info/logo.png',
        binanceSymbol: 'SOLUSDT',
        category: 'crypto',
        maxLeverage: 100
    },
    {
        symbol: 'AVAX',
        tradingViewSymbol: 'BINANCE:AVAXUSDT',
        logoUrl: 'https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/avalanchex/info/logo.png',
        binanceSymbol: 'AVAXUSDT',
        category: 'crypto',
        maxLeverage: 100
    },
    {
        symbol: 'BNB',
        tradingViewSymbol: 'BINANCE:BNBUSDT',
        logoUrl: 'https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/binance/info/logo.png',
        binanceSymbol: 'BNBUSDT',
        category: 'crypto',
        maxLeverage: 100
    },
    {
        symbol: 'XRP',
        tradingViewSymbol: 'BINANCE:XRPUSDT',
        logoUrl: 'https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ripple/info/logo.png',
        binanceSymbol: 'XRPUSDT',
        category: 'crypto',
        maxLeverage: 100
    },
    {
        symbol: 'AAVE',
        tradingViewSymbol: 'BINANCE:AAVEUSDT',
        logoUrl: 'https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x7Fc66500c84A76Ad7e9c93437bFc5Ac33E2DDaE9/logo.png',
        binanceSymbol: 'AAVEUSDT',
        category: 'crypto',
        maxLeverage: 100
    },
    {
        symbol: 'ARB',
        tradingViewSymbol: 'BINANCE:ARBUSDT',
        logoUrl: 'https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/arbitrum/info/logo.png',
        binanceSymbol: 'ARBUSDT',
        category: 'crypto',
        maxLeverage: 100
    },
    {
        symbol: 'CRV',
        tradingViewSymbol: 'BINANCE:CRVUSDT',
        logoUrl: 'https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xD533a949740bb3306d119CC777fa900bA034cd52/logo.png',
        binanceSymbol: 'CRVUSDT',
        category: 'crypto',
        maxLeverage: 100
    },
    {
        symbol: 'DOGE',
        tradingViewSymbol: 'BINANCE:DOGEUSDT',
        logoUrl: 'https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/doge/info/logo.png',
        binanceSymbol: 'DOGEUSDT',
        category: 'crypto',
        maxLeverage: 100
    },
    {
        symbol: 'LINK',
        tradingViewSymbol: 'BINANCE:LINKUSDT',
        logoUrl: 'https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x514910771AF9Ca656af840dff83E8264EcF986CA/logo.png',
        binanceSymbol: 'LINKUSDT',
        category: 'crypto',
        maxLeverage: 100
    },
    {
        symbol: 'PEPE',
        tradingViewSymbol: 'BINANCE:1000PEPEUSDT',
        logoUrl: 'https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x6982508145454Ce325dDbE47a25d4ec3d2311933/logo.png',
        binanceSymbol: '1000PEPEUSDT',
        category: 'crypto',
        maxLeverage: 100
    },
    // Forex
    {
        symbol: 'EURUSD',
        tradingViewSymbol: 'OANDA:EURUSD',
        logoUrl: letterLogo('€', '#C7D2FE', '#111827'),
        category: 'forex',
        maxLeverage: 100
    },
    {
        symbol: 'GBPUSD',
        tradingViewSymbol: 'OANDA:GBPUSD',
        logoUrl: letterLogo('£', '#BFDBFE', '#0B0F1A'),
        category: 'forex',
        maxLeverage: 100
    },
    // Commodities
    {
        symbol: 'XAUUSD',
        tradingViewSymbol: 'OANDA:XAUUSD',
        logoUrl: letterLogo('Au', '#FDE68A', '#0B0F1A'),
        category: 'commodities',
        maxLeverage: 100
    },
    {
        symbol: 'XAGUSD',
        tradingViewSymbol: 'OANDA:XAGUSD',
        logoUrl: letterLogo('Ag', '#E5E7EB', '#0B0F1A'),
        category: 'commodities',
        maxLeverage: 100
    },
    // Indices / ETFs
    {
        symbol: 'QQQUSD',
        tradingViewSymbol: 'NASDAQ:QQQ',
        logoUrl: letterLogo('QQQ', '#C084FC', '#0B0F1A'),
        category: 'indices',
        maxLeverage: 100
    },
    {
        symbol: 'SPYUSD',
        tradingViewSymbol: 'AMEX:SPY',
        logoUrl: letterLogo('SPY', '#A7F3D0', '#0B0F1A'),
        category: 'indices',
        maxLeverage: 100
    },
    // Stocks
    {
        symbol: 'AAPLUSD',
        tradingViewSymbol: 'NASDAQ:AAPL',
        logoUrl: letterLogo('AAPL', '#D8B4FE', '#0B0F1A'),
        category: 'stocks',
        maxLeverage: 100
    },
    {
        symbol: 'GOOGLUSD',
        tradingViewSymbol: 'NASDAQ:GOOGL',
        logoUrl: letterLogo('GOOG', '#BFDBFE', '#0B0F1A'),
        category: 'stocks',
        maxLeverage: 100
    }
];
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/contexts/MarketContext.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "MarketProvider",
    ()=>MarketProvider,
    "useMarket",
    ()=>useMarket
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/constants/markets.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature(), _s1 = __turbopack_context__.k.signature();
'use client';
;
;
const MarketContext = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createContext"])(undefined);
const MarketProvider = ({ children })=>{
    _s();
    const [activeMarket, setActiveMarket] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ALL_MARKETS"][0]);
    const [currentPrice, setCurrentPrice] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('0');
    const [timeframe, setTimeframe] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('1'); // Default 1 minute
    const [selectedPosition, setSelectedPosition] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [chartPositions, setChartPositions] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(true);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(MarketContext.Provider, {
        value: {
            activeMarket,
            setActiveMarket,
            currentPrice,
            setCurrentPrice,
            timeframe,
            setTimeframe,
            selectedPosition,
            setSelectedPosition,
            chartPositions,
            setChartPositions
        },
        children: children
    }, void 0, false, {
        fileName: "[project]/src/features/trading/contexts/MarketContext.tsx",
        lineNumber: 37,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_s(MarketProvider, "9pJbzl1hPlZ9j9YA5vmzlg0XQII=");
_c = MarketProvider;
const useMarket = ()=>{
    _s1();
    const context = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useContext"])(MarketContext);
    if (context === undefined) {
        throw new Error('useMarket must be used within a MarketProvider');
    }
    return context;
};
_s1(useMarket, "b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=");
var _c;
__turbopack_context__.k.register(_c, "MarketProvider");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/hooks/useGridTradingUI.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useGridTrading",
    ()=>useGridTrading
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$types$2f$gridTrading$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/types/gridTrading.ts [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature();
'use client';
;
;
const useGridTrading = ({ currentPrice, interval })=>{
    _s();
    const [gridConfig, setGridConfig] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$types$2f$gridTrading$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DEFAULT_GRID_CONFIG"]);
    const [selectedCells, setSelectedCells] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(new Set());
    const [pendingOrders, setPendingOrders] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])([]);
    // Calculate grid price levels based on current price and config
    const calculatePriceLevels = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useGridTrading.useCallback[calculatePriceLevels]": (numLevels = 20)=>{
            if (!currentPrice || currentPrice <= 0) return [];
            const levels = [];
            const { priceGridSize, priceGridType } = gridConfig;
            for(let i = -numLevels; i <= numLevels; i++){
                let price;
                if (priceGridType === 'percentage') {
                    // Percentage-based grid
                    const percentChange = priceGridSize / 100 * i;
                    price = currentPrice * (1 + percentChange);
                } else {
                    // Absolute value grid
                    price = currentPrice + priceGridSize * i;
                }
                levels.push(price);
            }
            return levels.sort({
                "useGridTrading.useCallback[calculatePriceLevels]": (a, b)=>b - a
            }["useGridTrading.useCallback[calculatePriceLevels]"]); // Sort descending (highest to lowest)
        }
    }["useGridTrading.useCallback[calculatePriceLevels]"], [
        currentPrice,
        gridConfig
    ]);
    // Get interval in milliseconds
    const getIntervalMs = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useGridTrading.useCallback[getIntervalMs]": ()=>{
            const map = {
                '1': 60 * 1000,
                '3': 3 * 60 * 1000,
                '5': 5 * 60 * 1000,
                '15': 15 * 60 * 1000,
                '30': 30 * 60 * 1000,
                '60': 60 * 60 * 1000,
                '120': 2 * 60 * 60 * 1000,
                '240': 4 * 60 * 60 * 1000,
                D: 24 * 60 * 60 * 1000,
                W: 7 * 24 * 60 * 60 * 1000
            };
            return (map[interval] || 60 * 60 * 1000) * gridConfig.timeMultiplier;
        }
    }["useGridTrading.useCallback[getIntervalMs]"], [
        interval,
        gridConfig.timeMultiplier
    ]);
    // Calculate grid cells based on visible chart area
    const calculateGridCells = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useGridTrading.useCallback[calculateGridCells]": (visibleCandles, priceLevels)=>{
            const cells = [];
            const intervalMs = getIntervalMs();
            // For each visible time point (considering timeMultiplier)
            for(let i = 0; i < visibleCandles.length; i += gridConfig.timeMultiplier){
                const candle = visibleCandles[i];
                // For each price level
                priceLevels.forEach({
                    "useGridTrading.useCallback[calculateGridCells]": (priceLevel, levelIndex)=>{
                        const cellId = `cell-${i}-${levelIndex}`;
                        const isAboveCurrentPrice = priceLevel > currentPrice;
                        cells.push({
                            id: cellId,
                            timeIndex: i,
                            priceLevel,
                            timestamp: candle.time,
                            isAboveCurrentPrice
                        });
                    }
                }["useGridTrading.useCallback[calculateGridCells]"]);
            }
            return cells;
        }
    }["useGridTrading.useCallback[calculateGridCells]"], [
        currentPrice,
        getIntervalMs,
        gridConfig.timeMultiplier
    ]);
    // Handle cell tap/click (simplified version)
    const handleCellTap = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useGridTrading.useCallback[handleCellTap]": (cellId, price, isAbovePrice)=>{
            if (!gridConfig.enabled) return;
            setSelectedCells({
                "useGridTrading.useCallback[handleCellTap]": (prev)=>{
                    const newSet = new Set(prev);
                    if (newSet.has(cellId)) {
                        // Remove cell and cancel order if exists
                        newSet.delete(cellId);
                        setPendingOrders({
                            "useGridTrading.useCallback[handleCellTap]": (orders)=>orders.filter({
                                    "useGridTrading.useCallback[handleCellTap]": (o)=>o.cellId !== cellId
                                }["useGridTrading.useCallback[handleCellTap]"])
                        }["useGridTrading.useCallback[handleCellTap]"]);
                    } else {
                        // Add cell and create order
                        newSet.add(cellId);
                        const orderType = isAbovePrice ? 'sell' : 'buy';
                        const newOrder = {
                            cellId,
                            orderType,
                            price,
                            amount: 0,
                            timestamp: Date.now(),
                            status: 'pending'
                        };
                        setPendingOrders({
                            "useGridTrading.useCallback[handleCellTap]": (orders)=>[
                                    ...orders,
                                    newOrder
                                ]
                        }["useGridTrading.useCallback[handleCellTap]"]);
                    }
                    return newSet;
                }
            }["useGridTrading.useCallback[handleCellTap]"]);
        }
    }["useGridTrading.useCallback[handleCellTap]"], [
        gridConfig.enabled
    ]);
    // Update grid configuration
    const updateGridConfig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useGridTrading.useCallback[updateGridConfig]": (updates)=>{
            setGridConfig({
                "useGridTrading.useCallback[updateGridConfig]": (prev)=>({
                        ...prev,
                        ...updates
                    })
            }["useGridTrading.useCallback[updateGridConfig]"]);
        }
    }["useGridTrading.useCallback[updateGridConfig]"], []);
    // Toggle grid enabled state
    const toggleGrid = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useGridTrading.useCallback[toggleGrid]": ()=>{
            setGridConfig({
                "useGridTrading.useCallback[toggleGrid]": (prev)=>({
                        ...prev,
                        enabled: !prev.enabled
                    })
            }["useGridTrading.useCallback[toggleGrid]"]);
            if (gridConfig.enabled) {
                // Disable grid - clear selections
                setSelectedCells(new Set());
                setPendingOrders([]);
            }
        }
    }["useGridTrading.useCallback[toggleGrid]"], [
        gridConfig.enabled
    ]);
    // Clear all selected cells
    const clearAllCells = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useGridTrading.useCallback[clearAllCells]": ()=>{
            setSelectedCells(new Set());
            setPendingOrders([]);
        }
    }["useGridTrading.useCallback[clearAllCells]"], []);
    // Place orders (to be integrated with smart contract)
    const placeGridOrders = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useGridTrading.useCallback[placeGridOrders]": async ()=>{
            // TODO: Integrate with smart contract to place orders
            // For now, just log
            pendingOrders.forEach({
                "useGridTrading.useCallback[placeGridOrders]": (order)=>{}
            }["useGridTrading.useCallback[placeGridOrders]"]);
        }
    }["useGridTrading.useCallback[placeGridOrders]"], [
        pendingOrders
    ]);
    // Get statistics
    const stats = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "useGridTrading.useMemo[stats]": ()=>{
            const buyOrders = pendingOrders.filter({
                "useGridTrading.useMemo[stats]": (o)=>o.orderType === 'buy'
            }["useGridTrading.useMemo[stats]"]).length;
            const sellOrders = pendingOrders.filter({
                "useGridTrading.useMemo[stats]": (o)=>o.orderType === 'sell'
            }["useGridTrading.useMemo[stats]"]).length;
            return {
                totalCells: selectedCells.size,
                buyOrders,
                sellOrders,
                totalOrders: pendingOrders.length
            };
        }
    }["useGridTrading.useMemo[stats]"], [
        selectedCells,
        pendingOrders
    ]);
    return {
        // State
        gridConfig,
        selectedCells,
        pendingOrders,
        stats,
        // Calculations
        calculatePriceLevels,
        calculateGridCells,
        getIntervalMs,
        // Actions
        handleCellTap,
        updateGridConfig,
        toggleGrid,
        clearAllCells,
        placeGridOrders
    };
};
_s(useGridTrading, "XZ+9JNKHFBk7t7kFoBZkjP0oV5g=");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/contexts/TapToTradeContext.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "TapToTradeProvider",
    ()=>TapToTradeProvider,
    "useTapToTrade",
    ()=>useTapToTrade
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = /*#__PURE__*/ __turbopack_context__.i("[project]/node_modules/next/dist/build/polyfills/process.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$usePrivy$2d$DDM76RFl$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__u__as__usePrivy$3e$__ = __turbopack_context__.i("[project]/node_modules/@privy-io/react-auth/dist/esm/usePrivy-DDM76RFl.mjs [app-client] (ecmascript) <export u as usePrivy>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__ = __turbopack_context__.i("[project]/node_modules/@privy-io/react-auth/dist/esm/SignRequestScreen-BQBgOoh_.mjs [app-client] (ecmascript) <export ae as useWallets>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$hash$2f$keccak256$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/hash/keccak256.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodePacked$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/abi/encodePacked.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/abi/encodeFunctionData.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useSessionKey$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/wallet/hooks/useSessionKey.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/config/contracts.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature(), _s1 = __turbopack_context__.k.signature();
'use client';
;
;
;
;
;
const TapToTradeContext = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createContext"])(undefined);
const BACKEND_API_URL = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:3001';
const EXPECTED_CHAIN_ID = BigInt(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].env.NEXT_PUBLIC_CHAIN_ID || '84532');
const RPC_URL = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].env.NEXT_PUBLIC_RPC_URL;
const TapToTradeProvider = ({ children })=>{
    _s();
    const { user } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$usePrivy$2d$DDM76RFl$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__u__as__usePrivy$3e$__["usePrivy"])();
    const { wallets } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"])();
    const [isEnabled, setIsEnabled] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [tradeMode, setTradeMode] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('one-tap-profit');
    const [gridSizeX, setGridSizeX] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(1); // 1 candle per column by default
    const [gridSizeY, setGridSizeY] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(0); // 0.5% per row by default
    const [cellOrders, setCellOrders] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(new Map());
    const [betAmount, setBetAmount] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('10'); // Default 10 USDC for OneTapProfit
    const [isBinaryTradingEnabled, setIsBinaryTradingEnabled] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false); // Binary trading toggle
    // Backend integration state
    const [gridSession, setGridSession] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [isLoading, setIsLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    // Track nonce locally to avoid race conditions with multiple orders
    const [localNonce, setLocalNonce] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(BigInt(0));
    const [isCreatingOrder, setIsCreatingOrder] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const resignIntervalRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(null);
    const attemptedResignOrders = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(new Set()); // Track orders we've already attempted to re-sign
    // Session key for signature-less tap-to-trade
    const { sessionKey, isSessionValid, createSession, signWithSession, clearSession, getTimeRemaining } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useSessionKey$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSessionKey"])();
    /**
   * Initialize nonce from contract
   */ const initializeNonce = async ()=>{
        try {
            const embeddedWallet = wallets.find((w)=>w.walletClientType === 'privy');
            if (!embeddedWallet) {
                console.warn('Cannot initialize nonce: embedded wallet not found');
                return;
            }
            const traderAddress = embeddedWallet.address;
            const walletClient = await embeddedWallet.getEthereumProvider();
            if (!walletClient) {
                console.warn('Cannot initialize nonce: wallet client not available');
                return;
            }
            const MarketExecutorABI = [
                {
                    inputs: [
                        {
                            name: '',
                            type: 'address'
                        }
                    ],
                    name: 'metaNonces',
                    outputs: [
                        {
                            name: '',
                            type: 'uint256'
                        }
                    ],
                    stateMutability: 'view',
                    type: 'function'
                }
            ];
            const nonceData = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFunctionData"])({
                abi: MarketExecutorABI,
                functionName: 'metaNonces',
                args: [
                    traderAddress
                ]
            });
            const nonceResult = await walletClient.request({
                method: 'eth_call',
                params: [
                    {
                        to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TAP_TO_TRADE_EXECUTOR_ADDRESS"],
                        data: nonceData
                    },
                    'latest'
                ]
            });
            // Handle empty result (0x means 0)
            const currentNonce = nonceResult === '0x' || !nonceResult ? BigInt(0) : BigInt(nonceResult);
            setLocalNonce(currentNonce);
        } catch (err) {
            console.error('Failed to initialize nonce:', err);
        }
    };
    // NOTE: authorizeSessionKeyOnChain() removed for 100% gasless experience
    // Session keys are validated off-chain by backend only
    // Contract execution happens via keeper role (backend pays gas)
    /**
   * Auto re-sign orders that need re-signing (nonce mismatch)
   */ const checkAndResignOrders = async ()=>{
        if (!isEnabled || !gridSession || !user?.wallet?.address) {
            return;
        }
        try {
            // Get Privy embedded wallet
            const embeddedWallet = wallets.find((w)=>w.walletClientType === 'privy');
            if (!embeddedWallet) {
                return;
            }
            const traderAddress = embeddedWallet.address;
            // Fetch orders that need re-signing
            const response = await fetch(`${BACKEND_API_URL}/api/tap-to-trade/orders?trader=${traderAddress}&status=NEEDS_RESIGN`);
            const result = await response.json();
            if (!result.success || !result.data || result.data.length === 0) {
                return;
            }
            // Re-sign each order (only once per order)
            for (const order of result.data){
                // Skip if we've already attempted to re-sign this order
                if (attemptedResignOrders.current.has(order.id)) {
                    continue;
                }
                // Mark as attempted
                attemptedResignOrders.current.add(order.id);
                try {
                    const walletClient = await embeddedWallet.getEthereumProvider();
                    if (!walletClient) {
                        continue;
                    }
                    // Fetch fresh nonce
                    const MarketExecutorABI = [
                        {
                            inputs: [
                                {
                                    name: '',
                                    type: 'address'
                                }
                            ],
                            name: 'metaNonces',
                            outputs: [
                                {
                                    name: '',
                                    type: 'uint256'
                                }
                            ],
                            stateMutability: 'view',
                            type: 'function'
                        }
                    ];
                    const nonceData = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFunctionData"])({
                        abi: MarketExecutorABI,
                        functionName: 'metaNonces',
                        args: [
                            traderAddress
                        ]
                    });
                    const nonceResult = await walletClient.request({
                        method: 'eth_call',
                        params: [
                            {
                                to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TAP_TO_TRADE_EXECUTOR_ADDRESS"],
                                data: nonceData
                            },
                            'latest'
                        ]
                    });
                    // Handle empty result (0x means 0)
                    const freshNonce = nonceResult === '0x' || !nonceResult ? BigInt(0) : BigInt(nonceResult);
                    // Create new signature with fresh nonce
                    const messageHash = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$hash$2f$keccak256$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["keccak256"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodePacked$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodePacked"])([
                        'address',
                        'string',
                        'bool',
                        'uint256',
                        'uint256',
                        'uint256',
                        'address'
                    ], [
                        traderAddress,
                        order.symbol,
                        order.isLong,
                        BigInt(order.collateral),
                        BigInt(order.leverage),
                        freshNonce,
                        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TAP_TO_TRADE_EXECUTOR_ADDRESS"]
                    ]));
                    // User will see signature request popup here
                    const newSignature = await walletClient.request({
                        method: 'personal_sign',
                        params: [
                            messageHash,
                            traderAddress
                        ]
                    });
                    // Update signature in backend
                    const updateResponse = await fetch(`${BACKEND_API_URL}/api/tap-to-trade/update-signature`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            orderId: order.id,
                            nonce: freshNonce.toString(),
                            signature: newSignature,
                            trader: traderAddress
                        })
                    });
                    const updateResult = await updateResponse.json();
                    if (updateResult.success) {
                        // Remove from attempted list on success so it can be re-attempted if needed again
                        attemptedResignOrders.current.delete(order.id);
                    } else {
                        console.error(`\u274c Failed to update signature for order ${order.id}:`, updateResult.error);
                    }
                } catch (err) {
                    // User cancelled signature or error occurred
                    if (err.code === 4001 || err.message?.includes('User rejected')) {
                        console.warn(`\u274c User cancelled re-signing order ${order.id}`);
                        // Mark as cancelled in backend
                        try {
                            await fetch(`${BACKEND_API_URL}/api/tap-to-trade/cancel-order`, {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify({
                                    orderId: order.id,
                                    trader: traderAddress
                                })
                            });
                        } catch (cancelErr) {
                            console.error('Failed to cancel order:', cancelErr);
                        }
                    } else {
                        console.error(`\u274c Error re-signing order ${order.id}:`, err);
                    }
                }
            }
        } catch (err) {
            console.error('Error checking for orders to re-sign:', err);
        }
    };
    // Poll for orders that need re-signing
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "TapToTradeProvider.useEffect": ()=>{
            if (isEnabled && gridSession) {
                // Check immediately
                checkAndResignOrders();
                // Then check every 15 seconds (not too frequent to avoid spam)
                resignIntervalRef.current = setInterval(checkAndResignOrders, 15000);
                return ({
                    "TapToTradeProvider.useEffect": ()=>{
                        if (resignIntervalRef.current) {
                            clearInterval(resignIntervalRef.current);
                        }
                    }
                })["TapToTradeProvider.useEffect"];
            }
        }
    }["TapToTradeProvider.useEffect"], [
        isEnabled,
        gridSession,
        user?.wallet?.address,
        wallets
    ]);
    // Auto-disable tap-to-trade when session expires
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "TapToTradeProvider.useEffect": ()=>{
            if (!isEnabled || !sessionKey) return;
            const checkSessionExpiry = {
                "TapToTradeProvider.useEffect.checkSessionExpiry": ()=>{
                    if (!isSessionValid()) {
                        // Auto-disable tap-to-trade mode
                        toggleMode();
                    }
                }
            }["TapToTradeProvider.useEffect.checkSessionExpiry"];
            // Check every 10 seconds
            const interval = setInterval(checkSessionExpiry, 10000);
            return ({
                "TapToTradeProvider.useEffect": ()=>clearInterval(interval)
            })["TapToTradeProvider.useEffect"];
        }
    }["TapToTradeProvider.useEffect"], [
        isEnabled,
        sessionKey,
        isSessionValid
    ]);
    const toggleMode = async (params)=>{
        if (isEnabled) {
            // DISABLE mode - Cancel grid session
            if (gridSession) {
                try {
                    setIsLoading(true);
                    // Get Privy embedded wallet
                    const embeddedWallet = wallets.find((w)=>w.walletClientType === 'privy');
                    const traderAddress = embeddedWallet?.address || gridSession.trader;
                    await fetch(`${BACKEND_API_URL}/api/grid/cancel-session`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            gridId: gridSession.id,
                            trader: traderAddress
                        })
                    });
                    setGridSession(null);
                } catch (err) {
                    console.error('Failed to cancel grid session:', err);
                } finally{
                    setIsLoading(false);
                }
            }
            // Clear cell orders when disabling
            setCellOrders(new Map());
            setIsEnabled(false);
            setError(null);
            setLocalNonce(BigInt(0)); // Reset nonce
            attemptedResignOrders.current.clear(); // Clear attempted re-sign tracking
            // Clear session key
            if (sessionKey) {
                clearSession();
            }
        } else {
            // ENABLE mode - Create grid session
            if (!params) {
                setError('Missing parameters to enable tap-to-trade');
                return;
            }
            if (!user?.wallet?.address) {
                setError('Wallet not connected');
                return;
            }
            // Get Privy embedded wallet for tap-to-trade
            const embeddedWallet = wallets.find((w)=>w.walletClientType === 'privy');
            if (!embeddedWallet) {
                setError('Privy embedded wallet not found. Tap-to-trade requires Privy AA wallet.');
                return;
            }
            const traderAddress = embeddedWallet.address;
            setIsLoading(true);
            setError(null);
            try {
                // Convert timeframe to seconds
                const timeframeMap = {
                    '1': 60,
                    '5': 300,
                    '15': 900,
                    '30': 1800,
                    '60': 3600,
                    '240': 14400,
                    D: 86400,
                    W: 604800
                };
                const timeframeSeconds = timeframeMap[params.timeframe] || 60;
                // Convert price to 8 decimals (contract format)
                const priceWith8Decimals = Math.round(params.currentPrice * 100000000).toString();
                // Convert margin to base units (6 decimals for USDC)
                const marginInBaseUnits = (parseFloat(params.margin) * 1000000).toString();
                // Convert gridSizeY from % to basis points (0.5% = 50 basis points)
                const gridSizeYPercent = Math.round(gridSizeY * 100);
                // Calculate reference time - snap to start of current timeframe window
                const nowSeconds = Math.floor(Date.now() / 1000);
                const columnDurationSeconds = gridSizeX * timeframeSeconds;
                const referenceTimeSnapped = Math.floor(nowSeconds / columnDurationSeconds) * columnDurationSeconds;
                const response = await fetch(`${BACKEND_API_URL}/api/grid/create-session`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        trader: traderAddress,
                        symbol: params.symbol,
                        marginTotal: marginInBaseUnits,
                        leverage: params.leverage,
                        timeframeSeconds,
                        gridSizeX,
                        gridSizeYPercent,
                        referenceTime: referenceTimeSnapped,
                        referencePrice: priceWith8Decimals
                    })
                });
                const result = await response.json();
                if (!result.success) {
                    throw new Error(result.error || 'Failed to create grid session');
                }
                const session = result.data;
                setGridSession(session);
                setIsEnabled(true);
                // Initialize nonce from contract when enabling
                await initializeNonce();
                // Create session key ONLY for open-position mode (tap-to-trade)
                // One Tap Profit mode doesn't need session key (signs each trade)
                if (tradeMode === 'open-position') {
                    try {
                        const walletClient = await embeddedWallet.getEthereumProvider();
                        if (!walletClient) {
                            throw new Error('Could not get wallet client');
                        }
                        const newSession = await createSession(traderAddress, walletClient, 30 * 60 * 1000);
                        if (!newSession) {
                            throw new Error('Failed to create session key');
                        }
                        // Step 2: Register session key with backend (NO ON-CHAIN TX!)
                        try {
                            // We skip on-chain authorization for 100% gasless experience
                            // Backend will validate session signature for each order
                            const sessionDurationSeconds = 30 * 60; // 30 minutes in seconds
                            const expiresAtSeconds = Math.floor(newSession.expiresAt / 1000);
                            // Create authorization message EXACTLY matching smart contract format
                            // Smart contract uses: keccak256(abi.encodePacked("Authorize session key ", address, " for Dash Tap-to-Trade until ", uint256))
                            // We need to encode address and uint256 as bytes, not as string!
                            // IMPORTANT: Convert address to checksum format
                            const sessionAddressChecksum = newSession.address;
                            const authMessageHash = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$hash$2f$keccak256$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["keccak256"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodePacked$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodePacked"])([
                                'string',
                                'address',
                                'string',
                                'uint256'
                            ], [
                                'Authorize session key ',
                                sessionAddressChecksum,
                                ' for Dash Tap-to-Trade until ',
                                BigInt(expiresAtSeconds)
                            ]));
                            // IMPORTANT: Use the authSignature that was already created in createSession()
                            // Don't sign again here - it will create different signature!
                            const authSignature = newSession.authSignature;
                            // DEBUG: Verify signature locally before sending to contract
                            try {
                                const { recoverMessageAddress } = await __turbopack_context__.A("[project]/node_modules/viem/_esm/index.js [app-client] (ecmascript, async loader)");
                                const recovered = await recoverMessageAddress({
                                    message: {
                                        raw: authMessageHash
                                    },
                                    signature: authSignature
                                });
                                if (recovered.toLowerCase() !== traderAddress.toLowerCase()) {
                                    throw new Error(`Signature mismatch! Recovered: ${recovered}, Expected: ${traderAddress}`);
                                }
                            } catch (verifyErr) {
                                console.error('❌ Local verification failed:', verifyErr);
                                throw verifyErr;
                            }
                            // Call authorizeSessionKey on TapToTradeExecutor contract
                            const TapToTradeExecutorABI = [
                                {
                                    inputs: [
                                        {
                                            name: 'sessionKeyAddress',
                                            type: 'address'
                                        },
                                        {
                                            name: 'duration',
                                            type: 'uint256'
                                        },
                                        {
                                            name: 'authSignature',
                                            type: 'bytes'
                                        }
                                    ],
                                    name: 'authorizeSessionKey',
                                    outputs: [],
                                    stateMutability: 'nonpayable',
                                    type: 'function'
                                }
                            ];
                            const authData = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFunctionData"])({
                                abi: TapToTradeExecutorABI,
                                functionName: 'authorizeSessionKey',
                                args: [
                                    newSession.address,
                                    BigInt(sessionDurationSeconds),
                                    authSignature
                                ]
                            });
                        // Send authorization request to backend
                        // Backend will call authorizeSessionKey() on contract and pay gas!
                        // Skip backend authorization - we only need local session storage!
                        // Backend will validate session signature when orders are executed
                        // No need to call backend for authorization
                        // Session is stored in localStorage and validated by backend on each order
                        } catch (authErr) {
                            clearSession();
                            throw new Error(`Session setup failed: ${authErr.message}. Please try again.`);
                        }
                    } catch (sessionErr) {
                        // Don't fail the entire enable if session creation fails
                        // User can still use with regular signatures
                        setError(`Session setup failed: ${sessionErr.message}`);
                    }
                } else {}
            } catch (err) {
                setError(err.message || 'Failed to enable tap-to-trade');
            } finally{
                setIsLoading(false);
            }
        }
    };
    /**
   * Handle cell click - immediately create order in backend
   * Each click creates a new order (accumulate, not toggle)
   */ const handleCellClick = async (cellX, cellY)=>{
        if (!isEnabled || !gridSession || !user?.wallet?.address) {
            console.warn('Cannot create order: mode not enabled or session not found');
            return;
        }
        // Prevent multiple orders from being created simultaneously (nonce collision)
        if (isCreatingOrder) {
            console.warn('⏳ Please wait, another order is being created...');
            return;
        }
        setIsCreatingOrder(true);
        setIsLoading(true);
        setError(null);
        try {
            // Calculate trigger price based on grid position
            const referencePrice = parseFloat(gridSession.referencePrice) / 100000000; // Convert from 8 decimals
            const gridSizeYPercent = gridSession.gridSizeYPercent / 100; // Convert from basis points to %
            const priceChange = cellY * gridSizeYPercent / 100 * referencePrice;
            const triggerPrice = referencePrice + priceChange;
            const triggerPriceWith8Decimals = Math.round(triggerPrice * 100000000).toString();
            // Calculate time window based on grid position
            const columnDurationSeconds = Math.max(1, gridSession.gridSizeX * gridSession.timeframeSeconds);
            const startTime = gridSession.referenceTime + cellX * columnDurationSeconds;
            const endTime = startTime + columnDurationSeconds;
            // Determine if LONG or SHORT based on trigger price vs reference price
            // LONG: buy when price is LOW (trigger below reference) - profit when price goes UP
            // SHORT: sell when price is HIGH (trigger above reference) - profit when price goes DOWN
            const isLong = cellY < 0; // Below reference = LONG, Above reference = SHORT
            // Each cell click = 1 full order with entire margin amount
            // If user taps same cell 2x, it creates 2 separate orders with full margin each
            const collateralPerOrder = gridSession.marginTotal;
            // ALWAYS use Privy embedded wallet for tap-to-trade (gasless with AA)
            const embeddedWallet = wallets.find((w)=>w.walletClientType === 'privy');
            if (!embeddedWallet) {
                console.error('❌ No Privy embedded wallet found in wallets array');
                throw new Error('Privy embedded wallet not found. Tap-to-trade requires Privy AA wallet.');
            }
            // Use embedded wallet address as trader (not the currently active wallet)
            const traderAddress = embeddedWallet.address;
            // Get wallet provider (EIP-1193)
            const walletClient = await embeddedWallet.getEthereumProvider();
            if (!walletClient) {
                throw new Error('Could not get wallet client');
            }
            // ALWAYS fetch fresh nonce from contract for each order
            // This prevents signature failures due to stale nonce
            const MarketExecutorABI = [
                {
                    inputs: [
                        {
                            name: '',
                            type: 'address'
                        }
                    ],
                    name: 'metaNonces',
                    outputs: [
                        {
                            name: '',
                            type: 'uint256'
                        }
                    ],
                    stateMutability: 'view',
                    type: 'function'
                }
            ];
            const nonceData = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFunctionData"])({
                abi: MarketExecutorABI,
                functionName: 'metaNonces',
                args: [
                    traderAddress
                ]
            });
            const nonceResult = await walletClient.request({
                method: 'eth_call',
                params: [
                    {
                        to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TAP_TO_TRADE_EXECUTOR_ADDRESS"],
                        data: nonceData
                    },
                    'latest'
                ]
            });
            // Handle empty result (0x means 0)
            const currentNonce = nonceResult === '0x' || !nonceResult ? BigInt(0) : BigInt(nonceResult);
            // Sign order message
            const messageHash = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$hash$2f$keccak256$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["keccak256"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodePacked$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodePacked"])([
                'address',
                'string',
                'bool',
                'uint256',
                'uint256',
                'uint256',
                'address'
            ], [
                traderAddress,
                gridSession.symbol,
                isLong,
                BigInt(collateralPerOrder),
                BigInt(gridSession.leverage),
                currentNonce,
                __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TAP_TO_TRADE_EXECUTOR_ADDRESS"]
            ]));
            let signature;
            let usedSessionKey = false; // Track if we actually used session key
            // Use session key if available and valid (NO POPUP!)
            if (isSessionValid()) {
                const sessionSignature = await signWithSession(messageHash);
                if (!sessionSignature) {
                    console.warn('⚠️ Session signature failed, falling back to traditional signature...');
                    // Fallback to traditional signature if session fails
                    const userSignature = await walletClient.request({
                        method: 'personal_sign',
                        params: [
                            messageHash,
                            traderAddress
                        ]
                    });
                    signature = userSignature;
                    usedSessionKey = false;
                } else {
                    signature = sessionSignature;
                    usedSessionKey = true; // Mark that we used session key
                }
            } else {
                // Fallback: request signature from user (with popup)
                const userSignature = await walletClient.request({
                    method: 'personal_sign',
                    params: [
                        messageHash,
                        traderAddress
                    ]
                });
                if (!userSignature) {
                    throw new Error('Failed to obtain signature');
                }
                signature = userSignature;
            }
            // Create order in backend
            const cellId = `${cellX},${cellY}`;
            // Prepare order data with optional session key info
            const orderData = {
                gridSessionId: gridSession.id,
                cellId,
                trader: traderAddress,
                symbol: gridSession.symbol,
                isLong,
                collateral: collateralPerOrder,
                leverage: gridSession.leverage,
                triggerPrice: triggerPriceWith8Decimals,
                startTime,
                endTime,
                nonce: currentNonce.toString(),
                signature
            };
            // ONLY add session key info if we actually used session key for signing
            if (usedSessionKey && sessionKey) {
                orderData.sessionKey = {
                    address: sessionKey.address,
                    expiresAt: sessionKey.expiresAt,
                    authorizedBy: sessionKey.authorizedBy,
                    authSignature: sessionKey.authSignature
                };
            }
            const response = await fetch(`${BACKEND_API_URL}/api/tap-to-trade/batch-create`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    gridSessionId: gridSession.id,
                    orders: [
                        orderData
                    ]
                })
            });
            const result = await response.json();
            if (!result.success) {
                throw new Error(result.error || 'Failed to create order');
            }
            // Update cell order count for visual feedback
            setCellOrders((prev)=>{
                const newMap = new Map(prev);
                const existing = newMap.get(cellId);
                if (existing) {
                    newMap.set(cellId, {
                        ...existing,
                        orderCount: existing.orderCount + 1
                    });
                } else {
                    newMap.set(cellId, {
                        cellX,
                        cellY,
                        orderCount: 1,
                        triggerPrice: triggerPriceWith8Decimals,
                        startTime,
                        endTime,
                        isLong
                    });
                }
                return newMap;
            });
        } catch (err) {
            setError(err.message || 'Failed to create order');
            console.error('Failed to create order:', err);
        } finally{
            setIsLoading(false);
            setIsCreatingOrder(false);
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(TapToTradeContext.Provider, {
        value: {
            isEnabled,
            tradeMode,
            setTradeMode,
            toggleMode,
            gridSizeX,
            gridSizeY,
            setGridSizeX,
            setGridSizeY,
            betAmount,
            setBetAmount,
            handleCellClick,
            cellOrders,
            sessionKey,
            sessionTimeRemaining: getTimeRemaining(),
            gridSession,
            isLoading,
            error,
            isBinaryTradingEnabled,
            setIsBinaryTradingEnabled,
            signWithSession,
            createSession
        },
        children: children
    }, void 0, false, {
        fileName: "[project]/src/features/trading/contexts/TapToTradeContext.tsx",
        lineNumber: 830,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_s(TapToTradeProvider, "j750QMJBOxw6QA2hLYLAaAkxubc=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$usePrivy$2d$DDM76RFl$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__u__as__usePrivy$3e$__["usePrivy"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useSessionKey$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSessionKey"]
    ];
});
_c = TapToTradeProvider;
const useTapToTrade = ()=>{
    _s1();
    const context = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useContext"])(TapToTradeContext);
    if (context === undefined) {
        throw new Error('useTapToTrade must be used within a TapToTradeProvider');
    }
    return context;
};
_s1(useTapToTrade, "b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=");
var _c;
__turbopack_context__.k.register(_c, "TapToTradeProvider");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/hooks/useMarketWebSocket.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useMarketWebSocket",
    ()=>useMarketWebSocket
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = /*#__PURE__*/ __turbopack_context__.i("[project]/node_modules/next/dist/build/polyfills/process.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature();
;
function useMarketWebSocket(markets) {
    _s();
    const [allPrices, setAllPrices] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])({});
    const [marketDataMap, setMarketDataMap] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])({});
    const [futuresDataMap, setFuturesDataMap] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])({});
    const [oraclePrices, setOraclePrices] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])({});
    // Seed oracle prices from REST once (covers new env feeds before WS ticks)
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useMarketWebSocket.useEffect": ()=>{
            const seedOracle = {
                "useMarketWebSocket.useEffect.seedOracle": async ()=>{
                    try {
                        const backendUrl = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:3001';
                        const res = await fetch(`${backendUrl}/api/price/all`);
                        if (!res.ok) return;
                        const body = await res.json();
                        if (body?.data) {
                            const seeded = {};
                            Object.keys(body.data).forEach({
                                "useMarketWebSocket.useEffect.seedOracle": (symbol)=>{
                                    const p = body.data[symbol];
                                    seeded[symbol.toUpperCase()] = {
                                        symbol: p.symbol || symbol.toUpperCase(),
                                        price: p.price,
                                        confidence: p.confidence,
                                        timestamp: p.timestamp,
                                        source: p.source || 'pyth'
                                    };
                                }
                            }["useMarketWebSocket.useEffect.seedOracle"]);
                            setOraclePrices({
                                "useMarketWebSocket.useEffect.seedOracle": (prev)=>({
                                        ...prev,
                                        ...seeded
                                    })
                            }["useMarketWebSocket.useEffect.seedOracle"]);
                        }
                    } catch (err) {
                        console.warn('Seed oracle price failed', err);
                    }
                }
            }["useMarketWebSocket.useEffect.seedOracle"];
            seedOracle();
        }
    }["useMarketWebSocket.useEffect"], []);
    // Fetch Futures Data (Funding Rate, Open Interest)
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useMarketWebSocket.useEffect": ()=>{
            const fetchFuturesData = {
                "useMarketWebSocket.useEffect.fetchFuturesData": async ()=>{
                    try {
                        const symbols = markets.map({
                            "useMarketWebSocket.useEffect.fetchFuturesData.symbols": (m)=>m.binanceSymbol
                        }["useMarketWebSocket.useEffect.fetchFuturesData.symbols"]);
                        const results = await Promise.all(symbols.map({
                            "useMarketWebSocket.useEffect.fetchFuturesData": async (symbol)=>{
                                if (!symbol) return null;
                                try {
                                    // Fetch funding rate
                                    const fundingResponse = await fetch(`https://fapi.binance.com/fapi/v1/premiumIndex?symbol=${symbol}`);
                                    const fundingData = await fundingResponse.json();
                                    // Fetch open interest
                                    const oiResponse = await fetch(`https://fapi.binance.com/fapi/v1/openInterest?symbol=${symbol}`);
                                    const oiData = await oiResponse.json();
                                    // Get current price for OI value calculation
                                    const priceResponse = await fetch(`https://fapi.binance.com/fapi/v1/ticker/price?symbol=${symbol}`);
                                    const priceData = await priceResponse.json();
                                    const openInterestValue = (parseFloat(oiData.openInterest || '0') * parseFloat(priceData.price || '0')).toString();
                                    return {
                                        symbol,
                                        data: {
                                            fundingRate: fundingData.lastFundingRate || '0',
                                            nextFundingTime: fundingData.nextFundingTime || 0,
                                            openInterest: oiData.openInterest || '0',
                                            openInterestValue
                                        }
                                    };
                                } catch (error) {
                                    console.error(`Error fetching futures data for ${symbol}:`, error);
                                    return null;
                                }
                            }
                        }["useMarketWebSocket.useEffect.fetchFuturesData"]));
                        const newFuturesData = {};
                        results.forEach({
                            "useMarketWebSocket.useEffect.fetchFuturesData": (result)=>{
                                if (result) {
                                    newFuturesData[result.symbol] = result.data;
                                }
                            }
                        }["useMarketWebSocket.useEffect.fetchFuturesData"]);
                        setFuturesDataMap(newFuturesData);
                    } catch (error) {
                        console.error('Error fetching futures data:', error);
                    }
                }
            }["useMarketWebSocket.useEffect.fetchFuturesData"];
            fetchFuturesData();
            const interval = setInterval(fetchFuturesData, 10000); // Update every 10 seconds
            return ({
                "useMarketWebSocket.useEffect": ()=>clearInterval(interval)
            })["useMarketWebSocket.useEffect"];
        }
    }["useMarketWebSocket.useEffect"], [
        markets
    ]);
    // WebSocket for real-time spot prices (Binance) with ping mechanism
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useMarketWebSocket.useEffect": ()=>{
            const ws = new WebSocket('wss://stream.binance.com:9443/ws/!ticker@arr');
            let pingInterval = null;
            ws.onopen = ({
                "useMarketWebSocket.useEffect": ()=>{
                    // Start ping interval to keep connection alive (every 3 minutes)
                    pingInterval = setInterval({
                        "useMarketWebSocket.useEffect": ()=>{
                            if (ws.readyState === WebSocket.OPEN) {
                                ws.send(JSON.stringify({
                                    method: 'ping'
                                }));
                            }
                        }
                    }["useMarketWebSocket.useEffect"], 180000); // 3 minutes (180000ms)
                }
            })["useMarketWebSocket.useEffect"];
            ws.onmessage = ({
                "useMarketWebSocket.useEffect": (event)=>{
                    const tickers = JSON.parse(event.data);
                    const newPrices = {};
                    const newMarketData = {};
                    for (const ticker of tickers){
                        newPrices[ticker.s] = parseFloat(ticker.c).toString();
                        newMarketData[ticker.s] = {
                            price: parseFloat(ticker.c).toString(),
                            priceChange: parseFloat(ticker.p).toString(),
                            priceChangePercent: parseFloat(ticker.P).toString(),
                            high24h: parseFloat(ticker.h).toString(),
                            low24h: parseFloat(ticker.l).toString(),
                            volume24h: parseFloat(ticker.q).toString()
                        };
                    }
                    setAllPrices(newPrices);
                    setMarketDataMap(newMarketData);
                }
            })["useMarketWebSocket.useEffect"];
            ws.onerror = ({
                "useMarketWebSocket.useEffect": (error)=>console.error('❌ Binance WebSocket error:', error)
            })["useMarketWebSocket.useEffect"];
            ws.onclose = ({
                "useMarketWebSocket.useEffect": ()=>{
                    // Clear ping interval when connection closes
                    if (pingInterval) {
                        clearInterval(pingInterval);
                        pingInterval = null;
                    }
                }
            })["useMarketWebSocket.useEffect"];
            return ({
                "useMarketWebSocket.useEffect": ()=>{
                    // Clear ping interval on cleanup
                    if (pingInterval) {
                        clearInterval(pingInterval);
                    }
                    if (ws.readyState === WebSocket.OPEN) {
                        ws.close();
                    }
                }
            })["useMarketWebSocket.useEffect"];
        }
    }["useMarketWebSocket.useEffect"], []);
    // WebSocket for Pyth Oracle prices
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useMarketWebSocket.useEffect": ()=>{
            let ws = null;
            const connectWebSocket = {
                "useMarketWebSocket.useEffect.connectWebSocket": ()=>{
                    try {
                        const wsUrl = (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:3001').replace(/^http/, 'ws') + '/ws/price';
                        ws = new WebSocket(wsUrl);
                        ws.onmessage = ({
                            "useMarketWebSocket.useEffect.connectWebSocket": (event)=>{
                                try {
                                    const message = JSON.parse(event.data);
                                    if (message.type === 'price_update' && message.data) {
                                        setOraclePrices({
                                            "useMarketWebSocket.useEffect.connectWebSocket": (prev)=>{
                                                const next = {
                                                    ...prev
                                                };
                                                Object.keys(message.data).forEach({
                                                    "useMarketWebSocket.useEffect.connectWebSocket": (symbol)=>{
                                                        const priceData = message.data[symbol];
                                                        next[symbol.toUpperCase()] = {
                                                            symbol: priceData.symbol,
                                                            price: priceData.price,
                                                            confidence: priceData.confidence,
                                                            timestamp: priceData.timestamp,
                                                            source: priceData.source
                                                        };
                                                    }
                                                }["useMarketWebSocket.useEffect.connectWebSocket"]);
                                                return next;
                                            }
                                        }["useMarketWebSocket.useEffect.connectWebSocket"]);
                                    }
                                } catch (error) {
                                    console.error('Error parsing Oracle message:', error);
                                }
                            }
                        })["useMarketWebSocket.useEffect.connectWebSocket"];
                        ws.onerror = ({
                            "useMarketWebSocket.useEffect.connectWebSocket": ()=>{
                                // Silently handle error - backend might not be running
                                console.warn('⚠️ Oracle WebSocket not available (backend offline?)');
                            }
                        })["useMarketWebSocket.useEffect.connectWebSocket"];
                    } catch (error) {
                        console.warn('⚠️ Could not connect to Oracle WebSocket:', error);
                    }
                }
            }["useMarketWebSocket.useEffect.connectWebSocket"];
            connectWebSocket();
            return ({
                "useMarketWebSocket.useEffect": ()=>{
                    if (ws && ws.readyState === WebSocket.OPEN) {
                        ws.close();
                    }
                }
            })["useMarketWebSocket.useEffect"];
        }
    }["useMarketWebSocket.useEffect"], []);
    return {
        allPrices,
        marketDataMap,
        futuresDataMap,
        oraclePrices
    };
}
_s(useMarketWebSocket, "mDnARy5MKirgNawGpNBrWZxe0J8=");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/charts/TradingViewWidget.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
const TradingViewWidget = /*#__PURE__*/ _s((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["memo"])(_c = _s(({ symbol })=>{
    _s();
    const containerRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(null);
    const scriptLoadedRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(false);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "TradingViewWidget.useEffect": ()=>{
            if (!containerRef.current) return;
            // Clear container
            containerRef.current.innerHTML = '';
            // Create container div for widget
            const widgetContainer = document.createElement('div');
            widgetContainer.id = `tradingview_${Date.now()}`;
            widgetContainer.style.height = '100%';
            widgetContainer.style.width = '100%';
            containerRef.current.appendChild(widgetContainer);
            const initWidget = {
                "TradingViewWidget.useEffect.initWidget": ()=>{
                    if (typeof window.TradingView === 'undefined') return;
                    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768 && 'ontouchstart' in window;
                    const tvSymbol = symbol.includes(':') ? symbol : `BINANCE:${symbol}`;
                    new window.TradingView.widget({
                        autosize: true,
                        symbol: tvSymbol,
                        interval: '240',
                        timezone: 'Asia/Jakarta',
                        theme: 'dark',
                        style: '1',
                        locale: 'en',
                        toolbar_bg: '#171B26',
                        enable_publishing: false,
                        hide_side_toolbar: isMobile,
                        allow_symbol_change: true,
                        details: false,
                        hotlist: false,
                        calendar: false,
                        container_id: widgetContainer.id,
                        disabled_features: [
                            'use_localstorage_for_settings',
                            'timeframes_toolbar'
                        ],
                        enabled_features: [
                            'header_widget',
                            'header_resolutions',
                            'header_interval_dialog_button',
                            'show_interval_dialog_on_key_press'
                        ],
                        overrides: {
                            'paneProperties.background': '#171B26',
                            'paneProperties.backgroundGradientStartColor': '#171B26',
                            'paneProperties.backgroundGradientEndColor': '#171B26',
                            'paneProperties.backgroundType': 'solid',
                            'paneProperties.vertGridProperties.color': '#1E2433',
                            'paneProperties.horzGridProperties.color': '#1E2433',
                            'scalesProperties.backgroundColor': '#171B26',
                            'scalesProperties.textColor': '#94A3B8',
                            'scalesProperties.lineColor': '#1E2433',
                            'symbolWatermarkProperties.transparency': 90,
                            'symbolWatermarkProperties.color': '#171B26',
                            'mainSeriesProperties.candleStyle.upColor': '#22c55e',
                            'mainSeriesProperties.candleStyle.downColor': '#ef4444',
                            'mainSeriesProperties.candleStyle.borderUpColor': '#22c55e',
                            'mainSeriesProperties.candleStyle.borderDownColor': '#ef4444',
                            'mainSeriesProperties.candleStyle.wickUpColor': '#22c55e',
                            'mainSeriesProperties.candleStyle.wickDownColor': '#ef4444'
                        },
                        loading_screen: {
                            backgroundColor: '#171B26',
                            foregroundColor: '#171B26'
                        }
                    });
                }
            }["TradingViewWidget.useEffect.initWidget"];
            // Load TradingView script if not already loaded
            const loadScript = {
                "TradingViewWidget.useEffect.loadScript": ()=>{
                    if (scriptLoadedRef.current) {
                        initWidget();
                        return;
                    }
                    const script = document.createElement('script');
                    script.src = 'https://s3.tradingview.com/tv.js';
                    script.async = true;
                    script.onload = ({
                        "TradingViewWidget.useEffect.loadScript": ()=>{
                            scriptLoadedRef.current = true;
                            initWidget();
                        }
                    })["TradingViewWidget.useEffect.loadScript"];
                    document.head.appendChild(script);
                }
            }["TradingViewWidget.useEffect.loadScript"];
            loadScript();
            return ({
                "TradingViewWidget.useEffect": ()=>{
                    if (containerRef.current) {
                        containerRef.current.innerHTML = '';
                    }
                }
            })["TradingViewWidget.useEffect"];
        }
    }["TradingViewWidget.useEffect"], [
        symbol
    ]);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        ref: containerRef,
        className: "w-full h-full",
        style: {
            position: 'relative',
            width: '100%',
            height: '100%',
            zIndex: 1
        }
    }, void 0, false, {
        fileName: "[project]/src/features/trading/components/charts/TradingViewWidget.tsx",
        lineNumber: 113,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
}, "jHSbhxh7NuX2BfXsPIRSpujWZmA=")), "jHSbhxh7NuX2BfXsPIRSpujWZmA=");
_c1 = TradingViewWidget;
TradingViewWidget.displayName = 'TradingViewWidget';
const __TURBOPACK__default__export__ = TradingViewWidget;
var _c, _c1;
__turbopack_context__.k.register(_c, "TradingViewWidget$memo");
__turbopack_context__.k.register(_c1, "TradingViewWidget");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/lib/formatters.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Formatting utilities for trading chart data
 */ /**
 * Format price with currency symbol
 * @param price - Price value to format
 * @returns Formatted price string (e.g., "$1,234.56")
 */ __turbopack_context__.s([
    "formatFundingRate",
    ()=>formatFundingRate,
    "formatPrice",
    ()=>formatPrice,
    "formatTimeUntil",
    ()=>formatTimeUntil,
    "formatVolume",
    ()=>formatVolume
]);
const formatPrice = (price)=>{
    if (price === 0) return '$--';
    return new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD',
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
    }).format(price);
};
const formatVolume = (volume)=>{
    if (volume === 0) return '--';
    if (volume >= 1e9) return `$${(volume / 1e9).toFixed(2)}B`;
    if (volume >= 1e6) return `$${(volume / 1e6).toFixed(2)}M`;
    if (volume >= 1e3) return `$${(volume / 1e3).toFixed(2)}K`;
    return `$${volume.toFixed(2)}`;
};
const formatFundingRate = (rate)=>{
    return `${(rate * 100).toFixed(4)}%`;
};
const formatTimeUntil = (timestamp)=>{
    const now = Date.now();
    const diff = timestamp - now;
    if (diff <= 0) return 'Now';
    const hours = Math.floor(diff / (1000 * 60 * 60));
    const minutes = Math.floor(diff % (1000 * 60 * 60) / (1000 * 60));
    return `${hours}h ${minutes}m`;
};
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/lib/marketUtils.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "formatDynamicUsd",
    ()=>formatDynamicUsd,
    "formatMarketPair",
    ()=>formatMarketPair,
    "inferMarketCategory",
    ()=>inferMarketCategory,
    "inferTradingViewSymbol",
    ()=>inferTradingViewSymbol,
    "mergeMarketsWithOracle",
    ()=>mergeMarketsWithOracle
]);
const CATEGORY_ORDER = [
    'crypto',
    'forex',
    'indices',
    'commodities',
    'stocks'
];
const FOREX_BASES = [
    'EUR',
    'GBP',
    'JPY',
    'AUD',
    'NZD',
    'CAD',
    'CHF'
];
const STOCK_LIKE = [
    'AAPL',
    'GOOGL',
    'TSLA',
    'NVDA',
    'MSFT',
    'AMZN'
];
const INDEX_LIKE = [
    'SPY',
    'QQQ',
    'DXY'
];
const COMMODITY_LIKE = [
    'XAU',
    'XAG',
    'WTI',
    'BRENT'
];
function formatMarketPair(symbol) {
    const upper = symbol.toUpperCase();
    if (upper.endsWith('USD') && upper.length > 3) {
        const base = symbol.slice(0, -3);
        return `${base}/USD`;
    }
    return `${symbol}/USD`;
}
function inferMarketCategory(symbol) {
    const upper = symbol.toUpperCase();
    const base = upper.endsWith('USD') ? upper.slice(0, -3) : upper;
    if (FOREX_BASES.includes(base) && upper.endsWith('USD')) return 'forex';
    if (COMMODITY_LIKE.includes(base)) return 'commodities';
    if (INDEX_LIKE.includes(base)) return 'indices';
    if (STOCK_LIKE.includes(base)) return 'stocks';
    // Default: treat unknown as stocks if it looks like equity ticker, otherwise crypto
    if (upper.endsWith('USD') && base.length <= 5) return 'stocks';
    return 'crypto';
}
function inferTradingViewSymbol(symbol, category) {
    const upper = symbol.toUpperCase();
    const base = upper.endsWith('USD') ? upper.slice(0, -3) : upper;
    // Explicit mappings
    const explicit = {
        EURUSD: 'OANDA:EURUSD',
        GBPUSD: 'OANDA:GBPUSD',
        XAUUSD: 'OANDA:XAUUSD',
        XAGUSD: 'OANDA:XAGUSD',
        QQQUSD: 'NASDAQ:QQQ',
        SPYUSD: 'AMEX:SPY',
        AAPLUSD: 'NASDAQ:AAPL',
        GOOGLUSD: 'NASDAQ:GOOGL',
        NVDAUSD: 'NASDAQ:NVDA',
        TSLAUSD: 'NASDAQ:TSLA'
    };
    if (explicit[upper]) return explicit[upper];
    if (category === 'forex') return `OANDA:${upper}`;
    if (category === 'commodities') return `OANDA:${upper}`;
    if (category === 'indices') return `AMEX:${base}`;
    if (category === 'stocks') return `NASDAQ:${base}`;
    // Crypto fallback
    return `BINANCE:${base}USDT`;
}
function mergeMarketsWithOracle(baseMarkets, oracleSymbols) {
    const map = new Map();
    baseMarkets.forEach((m)=>map.set(m.symbol.toUpperCase(), m));
    oracleSymbols.forEach((rawSymbol)=>{
        const symbol = rawSymbol.toUpperCase();
        if (map.has(symbol)) return;
        const category = inferMarketCategory(symbol);
        map.set(symbol, {
            symbol,
            category,
            tradingViewSymbol: inferTradingViewSymbol(symbol, category),
            maxLeverage: 100
        });
    });
    const markets = Array.from(map.values());
    markets.sort((a, b)=>{
        const catOrder = CATEGORY_ORDER.indexOf(a.category) - CATEGORY_ORDER.indexOf(b.category);
        if (catOrder !== 0) return catOrder;
        return a.symbol.localeCompare(b.symbol);
    });
    return markets;
}
function formatDynamicUsd(value) {
    if (!Number.isFinite(value)) return '$--';
    const intPart = Math.floor(Math.abs(value));
    const digits = intPart >= 10 ? 2 : 5;
    return new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD',
        minimumFractionDigits: digits,
        maximumFractionDigits: digits
    }).format(value);
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/charts/MarketSelector.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>MarketSelector
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/lib/marketUtils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/image.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$search$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Search$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/search.js [app-client] (ecmascript) <export default as Search>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$star$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Star$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/star.js [app-client] (ecmascript) <export default as Star>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$x$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__X$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/x.js [app-client] (ecmascript) <export default as X>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$coins$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Coins$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/coins.js [app-client] (ecmascript) <export default as Coins>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$banknote$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Banknote$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/banknote.js [app-client] (ecmascript) <export default as Banknote>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chart$2d$line$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__LineChart$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/chart-line.js [app-client] (ecmascript) <export default as LineChart>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$gem$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Gem$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/gem.js [app-client] (ecmascript) <export default as Gem>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$building$2d$2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Building2$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/building-2.js [app-client] (ecmascript) <export default as Building2>");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
;
;
const CATEGORY_TABS = [
    {
        id: 'starred',
        label: 'Starred',
        icon: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$star$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Star$3e$__["Star"], {
            size: 14
        }, void 0, false, {
            fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
            lineNumber: 25,
            columnNumber: 44
        }, ("TURBOPACK compile-time value", void 0))
    },
    {
        id: 'crypto',
        label: 'Crypto',
        icon: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$coins$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Coins$3e$__["Coins"], {
            size: 14
        }, void 0, false, {
            fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
            lineNumber: 26,
            columnNumber: 42
        }, ("TURBOPACK compile-time value", void 0))
    },
    {
        id: 'forex',
        label: 'Forex',
        icon: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$banknote$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Banknote$3e$__["Banknote"], {
            size: 14
        }, void 0, false, {
            fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
            lineNumber: 27,
            columnNumber: 40
        }, ("TURBOPACK compile-time value", void 0))
    },
    {
        id: 'indices',
        label: 'Indices',
        icon: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chart$2d$line$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__LineChart$3e$__["LineChart"], {
            size: 14
        }, void 0, false, {
            fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
            lineNumber: 28,
            columnNumber: 44
        }, ("TURBOPACK compile-time value", void 0))
    },
    {
        id: 'commodities',
        label: 'Commodities',
        icon: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$gem$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Gem$3e$__["Gem"], {
            size: 14
        }, void 0, false, {
            fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
            lineNumber: 29,
            columnNumber: 52
        }, ("TURBOPACK compile-time value", void 0))
    },
    {
        id: 'stocks',
        label: 'Stocks',
        icon: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$building$2d$2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Building2$3e$__["Building2"], {
            size: 14
        }, void 0, false, {
            fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
            lineNumber: 30,
            columnNumber: 42
        }, ("TURBOPACK compile-time value", void 0))
    }
];
function MarketLogo({ market }) {
    if (market.logoUrl) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
            src: market.logoUrl,
            alt: market.symbol,
            width: 24,
            height: 24,
            className: "w-6 h-6 rounded-full bg-trading-surface",
            onError: (e)=>{
                const target = e.currentTarget;
                target.onerror = null;
                target.style.visibility = 'hidden';
            }
        }, void 0, false, {
            fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
            lineNumber: 36,
            columnNumber: 7
        }, this);
    }
    const initials = (market.symbol || '?').slice(0, 3).toUpperCase();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "w-6 h-6 rounded-full bg-trading-elevated text-[11px] font-semibold text-center leading-6 text-text-primary",
        children: initials
    }, void 0, false, {
        fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
        lineNumber: 53,
        columnNumber: 5
    }, this);
}
_c = MarketLogo;
function MarketSelector(props) {
    _s();
    const [searchTerm, setSearchTerm] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('');
    const [activeTab, setActiveTab] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('crypto');
    const [favorites, setFavorites] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(new Set());
    const panelRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(null);
    // Load favorites from localStorage
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "MarketSelector.useEffect": ()=>{
            const stored = localStorage.getItem('dash_favorite_markets');
            if (stored) {
                try {
                    setFavorites(new Set(JSON.parse(stored)));
                } catch  {
                    setFavorites(new Set());
                }
            }
        }
    }["MarketSelector.useEffect"], []);
    // Persist favorites
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "MarketSelector.useEffect": ()=>{
            localStorage.setItem('dash_favorite_markets', JSON.stringify(Array.from(favorites)));
        }
    }["MarketSelector.useEffect"], [
        favorites
    ]);
    const toggleFavorite = (symbol)=>{
        setFavorites((prev)=>{
            const next = new Set(prev);
            if (next.has(symbol)) {
                next.delete(symbol);
            } else {
                next.add(symbol);
            }
            return next;
        });
    };
    const filteredMarkets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "MarketSelector.useMemo[filteredMarkets]": ()=>{
            const matchesTab = {
                "MarketSelector.useMemo[filteredMarkets].matchesTab": (market)=>{
                    if (activeTab === 'starred') return favorites.has(market.symbol);
                    return market.category === activeTab;
                }
            }["MarketSelector.useMemo[filteredMarkets].matchesTab"];
            const term = searchTerm.toLowerCase();
            const filtered = props.markets.filter({
                "MarketSelector.useMemo[filteredMarkets].filtered": (m)=>matchesTab(m) && (m.symbol.toLowerCase().includes(term) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatMarketPair"])(m.symbol).toLowerCase().includes(term))
            }["MarketSelector.useMemo[filteredMarkets].filtered"]);
            return filtered.sort({
                "MarketSelector.useMemo[filteredMarkets]": (a, b)=>{
                    const aFav = favorites.has(a.symbol);
                    const bFav = favorites.has(b.symbol);
                    if (aFav && !bFav) return -1;
                    if (!aFav && bFav) return 1;
                    return a.symbol.localeCompare(b.symbol);
                }
            }["MarketSelector.useMemo[filteredMarkets]"]);
        }
    }["MarketSelector.useMemo[filteredMarkets]"], [
        props.markets,
        favorites,
        activeTab,
        searchTerm
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "MarketSelector.useEffect": ()=>{
            const handleClickOutside = {
                "MarketSelector.useEffect.handleClickOutside": (event)=>{
                    const target = event.target;
                    if (panelRef.current && panelRef.current.contains(target) || props.triggerRef?.current && props.triggerRef.current.contains(target)) {
                        return;
                    }
                    props.onClose();
                }
            }["MarketSelector.useEffect.handleClickOutside"];
            document.addEventListener('mousedown', handleClickOutside);
            return ({
                "MarketSelector.useEffect": ()=>document.removeEventListener('mousedown', handleClickOutside)
            })["MarketSelector.useEffect"];
        }
    }["MarketSelector.useEffect"], [
        props
    ]);
    if (!props.isOpen) return null;
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        ref: panelRef,
        className: "absolute top-full mt-2 left-0 w-screen max-w-[95vw] lg:max-w-[900px] bg-trading-panel border border-border-default rounded-xl shadow-2xl flex flex-col overflow-hidden max-h-[520px]",
        style: {
            zIndex: 9999
        },
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex items-center gap-3 px-4 py-3 border-b border-border-muted bg-trading-elevated",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "relative flex-1",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$search$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Search$3e$__["Search"], {
                                className: "absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                                lineNumber: 142,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                type: "text",
                                placeholder: "Search markets",
                                className: "w-full pl-9 pr-3 py-2 bg-input-bg border border-input-border rounded-md text-sm text-text-primary placeholder-input-placeholder focus:outline-none focus:ring-1 focus:ring-border-focus",
                                value: searchTerm,
                                onChange: (e)=>setSearchTerm(e.target.value),
                                autoFocus: true
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                                lineNumber: 143,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                        lineNumber: 141,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                        onClick: props.onClose,
                        className: "p-2 rounded-md hover:bg-trading-surface text-text-muted",
                        "aria-label": "Close",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$x$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__X$3e$__["X"], {
                            size: 16
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                            lineNumber: 157,
                            columnNumber: 11
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                        lineNumber: 152,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                lineNumber: 140,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex items-center gap-2 px-4 py-3 overflow-x-auto bg-trading-panel border-b border-border-muted custom-scrollbar-slate",
                children: CATEGORY_TABS.map((tab)=>{
                    const hasMarkets = tab.id === 'starred' ? favorites.size > 0 : props.markets.some((m)=>m.category === tab.id);
                    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                        onClick: ()=>setActiveTab(tab.id),
                        disabled: !hasMarkets && tab.id !== 'starred',
                        className: `flex items-center gap-2 px-3 py-1.5 rounded-full text-sm border transition-all ${activeTab === tab.id ? 'bg-primary/10 border-primary text-primary' : 'bg-trading-surface border-border-muted text-text-secondary hover:text-text-primary'} ${!hasMarkets && tab.id !== 'starred' ? 'opacity-50 cursor-not-allowed' : ''}`,
                        children: [
                            tab.icon,
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                children: tab.label
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                                lineNumber: 178,
                                columnNumber: 15
                            }, this)
                        ]
                    }, tab.id, true, {
                        fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                        lineNumber: 168,
                        columnNumber: 13
                    }, this);
                })
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                lineNumber: 161,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "grid grid-cols-12 gap-2 px-4 py-2 text-xs font-semibold text-text-secondary bg-trading-elevated border-b border-border-default sticky top-0",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "col-span-5",
                        children: "Market"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                        lineNumber: 185,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "col-span-2 text-center",
                        children: "Lev."
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                        lineNumber: 186,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "col-span-3 text-right",
                        children: "Price"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                        lineNumber: 187,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "col-span-2 text-right",
                        children: "Change"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                        lineNumber: 188,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                lineNumber: 184,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex-grow overflow-y-auto custom-scrollbar-slate max-h-[360px]",
                children: filteredMarkets.length > 0 ? filteredMarkets.map((market)=>{
                    const oraclePrice = props.oraclePrices[market.symbol]?.price;
                    const spotPrice = market.binanceSymbol ? parseFloat(props.allPrices[market.binanceSymbol] || '0') : undefined;
                    const price = oraclePrice ?? spotPrice;
                    const marketData = market.binanceSymbol ? props.marketDataMap[market.binanceSymbol] : undefined;
                    const priceChangePercent = marketData?.priceChangePercent ? parseFloat(marketData.priceChangePercent) : undefined;
                    const isPositive = (priceChangePercent || 0) >= 0;
                    const formattedPrice = price ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatDynamicUsd"])(price) : '--';
                    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        onClick: ()=>{
                            props.onSelect(market.symbol);
                            props.onClose();
                        },
                        className: "grid grid-cols-12 items-center gap-2 px-4 py-3 text-sm border-b border-border-muted hover:bg-trading-elevated cursor-pointer transition-colors",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "col-span-5 flex items-center gap-3",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        onClick: (e)=>{
                                            e.stopPropagation();
                                            toggleFavorite(market.symbol);
                                        },
                                        className: "p-1 rounded-full hover:bg-trading-surface text-text-muted",
                                        "aria-label": "Toggle favorite",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$star$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Star$3e$__["Star"], {
                                            size: 14,
                                            className: `${favorites.has(market.symbol) ? 'fill-yellow-400 text-yellow-400' : ''}`
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                                            lineNumber: 227,
                                            columnNumber: 21
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                                        lineNumber: 219,
                                        columnNumber: 19
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(MarketLogo, {
                                        market: market
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                                        lineNumber: 233,
                                        columnNumber: 19
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex flex-col",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "font-bold text-text-primary",
                                                children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatMarketPair"])(market.symbol)
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                                                lineNumber: 235,
                                                columnNumber: 21
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "text-[11px] text-text-secondary capitalize",
                                                children: market.category
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                                                lineNumber: 238,
                                                columnNumber: 21
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                                        lineNumber: 234,
                                        columnNumber: 19
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                                lineNumber: 218,
                                columnNumber: 17
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "col-span-2 text-center",
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "px-2 py-1 rounded-full text-xs bg-trading-surface text-text-primary border border-border-muted",
                                    children: market.maxLeverage ? `${market.maxLeverage}x` : '—'
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                                    lineNumber: 244,
                                    columnNumber: 19
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                                lineNumber: 243,
                                columnNumber: 17
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "col-span-3 text-right font-mono text-text-primary",
                                children: formattedPrice
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                                lineNumber: 248,
                                columnNumber: 17
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "col-span-2 text-right font-mono",
                                children: priceChangePercent !== undefined ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: isPositive ? 'text-success' : 'text-error',
                                    children: [
                                        isPositive ? '+' : '',
                                        priceChangePercent.toFixed(2),
                                        "%"
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                                    lineNumber: 253,
                                    columnNumber: 21
                                }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "text-text-muted",
                                    children: "--"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                                    lineNumber: 258,
                                    columnNumber: 21
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                                lineNumber: 251,
                                columnNumber: 17
                            }, this)
                        ]
                    }, market.symbol, true, {
                        fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                        lineNumber: 210,
                        columnNumber: 15
                    }, this);
                }) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex justify-center items-center h-32 text-text-secondary",
                    children: "No markets found."
                }, void 0, false, {
                    fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                    lineNumber: 265,
                    columnNumber: 11
                }, this)
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
                lineNumber: 191,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/charts/MarketSelector.tsx",
        lineNumber: 135,
        columnNumber: 5
    }, this);
}
_s(MarketSelector, "fxrYCz7Ue3pyzelR2iFaU7nFpbQ=");
_c1 = MarketSelector;
var _c, _c1;
__turbopack_context__.k.register(_c, "MarketLogo");
__turbopack_context__.k.register(_c1, "MarketSelector");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/charts/ChartHeader.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>ChartHeader
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$formatters$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/lib/formatters.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$charts$2f$MarketSelector$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/charts/MarketSelector.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/image.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/lib/marketUtils.ts [app-client] (ecmascript)");
'use client';
;
;
;
;
;
function ChartHeader(props) {
    // Use Oracle price data if available, otherwise fallback to Binance
    const oraclePriceValue = props.oraclePrice?.price ?? undefined;
    const displayPrice = Number.isFinite(oraclePriceValue) ? oraclePriceValue : props.marketData?.price ? parseFloat(props.marketData.price) : NaN;
    const priceChangePercent = props.marketData?.priceChangePercent ? parseFloat(props.marketData.priceChangePercent) : 0;
    const isPositive = priceChangePercent >= 0;
    const fundingRate = props.futuresData ? parseFloat(props.futuresData.fundingRate) : 0;
    const isFundingPositive = fundingRate >= 0;
    const isCrypto = props.activeMarket?.category === 'crypto';
    const formatUsd = (value)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatDynamicUsd"])(value);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "flex flex-wrap items-center justify-between md:px-4 px-2 md:py-2 py-1.5",
        style: {
            gap: '0.75rem',
            flexShrink: 0,
            position: 'relative',
            zIndex: 10
        },
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex items-center md:gap-x-6 md:gap-y-3 gap-3 flex-wrap",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "relative",
                        style: {
                            zIndex: 11
                        },
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                ref: props.triggerRef,
                                onClick: ()=>!props.disabled && props.onSymbolChangeClick(),
                                disabled: props.disabled,
                                className: `flex items-center gap-2 bg-gradient-to-r from-trading-surface to-trading-elevated border border-border-default rounded-lg px-4 py-2.5 text-sm font-bold text-text-primary transition-all duration-200 shadow-lg ${'hover:from-trading-elevated hover:to-trading-surface hover:border-border-light hover:shadow-xl cursor-pointer'}`,
                                children: [
                                    props.activeMarket && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                        src: `${props.activeMarket.logoUrl || '/icons/usdc.png'}`,
                                        alt: `${props.activeMarket.symbol}`,
                                        width: 24,
                                        height: 24,
                                        className: "w-6 h-6 rounded-full bg-trading-surface ring-2 ring-border-light",
                                        onError: (e)=>{
                                            const target = e.currentTarget;
                                            target.onerror = null;
                                            target.style.visibility = 'hidden';
                                        }
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                        lineNumber: 79,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-base",
                                        children: props.activeMarket ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatMarketPair"])(props.activeMarket.symbol) : ''
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                        lineNumber: 92,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                        className: `w-4 h-4 transition-transform duration-200 ${props.isMarketSelectorOpen ? 'rotate-180' : ''}`,
                                        fill: "none",
                                        stroke: "currentColor",
                                        viewBox: "0 0 24 24",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                            strokeLinecap: "round",
                                            strokeLinejoin: "round",
                                            strokeWidth: 2,
                                            d: "M19 9l-7 7-7-7"
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                            lineNumber: 103,
                                            columnNumber: 15
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                        lineNumber: 95,
                                        columnNumber: 13
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                lineNumber: 72,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$charts$2f$MarketSelector$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                isOpen: props.isMarketSelectorOpen,
                                onClose: props.onClose,
                                markets: props.markets,
                                onSelect: props.onSelect,
                                allPrices: props.allPrices,
                                marketDataMap: props.marketDataMap,
                                futuresDataMap: props.futuresDataMap,
                                oraclePrices: props.oraclePrices,
                                triggerRef: props.triggerRef
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                lineNumber: 111,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                        lineNumber: 71,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex flex-col ",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "font-semibold font-mono md:text-lg text-base text-text-primary",
                                children: Number.isFinite(displayPrice) ? formatUsd(displayPrice) : '$--'
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                lineNumber: 125,
                                columnNumber: 11
                            }, this),
                            isCrypto && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: `font-semibold font-mono md:text-sm text-xs ${isPositive ? 'text-success' : 'text-error'}`,
                                children: props.marketData?.priceChangePercent ? `${isPositive ? '+' : ''}${parseFloat(props.marketData.priceChangePercent).toFixed(2)}%` : '--'
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                lineNumber: 129,
                                columnNumber: 13
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                        lineNumber: 124,
                        columnNumber: 9
                    }, this),
                    isCrypto && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "md:flex flex-col hidden",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-xs text-text-secondary",
                                        children: "24H HIGH"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                        lineNumber: 146,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center gap-1",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "text-success text-xs",
                                                children: "▲"
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                                lineNumber: 148,
                                                columnNumber: 17
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "font-semibold font-mono text-sm text-text-primary",
                                                children: props.marketData?.high24h ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$formatters$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatPrice"])(parseFloat(props.marketData.high24h)) : '$--'
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                                lineNumber: 149,
                                                columnNumber: 17
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                        lineNumber: 147,
                                        columnNumber: 15
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                lineNumber: 145,
                                columnNumber: 13
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "md:flex flex-col hidden",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-xs text-text-secondary",
                                        children: "24H LOW"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                        lineNumber: 158,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center gap-1",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "text-error text-xs",
                                                children: "▼"
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                                lineNumber: 160,
                                                columnNumber: 17
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "font-semibold font-mono text-sm text-text-primary",
                                                children: props.marketData?.low24h ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$formatters$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatPrice"])(parseFloat(props.marketData.low24h)) : '$--'
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                                lineNumber: 161,
                                                columnNumber: 17
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                        lineNumber: 159,
                                        columnNumber: 15
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                lineNumber: 157,
                                columnNumber: 13
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "md:flex flex-col hidden",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-xs text-text-secondary",
                                        children: "24H VOLUME"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                        lineNumber: 170,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "font-semibold font-mono text-sm text-text-primary",
                                        children: props.marketData?.volume24h ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$formatters$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatVolume"])(parseFloat(props.marketData.volume24h)) : '--'
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                        lineNumber: 171,
                                        columnNumber: 15
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                                lineNumber: 169,
                                columnNumber: 13
                            }, this)
                        ]
                    }, void 0, true)
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                lineNumber: 70,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                className: "md:hidden absolute top-2 right-2 flex items-center justify-center p-2 bg-trading-surface rounded-lg hover:bg-trading-elevated transition-colors",
                onClick: ()=>{
                    // Toggle mobile coin info panel with market data
                    const event = new CustomEvent('toggleMobileCoinInfo', {
                        detail: {
                            marketData: {
                                ...props.marketData,
                                openInterestValue: props.futuresData?.openInterestValue
                            },
                            activeMarket: props.activeMarket
                        }
                    });
                    window.dispatchEvent(event);
                },
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                    xmlns: "http://www.w3.org/2000/svg",
                    className: "h-5 w-5 text-text-secondary",
                    fill: "none",
                    viewBox: "0 0 24 24",
                    stroke: "currentColor",
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeWidth: 2,
                        d: "M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                        lineNumber: 205,
                        columnNumber: 11
                    }, this)
                }, void 0, false, {
                    fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                    lineNumber: 198,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
                lineNumber: 182,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/charts/ChartHeader.tsx",
        lineNumber: 61,
        columnNumber: 5
    }, this);
}
_c = ChartHeader;
var _c;
__turbopack_context__.k.register(_c, "ChartHeader");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/hooks/useOneTapProfitBetting.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useOneTapProfit",
    ()=>useOneTapProfit
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = /*#__PURE__*/ __turbopack_context__.i("[project]/node_modules/next/dist/build/polyfills/process.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$usePrivy$2d$DDM76RFl$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__u__as__usePrivy$3e$__ = __turbopack_context__.i("[project]/node_modules/@privy-io/react-auth/dist/esm/usePrivy-DDM76RFl.mjs [app-client] (ecmascript) <export u as usePrivy>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__ = __turbopack_context__.i("[project]/node_modules/@privy-io/react-auth/dist/esm/SignRequestScreen-BQBgOoh_.mjs [app-client] (ecmascript) <export ae as useWallets>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useSessionKey$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/wallet/hooks/useSessionKey.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/abi/encodeFunctionData.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/unit/parseUnits.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$createWalletClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/clients/createWalletClient.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$transports$2f$custom$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/clients/transports/custom.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$hash$2f$keccak256$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/hash/keccak256.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodePacked$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/abi/encodePacked.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$chains$2f$definitions$2f$baseSepolia$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/chains/definitions/baseSepolia.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$lib$2f$axios$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/axios/lib/axios.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/sonner/dist/index.mjs [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature();
'use client';
;
;
;
;
;
;
;
const BACKEND_URL = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:3001';
const ONE_TAP_PROFIT_ADDRESS = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].env.NEXT_PUBLIC_ONE_TAP_PROFIT_ADDRESS;
const USDC_ADDRESS = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].env.NEXT_PUBLIC_USDC_TOKEN_ADDRESS;
const USDC_ABI = [
    {
        inputs: [
            {
                name: 'spender',
                type: 'address'
            },
            {
                name: 'amount',
                type: 'uint256'
            }
        ],
        name: 'approve',
        outputs: [
            {
                name: '',
                type: 'bool'
            }
        ],
        stateMutability: 'nonpayable',
        type: 'function'
    },
    {
        inputs: [
            {
                name: 'owner',
                type: 'address'
            },
            {
                name: 'spender',
                type: 'address'
            }
        ],
        name: 'allowance',
        outputs: [
            {
                name: '',
                type: 'uint256'
            }
        ],
        stateMutability: 'view',
        type: 'function'
    }
];
const useOneTapProfit = ()=>{
    _s();
    const { user, authenticated } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$usePrivy$2d$DDM76RFl$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__u__as__usePrivy$3e$__["usePrivy"])();
    const { wallets } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"])();
    const [isPlacingBet, setIsPlacingBet] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [activeBets, setActiveBets] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])([]);
    const [isLoadingBets, setIsLoadingBets] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const prevActiveBetsRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])([]);
    const hasInitializedRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(false);
    const embeddedWallet = wallets.find((w)=>w.walletClientType === 'privy');
    const [sessionPnL, setSessionPnL] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(0);
    // Poll for active bets to update status and detect wins
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useOneTapProfit.useEffect": ()=>{
            if (!authenticated || !user || !embeddedWallet) return;
            const intervalId = setInterval({
                "useOneTapProfit.useEffect.intervalId": ()=>{
                    fetchActiveBets();
                }
            }["useOneTapProfit.useEffect.intervalId"], 2000); // Poll every 2 seconds
            return ({
                "useOneTapProfit.useEffect": ()=>clearInterval(intervalId)
            })["useOneTapProfit.useEffect"];
        }
    }["useOneTapProfit.useEffect"], [
        authenticated,
        user,
        embeddedWallet
    ]);
    // Win detection logic
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useOneTapProfit.useEffect": ()=>{
            // Skip first run to avoid false positives on page load
            if (!hasInitializedRef.current) {
                if (activeBets.length > 0) hasInitializedRef.current = true;
                prevActiveBetsRef.current = activeBets;
                return;
            }
            // Find bets that were active but are now gone
            const missingBets = prevActiveBetsRef.current.filter({
                "useOneTapProfit.useEffect.missingBets": (prevBet)=>!activeBets.find({
                        "useOneTapProfit.useEffect.missingBets": (currBet)=>currBet.betId === prevBet.betId
                    }["useOneTapProfit.useEffect.missingBets"])
            }["useOneTapProfit.useEffect.missingBets"]);
            if (missingBets.length > 0) {
                // Check status of missing bets to see if they won
                missingBets.forEach({
                    "useOneTapProfit.useEffect": async (bet)=>{
                        try {
                            const response = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$lib$2f$axios$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].get(`${BACKEND_URL}/api/one-tap/bet/${bet.betId}`);
                            const status = response.data.data.status;
                            if (status === 'WON') {
                                // Play win sound
                                try {
                                    const audio = new Audio('/sounds/win.mp3');
                                    audio.volume = 0.6;
                                    await audio.play();
                                } catch (e) {
                                    console.warn('Win sound failed to play (might be missing file or browser policy):', e);
                                }
                                // Update Session PnL (Profit = Payout - Bet Amount)
                                // Payout = BetAmount * Multiplier / 100
                                const betAmountVal = parseFloat(bet.betAmount);
                                const profit = betAmountVal * bet.multiplier / 100 - betAmountVal;
                                setSessionPnL({
                                    "useOneTapProfit.useEffect": (prev)=>prev + profit
                                }["useOneTapProfit.useEffect"]);
                                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success(`You won! +$${profit.toFixed(2)}`, {
                                    description: `${(bet.multiplier / 100).toFixed(2)}x on ${bet.symbol}`,
                                    position: 'top-center',
                                    duration: 3000
                                });
                            } else if (status === 'LOST') {
                                // Update Session PnL (Loss = Bet Amount)
                                const betAmountVal = parseFloat(bet.betAmount);
                                setSessionPnL({
                                    "useOneTapProfit.useEffect": (prev)=>prev - betAmountVal
                                }["useOneTapProfit.useEffect"]);
                                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error(`You lost $${betAmountVal.toFixed(2)}`, {
                                    description: `Better luck next time on ${bet.symbol}`,
                                    position: 'top-center',
                                    duration: 3000
                                });
                            }
                        } catch (err) {
                            console.error('Failed to check status of finished bet:', err);
                        }
                    }
                }["useOneTapProfit.useEffect"]);
            }
            prevActiveBetsRef.current = activeBets;
        }
    }["useOneTapProfit.useEffect"], [
        activeBets
    ]);
    // Session key hook for gasless trading
    const { sessionKey, isSessionValid, createSession, signWithSession, clearSession, getTimeRemaining } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useSessionKey$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSessionKey"])();
    /**
   * Calculate multiplier for given parameters
   */ const calculateMultiplier = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useOneTapProfit.useCallback[calculateMultiplier]": async (entryPrice, targetPrice, entryTime, targetTime)=>{
            try {
                const response = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$lib$2f$axios$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].post(`${BACKEND_URL}/api/one-tap/calculate-multiplier`, {
                    entryPrice,
                    targetPrice,
                    entryTime,
                    targetTime
                });
                return response.data.data;
            } catch (error) {
                console.error('Failed to calculate multiplier:', error);
                throw error;
            }
        }
    }["useOneTapProfit.useCallback[calculateMultiplier]"], []);
    /**
   * Place bet with session key (fully gasless)
   */ /**
   * Place bet with session key (fully gasless)
   * Can accept sessionKey/signer from arguments (preferred) or use internal state (fallback)
   */ const placeBetWithSession = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useOneTapProfit.useCallback[placeBetWithSession]": async (params, sessionOptions)=>{
            if (!authenticated || !user || !embeddedWallet) {
                throw new Error('Wallet not connected');
            }
            // Use provided session options OR internal hook state
            const activeSessionKey = sessionOptions?.sessionKey || sessionKey;
            const signer = sessionOptions?.sessionSigner || signWithSession;
            // Basic validation check (internal isSessionValid might be stale, so check object existence)
            if (!activeSessionKey || activeSessionKey.expiresAt <= Date.now()) {
                // Fallback to internal check if no options provided
                if (!sessionOptions && !isSessionValid()) {
                    throw new Error('Session key expired or not created. Please enable Binary Trading again.');
                } else if (sessionOptions) {
                    throw new Error('Session key provided is invalid or expired.');
                }
            }
            setIsPlacingBet(true);
            try {
                const userAddress = embeddedWallet.address;
                // Sign bet parameters with session key
                const messageHash = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$hash$2f$keccak256$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["keccak256"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodePacked$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodePacked"])([
                    'address',
                    'string',
                    'uint256',
                    'uint256',
                    'uint256'
                ], [
                    userAddress,
                    params.symbol,
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])(params.betAmount, 6),
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])(params.targetPrice, 8),
                    BigInt(Math.floor(params.targetTime))
                ]));
                const sessionSignature = await signer(messageHash);
                // Call backend endpoint (session validation happens off-chain)
                const response = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$lib$2f$axios$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].post(`${BACKEND_URL}/api/one-tap/place-bet-with-session`, {
                    trader: userAddress,
                    symbol: params.symbol,
                    betAmount: params.betAmount,
                    targetPrice: params.targetPrice,
                    targetTime: params.targetTime,
                    entryPrice: params.entryPrice,
                    entryTime: params.entryTime,
                    sessionSignature
                });
                // Refresh active bets
                await fetchActiveBets();
                return response.data.data;
            } catch (error) {
                console.error('Failed to place bet with session:', error);
                throw error;
            } finally{
                setIsPlacingBet(false);
            }
        }
    }["useOneTapProfit.useCallback[placeBetWithSession]"], [
        authenticated,
        user,
        embeddedWallet,
        isSessionValid,
        createSession,
        signWithSession,
        sessionKey
    ]);
    /**
   * Place a bet (legacy method with user signature)
   */ const placeBet = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useOneTapProfit.useCallback[placeBet]": async (params)=>{
            if (!authenticated || !user || !embeddedWallet) {
                throw new Error('Wallet not connected');
            }
            setIsPlacingBet(true);
            try {
                const ethereumProvider = await embeddedWallet.getEthereumProvider();
                const userAddress = embeddedWallet.address;
                // Create wallet client
                const walletClient = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$createWalletClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createWalletClient"])({
                    account: userAddress,
                    chain: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$chains$2f$definitions$2f$baseSepolia$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["baseSepolia"],
                    transport: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$transports$2f$custom$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["custom"])(ethereumProvider)
                });
                // Fetch nonce from contract
                const nonceData = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFunctionData"])({
                    abi: [
                        {
                            inputs: [
                                {
                                    name: 'trader',
                                    type: 'address'
                                }
                            ],
                            name: 'metaNonces',
                            outputs: [
                                {
                                    name: '',
                                    type: 'uint256'
                                }
                            ],
                            stateMutability: 'view',
                            type: 'function'
                        }
                    ],
                    functionName: 'metaNonces',
                    args: [
                        userAddress
                    ]
                });
                const nonceResult = await ethereumProvider.request({
                    method: 'eth_call',
                    params: [
                        {
                            to: ONE_TAP_PROFIT_ADDRESS,
                            data: nonceData
                        },
                        'latest'
                    ]
                });
                const nonce = BigInt(nonceResult);
                // Create message hash matching contract's expectation:
                // keccak256(abi.encodePacked(trader, symbol, betAmount, targetPrice, targetTime, nonce, contractAddress))
                const messageHash = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$hash$2f$keccak256$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["keccak256"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodePacked$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodePacked"])([
                    'address',
                    'string',
                    'uint256',
                    'uint256',
                    'uint256',
                    'uint256',
                    'address'
                ], [
                    userAddress,
                    params.symbol,
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])(params.betAmount, 6),
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])(params.targetPrice, 8),
                    BigInt(Math.floor(params.targetTime)),
                    nonce,
                    ONE_TAP_PROFIT_ADDRESS
                ]));
                // Sign the message hash
                const signature = await walletClient.signMessage({
                    account: userAddress,
                    message: {
                        raw: messageHash
                    }
                });
                // Check USDC allowance
                const allowanceData = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFunctionData"])({
                    abi: USDC_ABI,
                    functionName: 'allowance',
                    args: [
                        userAddress,
                        ONE_TAP_PROFIT_ADDRESS
                    ]
                });
                const allowanceResult = await ethereumProvider.request({
                    method: 'eth_call',
                    params: [
                        {
                            to: USDC_ADDRESS,
                            data: allowanceData
                        },
                        'latest'
                    ]
                });
                const allowance = BigInt(allowanceResult);
                // Approve infinite USDC if needed (only once)
                if (allowance === 0n) {
                    // Use max uint256 for infinite approval
                    const maxApproval = BigInt('0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff');
                    const approveData = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFunctionData"])({
                        abi: USDC_ABI,
                        functionName: 'approve',
                        args: [
                            ONE_TAP_PROFIT_ADDRESS,
                            maxApproval
                        ]
                    });
                    const approveTxHash = await walletClient.sendTransaction({
                        account: userAddress,
                        to: USDC_ADDRESS,
                        data: approveData
                    });
                    await new Promise({
                        "useOneTapProfit.useCallback[placeBet]": (resolve)=>setTimeout(resolve, 3000)
                    }["useOneTapProfit.useCallback[placeBet]"]);
                }
                // Call backend to place bet
                const response = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$lib$2f$axios$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].post(`${BACKEND_URL}/api/one-tap/place-bet`, {
                    trader: userAddress,
                    symbol: params.symbol,
                    betAmount: params.betAmount,
                    targetPrice: params.targetPrice,
                    targetTime: params.targetTime,
                    entryPrice: params.entryPrice,
                    entryTime: params.entryTime,
                    nonce: nonce.toString(),
                    userSignature: signature
                });
                // Refresh active bets
                await fetchActiveBets();
                return response.data.data;
            } catch (error) {
                console.error('Failed to place bet:', error);
                throw error;
            } finally{
                setIsPlacingBet(false);
            }
        }
    }["useOneTapProfit.useCallback[placeBet]"], [
        authenticated,
        user,
        embeddedWallet
    ]);
    /**
   * Fetch active bets
   */ const fetchActiveBets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useOneTapProfit.useCallback[fetchActiveBets]": async ()=>{
            if (!authenticated || !user || !embeddedWallet) {
                return;
            }
            setIsLoadingBets(true);
            try {
                const userAddress = embeddedWallet.address;
                const response = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$lib$2f$axios$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].get(`${BACKEND_URL}/api/one-tap/bets`, {
                    params: {
                        trader: userAddress,
                        status: 'ACTIVE'
                    }
                });
                setActiveBets(response.data.data || []);
            } catch (error) {
                console.error('Failed to fetch active bets:', error);
            } finally{
                setIsLoadingBets(false);
            }
        }
    }["useOneTapProfit.useCallback[fetchActiveBets]"], [
        authenticated,
        user,
        embeddedWallet
    ]);
    /**
   * Fetch user's bet history
   */ const fetchBetHistory = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useOneTapProfit.useCallback[fetchBetHistory]": async ()=>{
            if (!authenticated || !user || !embeddedWallet) {
                return [];
            }
            try {
                const userAddress = embeddedWallet.address;
                const response = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$lib$2f$axios$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].get(`${BACKEND_URL}/api/one-tap/bets`, {
                    params: {
                        trader: userAddress
                    }
                });
                return response.data.data || [];
            } catch (error) {
                console.error('Failed to fetch bet history:', error);
                return [];
            }
        }
    }["useOneTapProfit.useCallback[fetchBetHistory]"], [
        authenticated,
        user,
        embeddedWallet
    ]);
    /**
   * Get statistics
   */ const fetchStats = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useOneTapProfit.useCallback[fetchStats]": async ()=>{
            try {
                const response = await __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$axios$2f$lib$2f$axios$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].get(`${BACKEND_URL}/api/one-tap/stats`);
                return response.data.data;
            } catch (error) {
                console.error('Failed to fetch stats:', error);
                return null;
            }
        }
    }["useOneTapProfit.useCallback[fetchStats]"], []);
    return {
        placeBet,
        placeBetWithSession,
        calculateMultiplier,
        fetchActiveBets,
        fetchBetHistory,
        fetchStats,
        activeBets,
        isPlacingBet,
        isLoadingBets,
        // Session key info
        sessionKey,
        isSessionValid,
        createSession,
        clearSession,
        sessionTimeRemaining: getTimeRemaining(),
        sessionPnL
    };
};
_s(useOneTapProfit, "+VnvIWTZftpeRUO7aak+GapHqss=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$usePrivy$2d$DDM76RFl$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__u__as__usePrivy$3e$__["usePrivy"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useSessionKey$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSessionKey"]
    ];
});
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/charts/TradingChart.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$MarketContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/contexts/MarketContext.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$TapToTradeContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/contexts/TapToTradeContext.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/constants/markets.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useMarketWebSocket$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/hooks/useMarketWebSocket.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$charts$2f$TradingViewWidget$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/charts/TradingViewWidget.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$charts$2f$PerSecondChart$2f$index$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/charts/PerSecondChart/index.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$charts$2f$ChartHeader$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/charts/ChartHeader.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/lib/marketUtils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useOneTapProfitBetting$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/hooks/useOneTapProfitBetting.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/image.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$useUSDCBalance$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/hooks/data/useUSDCBalance.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$settings$2d$2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Settings2$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/settings-2.js [app-client] (ecmascript) <export default as Settings2>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/dropdown-menu.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/button.tsx [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
const TradingChart = ()=>{
    _s();
    const { activeMarket: contextActiveMarket, setActiveMarket, setCurrentPrice, timeframe } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$MarketContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMarket"])();
    const baseMarkets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "TradingChart.useMemo[baseMarkets]": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ALL_MARKETS"]
    }["TradingChart.useMemo[baseMarkets]"], []);
    const [activeSymbol, setActiveSymbol] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(contextActiveMarket?.symbol || baseMarkets[0].symbol);
    const [isMarketSelectorOpen, setIsMarketSelectorOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const triggerButtonRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(null);
    const tapToTrade = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$TapToTradeContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTapToTrade"])();
    const { placeBetWithSession, isPlacingBet, activeBets, sessionPnL } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useOneTapProfitBetting$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useOneTapProfit"])();
    const { usdcBalance } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$useUSDCBalance$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useUSDCBalance"])();
    // Axis Configuration
    const [axisConfig, setAxisConfig] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])({
        showX: true,
        showY: true,
        ySide: 'right'
    });
    // Set default axis side based on screen width
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "TradingChart.useEffect": ()=>{
            const handleResize = {
                "TradingChart.useEffect.handleResize": ()=>{
                    if (window.innerWidth < 1024) {
                        setAxisConfig({
                            "TradingChart.useEffect.handleResize": (prev)=>({
                                    ...prev,
                                    showX: false,
                                    showY: false
                                })
                        }["TradingChart.useEffect.handleResize"]);
                    } else {
                        setAxisConfig({
                            "TradingChart.useEffect.handleResize": (prev)=>({
                                    ...prev,
                                    ySide: 'right'
                                })
                        }["TradingChart.useEffect.handleResize"]);
                    }
                }
            }["TradingChart.useEffect.handleResize"];
            // Initial check
            handleResize();
            window.addEventListener('resize', handleResize);
            return ({
                "TradingChart.useEffect": ()=>window.removeEventListener('resize', handleResize)
            })["TradingChart.useEffect"];
        }
    }["TradingChart.useEffect"], []);
    const { allPrices, marketDataMap, futuresDataMap, oraclePrices } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useMarketWebSocket$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMarketWebSocket"])(baseMarkets);
    const oracleSymbolsKey = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "TradingChart.useMemo[oracleSymbolsKey]": ()=>Object.keys(oraclePrices || {}).sort().join('|')
    }["TradingChart.useMemo[oracleSymbolsKey]"], [
        oraclePrices
    ]);
    const markets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "TradingChart.useMemo[markets]": ()=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["mergeMarketsWithOracle"])(baseMarkets, Object.keys(oraclePrices || {}))
    }["TradingChart.useMemo[markets]"], [
        baseMarkets,
        oracleSymbolsKey
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "TradingChart.useEffect": ()=>{
            if (contextActiveMarket && contextActiveMarket.symbol !== activeSymbol) {
                setActiveSymbol(contextActiveMarket.symbol);
            }
        }
    }["TradingChart.useEffect"], [
        contextActiveMarket,
        activeSymbol
    ]);
    const activeMarket = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "TradingChart.useMemo[activeMarket]": ()=>markets.find({
                "TradingChart.useMemo[activeMarket]": (m)=>m.symbol === activeSymbol
            }["TradingChart.useMemo[activeMarket]"]) || markets[0]
    }["TradingChart.useMemo[activeMarket]"], [
        markets,
        activeSymbol
    ]);
    const currentMarketData = activeMarket?.binanceSymbol ? marketDataMap[activeMarket.binanceSymbol] : null;
    const currentFuturesData = activeMarket?.binanceSymbol ? futuresDataMap[activeMarket.binanceSymbol] : null;
    const currentOraclePrice = activeMarket ? oraclePrices[activeMarket.symbol] : null;
    // Update context when market changes
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "TradingChart.useEffect": ()=>{
            if (activeMarket) {
                setActiveMarket(activeMarket);
            }
        }
    }["TradingChart.useEffect"], [
        activeMarket,
        setActiveMarket
    ]);
    // Update context when price changes - prioritize Oracle price
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "TradingChart.useEffect": ()=>{
            // Use Oracle price if available, fallback to Binance price
            if (currentOraclePrice?.price) {
                setCurrentPrice(currentOraclePrice.price.toString());
            } else if (currentMarketData?.price) {
                setCurrentPrice(currentMarketData.price);
            }
        }
    }["TradingChart.useEffect"], [
        currentOraclePrice?.price,
        currentMarketData?.price,
        setCurrentPrice
    ]);
    const handleMarketSelect = (symbol)=>{
        const selectedMarket = markets.find((m)=>m.symbol === symbol);
        if (selectedMarket) {
            setActiveSymbol(symbol);
            setActiveMarket(selectedMarket);
        }
        setIsMarketSelectorOpen(false);
    };
    // Handle tap to trade cell click
    const handleTapCellClick = (cellId)=>{
        // Extract cellX and cellY from cellId (format: "cellX,cellY")
        const parts = cellId.split(',');
        if (parts.length === 2) {
            const cellX = parseInt(parts[0]);
            const cellY = parseInt(parts[1]);
            tapToTrade.handleCellClick(cellX, cellY);
        } else {
            console.error('❌ Invalid cellId format:', cellId);
        }
    };
    // derived values for minimal header
    const headerDisplayPrice = currentOraclePrice?.price ?? (currentMarketData?.price ? parseFloat(currentMarketData.price) : 0);
    const headerPriceChange = currentMarketData?.priceChangePercent ? parseFloat(currentMarketData.priceChangePercent) : 0;
    const isHeaderPositive = headerPriceChange >= 0;
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "w-full h-[95vh] flex flex-col bg-trading-dark text-text-primary relative",
        style: {
            borderRadius: '0.5rem'
        },
        children: [
            !tapToTrade.isEnabled ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                style: {
                    flexShrink: 0,
                    flexGrow: 0,
                    borderTopLeftRadius: '0.5rem',
                    borderTopRightRadius: '0.5rem',
                    position: 'relative',
                    zIndex: 10
                },
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$charts$2f$ChartHeader$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                    activeMarket: activeMarket,
                    marketData: currentMarketData,
                    futuresData: currentFuturesData,
                    allPrices: allPrices,
                    marketDataMap: marketDataMap,
                    futuresDataMap: futuresDataMap,
                    oraclePrice: currentOraclePrice,
                    oraclePrices: oraclePrices,
                    onSymbolChangeClick: ()=>setIsMarketSelectorOpen(!isMarketSelectorOpen),
                    isMarketSelectorOpen: isMarketSelectorOpen,
                    onClose: ()=>setIsMarketSelectorOpen(false),
                    markets: markets,
                    onSelect: handleMarketSelect,
                    triggerRef: triggerButtonRef,
                    disabled: tapToTrade.isEnabled
                }, void 0, false, {
                    fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                    lineNumber: 173,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                lineNumber: 163,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0)) : /* Distraction-Free Overlay (Header + PnL) */ /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-start justify-between px-4 py-3 absolute top-0 left-0 right-0 z-20 pointer-events-none",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex flex-col gap-1 pointer-events-auto",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center gap-3",
                                        children: [
                                            activeMarket && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                                src: `${activeMarket.logoUrl || '/icons/usdc.png'}`,
                                                alt: `${activeMarket.symbol}`,
                                                width: 26,
                                                height: 26,
                                                className: "w-8 h-8 rounded-full",
                                                onError: (e)=>{
                                                    const target = e.currentTarget;
                                                    target.style.display = 'none';
                                                }
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                lineNumber: 200,
                                                columnNumber: 19
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "font-bold text-text-primary text-2xl",
                                                children: activeMarket ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatMarketPair"])(activeMarket.symbol) : ''
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                lineNumber: 212,
                                                columnNumber: 17
                                            }, ("TURBOPACK compile-time value", void 0))
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                        lineNumber: 198,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex flex-col gap-1 pt-3",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "flex gap-2",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                        className: "text-background text-sm font-medium",
                                                        children: "Your Balance"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                        lineNumber: 220,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                        className: "w-5 h-5 rounded-full bg-primary hover:bg-primary-hover flex items-center justify-center text-white transition-colors",
                                                        onClick: ()=>{
                                                        /* TODO: Open deposit modal logic  */ },
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                            width: "10",
                                                            height: "10",
                                                            viewBox: "0 0 10 10",
                                                            fill: "none",
                                                            xmlns: "http://www.w3.org/2000/svg",
                                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                                d: "M5 1V9M1 5H9",
                                                                stroke: "currentColor",
                                                                strokeWidth: "1.5",
                                                                strokeLinecap: "round",
                                                                strokeLinejoin: "round"
                                                            }, void 0, false, {
                                                                fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                                lineNumber: 234,
                                                                columnNumber: 23
                                                            }, ("TURBOPACK compile-time value", void 0))
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                            lineNumber: 227,
                                                            columnNumber: 21
                                                        }, ("TURBOPACK compile-time value", void 0))
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                        lineNumber: 221,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0))
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                lineNumber: 219,
                                                columnNumber: 17
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "text-text-primary text-xl font-bold",
                                                children: [
                                                    "$",
                                                    usdcBalance
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                lineNumber: 245,
                                                columnNumber: 17
                                            }, ("TURBOPACK compile-time value", void 0))
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                        lineNumber: 218,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                lineNumber: 197,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex flex-col items-end pointer-events-auto rounded-xl gap-2",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex flex-col items-end -mt-3 py-4 pl-6 rounded-bl-xl",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "font-mono font-bold text-2xl text-text-primary",
                                                children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatDynamicUsd"])(headerDisplayPrice)
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                lineNumber: 252,
                                                columnNumber: 17
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: `font-mono text-base font-semibold ${isHeaderPositive ? 'text-success' : 'text-error'}`,
                                                children: [
                                                    isHeaderPositive ? '+' : '',
                                                    headerPriceChange.toFixed(2),
                                                    "%"
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                lineNumber: 255,
                                                columnNumber: 17
                                            }, ("TURBOPACK compile-time value", void 0))
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                        lineNumber: 251,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenu"], {
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuTrigger"], {
                                                asChild: true,
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                                                    variant: "ghost",
                                                    size: "icon",
                                                    className: "h-8 w-8 bg-black/50 hover:bg-black text-text-secondary rounded-full",
                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$settings$2d$2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Settings2$3e$__["Settings2"], {
                                                        size: 16
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                        lineNumber: 273,
                                                        columnNumber: 21
                                                    }, ("TURBOPACK compile-time value", void 0))
                                                }, void 0, false, {
                                                    fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                    lineNumber: 268,
                                                    columnNumber: 19
                                                }, ("TURBOPACK compile-time value", void 0))
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                lineNumber: 267,
                                                columnNumber: 17
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuContent"], {
                                                align: "end",
                                                className: "w-56 bg-zinc-950 border-zinc-800 text-slate-200",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuLabel"], {
                                                        children: "Chart Settings"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                        lineNumber: 280,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuSeparator"], {}, void 0, false, {
                                                        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                        lineNumber: 281,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuCheckboxItem"], {
                                                        checked: axisConfig.showX,
                                                        onCheckedChange: (checked)=>setAxisConfig((prev)=>({
                                                                    ...prev,
                                                                    showX: checked
                                                                })),
                                                        children: "Show Time Axis (X)"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                        lineNumber: 282,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuCheckboxItem"], {
                                                        checked: axisConfig.showY,
                                                        onCheckedChange: (checked)=>setAxisConfig((prev)=>({
                                                                    ...prev,
                                                                    showY: checked
                                                                })),
                                                        children: "Show Price Axis (Y)"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                        lineNumber: 290,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuSeparator"], {}, void 0, false, {
                                                        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                        lineNumber: 298,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuLabel"], {
                                                        children: "Y-Axis Position"
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                        lineNumber: 299,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuItem"], {
                                                        onClick: ()=>setAxisConfig((prev)=>({
                                                                    ...prev,
                                                                    ySide: 'left'
                                                                })),
                                                        className: "flex justify-between",
                                                        children: [
                                                            "Left ",
                                                            axisConfig.ySide === 'left' && '✓'
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                        lineNumber: 300,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0)),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuItem"], {
                                                        onClick: ()=>setAxisConfig((prev)=>({
                                                                    ...prev,
                                                                    ySide: 'right'
                                                                })),
                                                        className: "flex justify-between",
                                                        children: [
                                                            "Right ",
                                                            axisConfig.ySide === 'right' && '✓'
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                        lineNumber: 306,
                                                        columnNumber: 19
                                                    }, ("TURBOPACK compile-time value", void 0))
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                                lineNumber: 276,
                                                columnNumber: 17
                                            }, ("TURBOPACK compile-time value", void 0))
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                        lineNumber: 266,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                lineNumber: 250,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                        lineNumber: 195,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: `absolute lg:bottom-1/10 bottom-20 pointer-events-auto px-4 py-2 rounded-full flex flex-col items-center gap-2 shadow-lg z-10 transition-all duration-300 ${tapToTrade.tradeMode === 'one-tap-profit' ? 'left-1/2 -translate-x-1/2' // Center for Tap Profit
                         : 'left-4' // Left for Open Position
                        }`,
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-lg font-medium text-text-secondary",
                                children: "Session PnL"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                lineNumber: 325,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: `font-mono font-bold text-4xl ${sessionPnL >= 0 ? 'text-success' : 'text-error'}`,
                                children: [
                                    sessionPnL >= 0 ? '+' : '',
                                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatDynamicUsd"])(sessionPnL)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                                lineNumber: 326,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                        lineNumber: 318,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "trading-chart-container w-full",
                style: {
                    flex: '1 1 auto',
                    minHeight: 0,
                    position: 'relative',
                    zIndex: 1
                },
                children: activeMarket && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                    children: tapToTrade.isEnabled && activeMarket?.binanceSymbol ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$charts$2f$PerSecondChart$2f$index$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                        symbol: activeMarket.symbol,
                        currentPrice: parseFloat(currentOraclePrice?.price?.toString() || currentMarketData?.price || '0'),
                        betAmount: tapToTrade.betAmount,
                        isBinaryTradingEnabled: tapToTrade.isBinaryTradingEnabled,
                        isPlacingBet: isPlacingBet,
                        logoUrl: activeMarket.logoUrl,
                        activeBets: activeBets,
                        tradeMode: tapToTrade.tradeMode,
                        // Pass axis props
                        yAxisSide: axisConfig.ySide,
                        showXAxis: axisConfig.showX,
                        showYAxis: axisConfig.showY,
                        ...tapToTrade.tradeMode === 'open-position' && tapToTrade.gridSession ? {
                            gridIntervalSeconds: tapToTrade.gridSession.gridSizeX * tapToTrade.gridSession.timeframeSeconds,
                            gridPriceStep: parseFloat(tapToTrade.gridSession.referencePrice) / 100000000 * (tapToTrade.gridSession.gridSizeYPercent / 10000),
                            gridAnchorPrice: parseFloat(tapToTrade.gridSession.referencePrice) / 100000000,
                            gridAnchorTime: tapToTrade.gridSession.referenceTime
                        } : {},
                        onCellClick: (targetPrice, targetTime, entryPrice, entryTime)=>{
                            if (tapToTrade.tradeMode === 'one-tap-profit') {
                                placeBetWithSession({
                                    symbol: activeMarket.symbol,
                                    betAmount: tapToTrade.betAmount || '10',
                                    targetPrice: targetPrice.toString(),
                                    targetTime: targetTime,
                                    entryPrice: entryPrice.toString(),
                                    entryTime: entryTime
                                }, {
                                    sessionKey: tapToTrade.sessionKey,
                                    sessionSigner: tapToTrade.signWithSession
                                });
                            } else if (tapToTrade.tradeMode === 'open-position' && tapToTrade.gridSession) {
                                // Open Position mode - map click to grid cell
                                const session = tapToTrade.gridSession;
                                const refPrice = parseFloat(session.referencePrice) / 100000000;
                                const gridPriceStep = refPrice * (session.gridSizeYPercent / 10000);
                                const gridInterval = session.gridSizeX * session.timeframeSeconds;
                                // Calculate cell indices
                                // Cell Y: How many steps from reference price?
                                // Note: targetPrice corresponds to the BOTTOM of the cell in PerSecondChart logic?
                                // No, PerSecondChart logic returns CENTER of cell now?
                                // Wait, I check PerSecondChart handleMouseUp:
                                // const targetPrice = gridBottomPrice + GRID_Y_DOLLARS / 2;
                                // So targetPrice is CENTER.
                                // We need to find the integer index.
                                // cellY = (center - ref) / step
                                // This will result in X.5.
                                // So math.floor(val) should give the index if positive?
                                // Let's use the bottom price explicitly if we can, but we receive targetPrice (center).
                                // Center = ref + cellY * step + step/2
                                // Center - ref = step * (cellY + 0.5)
                                // (Center - ref) / step = cellY + 0.5
                                // cellY = round((Center - ref) / step - 0.5)
                                const priceDiff = targetPrice - refPrice;
                                const cellY = Math.round(priceDiff / gridPriceStep - 0.5);
                                // Cell X: Time steps from reference time
                                // targetTime in PerSecondChart is END of cell.
                                // targetTime = start + duration
                                // start = ref + cellX * duration
                                // targetTime = ref + (cellX + 1) * duration
                                // (targetTime - ref) / duration = cellX + 1
                                // cellX = round((targetTime - ref) / duration - 1)
                                const timeDiff = targetTime - session.referenceTime;
                                const cellX = Math.round(timeDiff / gridInterval - 1);
                                tapToTrade.handleCellClick(cellX, cellY);
                            }
                        }
                    }, `${activeMarket.symbol}-smooth-chart`, false, {
                        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                        lineNumber: 351,
                        columnNumber: 15
                    }, ("TURBOPACK compile-time value", void 0)) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$charts$2f$TradingViewWidget$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                        symbol: activeMarket.tradingViewSymbol
                    }, `${activeMarket.symbol}`, false, {
                        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                        lineNumber: 439,
                        columnNumber: 15
                    }, ("TURBOPACK compile-time value", void 0))
                }, void 0, false)
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
                lineNumber: 339,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/charts/TradingChart.tsx",
        lineNumber: 157,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_s(TradingChart, "UR+e6ajMh5SBYLsvK6+VSDJSLP8=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$MarketContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMarket"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$TapToTradeContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTapToTrade"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useOneTapProfitBetting$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useOneTapProfit"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$useUSDCBalance$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useUSDCBalance"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useMarketWebSocket$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMarketWebSocket"]
    ];
});
_c = TradingChart;
const __TURBOPACK__default__export__ = TradingChart;
var _c;
__turbopack_context__.k.register(_c, "TradingChart");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/hooks/useMarketOrder.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Hooks for Market Order Trading with MarketExecutor
 */ __turbopack_context__.s([
    "calculatePositionCost",
    ()=>calculatePositionCost,
    "useApproveUSDCForTrading",
    ()=>useApproveUSDCForTrading,
    "useCloseMarketPosition",
    ()=>useCloseMarketPosition,
    "useMarketOrderFlow",
    ()=>useMarketOrderFlow,
    "useOpenMarketPosition",
    ()=>useOpenMarketPosition,
    "useRelayClosePosition",
    ()=>useRelayClosePosition,
    "useRelayMarketOrder",
    ()=>useRelayMarketOrder,
    "useTradingFees",
    ()=>useTradingFees
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useReadContract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/wagmi/dist/esm/hooks/useReadContract.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useWaitForTransactionReceipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/wagmi/dist/esm/hooks/useWaitForTransactionReceipt.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/unit/parseUnits.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/abi/encodeFunctionData.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$hash$2f$keccak256$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/hash/keccak256.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodePacked$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/abi/encodePacked.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$chains$2f$definitions$2f$baseSepolia$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/chains/definitions/baseSepolia.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__ = __turbopack_context__.i("[project]/node_modules/@privy-io/react-auth/dist/esm/SignRequestScreen-BQBgOoh_.mjs [app-client] (ecmascript) <export ae as useWallets>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/config/contracts.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contracts$2f$abis$2f$MarketExecutor$2e$json__$28$json$29$__ = __turbopack_context__.i("[project]/src/contracts/abis/MarketExecutor.json (json)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contracts$2f$abis$2f$MockUSDC$2e$json__$28$json$29$__ = __turbopack_context__.i("[project]/src/contracts/abis/MockUSDC.json (json)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$priceApi$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/priceApi.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$relayApi$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/relayApi.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/sonner/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/wallet/hooks/useEmbeddedWallet.ts [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature(), _s1 = __turbopack_context__.k.signature(), _s2 = __turbopack_context__.k.signature(), _s3 = __turbopack_context__.k.signature(), _s4 = __turbopack_context__.k.signature(), _s5 = __turbopack_context__.k.signature(), _s6 = __turbopack_context__.k.signature();
;
;
;
;
;
;
;
;
// Extract ABI array from MarketExecutor JSON (has {abi: [...]} structure)
// MockUSDC is already array format
const MarketExecutorABI = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contracts$2f$abis$2f$MarketExecutor$2e$json__$28$json$29$__["default"].abi;
;
;
;
;
function useApproveUSDCForTrading() {
    _s();
    const { address } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"])();
    const { wallets } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"])();
    const [hash, setHash] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])();
    const [isPending, setIsPending] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const { isLoading: isConfirming, isSuccess } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useWaitForTransactionReceipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useWaitForTransactionReceipt"])({
        hash
    });
    // Check current allowance - with auto-polling every 2 seconds for real-time updates
    const { data: allowance, refetch: refetchAllowance } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useReadContract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useReadContract"])({
        address: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["USDC_ADDRESS"],
        abi: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contracts$2f$abis$2f$MockUSDC$2e$json__$28$json$29$__["default"],
        functionName: 'allowance',
        args: address ? [
            address,
            __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MARKET_EXECUTOR_ADDRESS"]
        ] : undefined,
        query: {
            enabled: !!address,
            refetchInterval: 2000
        }
    });
    const approve = async (amount)=>{
        try {
            setIsPending(true);
            setError(null);
            const embeddedWallet = wallets.find((w)=>w.walletClientType === 'privy' && w.address === address);
            if (!embeddedWallet) {
                throw new Error('Embedded wallet not found');
            }
            await embeddedWallet.switchChain(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$chains$2f$definitions$2f$baseSepolia$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["baseSepolia"].id);
            const walletClient = await embeddedWallet.getEthereumProvider();
            if (!walletClient) {
                throw new Error('Could not get wallet client');
            }
            const amountBigInt = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])(amount, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["USDC_DECIMALS"]);
            const data = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFunctionData"])({
                abi: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contracts$2f$abis$2f$MockUSDC$2e$json__$28$json$29$__["default"],
                functionName: 'approve',
                args: [
                    __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MARKET_EXECUTOR_ADDRESS"],
                    amountBigInt
                ]
            });
            // Estimate gas
            const gasEstimate = await walletClient.request({
                method: 'eth_estimateGas',
                params: [
                    {
                        from: address,
                        to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["USDC_ADDRESS"],
                        data
                    }
                ]
            });
            const gasLimit = BigInt(gasEstimate) * 120n / 100n;
            const txHash = await walletClient.request({
                method: 'eth_sendTransaction',
                params: [
                    {
                        from: address,
                        to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["USDC_ADDRESS"],
                        data,
                        gas: '0x' + gasLimit.toString(16)
                    }
                ]
            });
            setHash(txHash);
        } catch (err) {
            console.error('❌ Approve error:', err);
            setError(err);
        } finally{
            setIsPending(false);
        }
    };
    const hasAllowance = (requiredAmount)=>{
        if (!allowance) return false;
        const required = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])(requiredAmount, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["USDC_DECIMALS"]);
        return allowance >= required;
    };
    // Auto-refetch allowance when approval transaction is confirmed
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useApproveUSDCForTrading.useEffect": ()=>{
            if (isSuccess) {
                refetchAllowance();
            }
        }
    }["useApproveUSDCForTrading.useEffect"], [
        isSuccess,
        refetchAllowance
    ]);
    return {
        approve,
        isPending,
        isConfirming,
        isSuccess,
        error,
        hash,
        allowance: allowance,
        hasAllowance,
        refetchAllowance
    };
}
_s(useApproveUSDCForTrading, "SVZOeoMu3cieR7mB/Ws6QfzS6OY=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useWaitForTransactionReceipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useWaitForTransactionReceipt"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useReadContract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useReadContract"]
    ];
});
function useOpenMarketPosition() {
    _s1();
    const { address } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"])();
    const { wallets } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"])();
    const [isLoadingPrice, setIsLoadingPrice] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [hash, setHash] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])();
    const [isPending, setIsPending] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const { isLoading: isConfirming, isSuccess } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useWaitForTransactionReceipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useWaitForTransactionReceipt"])({
        hash
    });
    const openPosition = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useOpenMarketPosition.useCallback[openPosition]": async (params)=>{
            try {
                setIsLoadingPrice(true);
                setIsPending(true);
                setError(null);
                // Get signed price from backend
                const signedPrice = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$priceApi$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getSignedPrice"])(params.symbol);
                setIsLoadingPrice(false);
                // Parse collateral
                const collateralBigInt = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])(params.collateral, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["USDC_DECIMALS"]);
                // Calculate total fee (trading fee)
                const positionSize = collateralBigInt * BigInt(params.leverage);
                const tradingFee = positionSize * 5n / 10000n; // 0.05% = 5 basis points
                // Total amount needed: collateral + fee
                const totalAmount = collateralBigInt + tradingFee;
                // Find embedded wallet
                const embeddedWallet = wallets.find({
                    "useOpenMarketPosition.useCallback[openPosition].embeddedWallet": (w)=>w.walletClientType === 'privy' && w.address === address
                }["useOpenMarketPosition.useCallback[openPosition].embeddedWallet"]);
                if (!embeddedWallet) {
                    throw new Error('Embedded wallet not found');
                }
                await embeddedWallet.switchChain(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$chains$2f$definitions$2f$baseSepolia$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["baseSepolia"].id);
                const walletClient = await embeddedWallet.getEthereumProvider();
                if (!walletClient) {
                    throw new Error('Could not get wallet client');
                }
                // Encode function call
                const data = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFunctionData"])({
                    abi: MarketExecutorABI,
                    functionName: 'openMarketPosition',
                    args: [
                        params.symbol,
                        params.isLong,
                        collateralBigInt,
                        BigInt(params.leverage),
                        {
                            symbol: params.symbol,
                            price: BigInt(signedPrice.price),
                            timestamp: BigInt(signedPrice.timestamp),
                            signature: signedPrice.signature
                        }
                    ]
                });
                const now = Math.floor(Date.now() / 1000);
                const timeDiff = signedPrice.timestamp - now;
                if (timeDiff > 0) {
                    throw new Error(`Price timestamp is ${timeDiff}s in the future! Backend clock may be wrong.`);
                }
                // Check USDC allowance
                try {
                    const allowanceCheck = await walletClient.request({
                        method: 'eth_call',
                        params: [
                            {
                                to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["USDC_ADDRESS"],
                                data: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFunctionData"])({
                                    abi: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contracts$2f$abis$2f$MockUSDC$2e$json__$28$json$29$__["default"],
                                    functionName: 'allowance',
                                    args: [
                                        address,
                                        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MARKET_EXECUTOR_ADDRESS"]
                                    ]
                                })
                            },
                            'latest'
                        ]
                    });
                    const allowanceBigInt = BigInt(allowanceCheck);
                    if (allowanceBigInt < totalAmount) {
                        throw new Error(`Insufficient USDC allowance. Have: ${allowanceBigInt}, Need: ${totalAmount}. Please approve USDC first.`);
                    }
                } catch (err) {
                    console.error('❌ Allowance check failed:', err);
                    if (err.message?.includes('Insufficient')) throw err;
                }
                // Check USDC balance
                try {
                    const balanceCheck = await walletClient.request({
                        method: 'eth_call',
                        params: [
                            {
                                to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["USDC_ADDRESS"],
                                data: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFunctionData"])({
                                    abi: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contracts$2f$abis$2f$MockUSDC$2e$json__$28$json$29$__["default"],
                                    functionName: 'balanceOf',
                                    args: [
                                        address
                                    ]
                                })
                            },
                            'latest'
                        ]
                    });
                    const balanceBigInt = BigInt(balanceCheck);
                    if (balanceBigInt < totalAmount) {
                        throw new Error(`Insufficient USDC balance. Have: ${balanceBigInt}, Need: ${totalAmount}`);
                    }
                } catch (err) {
                    console.error('❌ Balance check failed:', err);
                    if (err.message?.includes('Insufficient')) throw err;
                }
                // Estimate gas first
                let gasEstimate;
                try {
                    const estimate = await walletClient.request({
                        method: 'eth_estimateGas',
                        params: [
                            {
                                from: address,
                                to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MARKET_EXECUTOR_ADDRESS"],
                                data
                            }
                        ]
                    });
                    gasEstimate = typeof estimate === 'string' ? BigInt(estimate) : estimate;
                } catch (err) {
                    console.error('❌ Gas estimation failed:', err);
                    throw new Error('Transaction will fail. Check: 1) Signature validity 2) Sufficient allowance 3) Contract state');
                }
                // Add 20% buffer to gas estimate
                const gasLimit = gasEstimate * 120n / 100n;
                // Send transaction with gas limit
                const txHash = await walletClient.request({
                    method: 'eth_sendTransaction',
                    params: [
                        {
                            from: address,
                            to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MARKET_EXECUTOR_ADDRESS"],
                            data,
                            gas: '0x' + gasLimit.toString(16)
                        }
                    ]
                });
                setHash(txHash);
            } catch (err) {
                setIsLoadingPrice(false);
                console.error('❌ Error opening position:', err);
                setError(err);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Failed to open position: ' + err.message);
                throw err;
            } finally{
                setIsPending(false);
            }
        }
    }["useOpenMarketPosition.useCallback[openPosition]"], [
        address,
        wallets
    ]);
    return {
        openPosition,
        isPending: isPending || isLoadingPrice,
        isConfirming,
        isSuccess,
        error,
        hash,
        isLoadingPrice
    };
}
_s1(useOpenMarketPosition, "Hyxx9OibJIGR+jQTIifKLhTzqOs=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useWaitForTransactionReceipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useWaitForTransactionReceipt"]
    ];
});
function useCloseMarketPosition() {
    _s2();
    const { address } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"])();
    const { wallets } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"])();
    const [isLoadingPrice, setIsLoadingPrice] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [hash, setHash] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])();
    const [isPending, setIsPending] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const { isLoading: isConfirming, isSuccess } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useWaitForTransactionReceipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useWaitForTransactionReceipt"])({
        hash
    });
    const closePosition = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useCloseMarketPosition.useCallback[closePosition]": async (params)=>{
            try {
                setIsLoadingPrice(true);
                setIsPending(true);
                setError(null);
                if (!address) {
                    throw new Error('Wallet not connected');
                }
                // Find embedded wallet
                const embeddedWallet = wallets.find({
                    "useCloseMarketPosition.useCallback[closePosition].embeddedWallet": (w)=>w.walletClientType === 'privy' && w.address === address
                }["useCloseMarketPosition.useCallback[closePosition].embeddedWallet"]);
                if (!embeddedWallet) {
                    throw new Error('Embedded wallet not found');
                }
                // Get signed price from backend
                const signedPrice = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$priceApi$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getSignedPrice"])(params.symbol);
                setIsLoadingPrice(false);
                await embeddedWallet.switchChain(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$chains$2f$definitions$2f$baseSepolia$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["baseSepolia"].id);
                const walletClient = await embeddedWallet.getEthereumProvider();
                if (!walletClient) {
                    throw new Error('Could not get wallet client');
                }
                // Encode function call
                const data = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFunctionData"])({
                    abi: MarketExecutorABI,
                    functionName: 'closeMarketPosition',
                    args: [
                        params.positionId,
                        {
                            symbol: params.symbol,
                            price: BigInt(signedPrice.price),
                            timestamp: BigInt(signedPrice.timestamp),
                            signature: signedPrice.signature
                        }
                    ]
                });
                // Estimate gas
                const gasEstimate = await walletClient.request({
                    method: 'eth_estimateGas',
                    params: [
                        {
                            from: address,
                            to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MARKET_EXECUTOR_ADDRESS"],
                            data
                        }
                    ]
                });
                const gasLimit = BigInt(gasEstimate) * 120n / 100n; // 20% buffer
                // Send transaction (user pays gas)
                const txHash = await walletClient.request({
                    method: 'eth_sendTransaction',
                    params: [
                        {
                            from: address,
                            to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MARKET_EXECUTOR_ADDRESS"],
                            data,
                            gas: '0x' + gasLimit.toString(16)
                        }
                    ]
                });
                setHash(txHash);
            } catch (err) {
                setIsLoadingPrice(false);
                console.error('\u274c Error closing position:', err);
                setError(err);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Failed to close position: ' + err.message);
                throw err;
            } finally{
                setIsPending(false);
            }
        }
    }["useCloseMarketPosition.useCallback[closePosition]"], [
        address,
        wallets
    ]);
    return {
        closePosition,
        isPending: isPending || isLoadingPrice,
        isConfirming,
        isSuccess,
        error,
        hash,
        isLoadingPrice
    };
}
_s2(useCloseMarketPosition, "OofELyWMWur9YhiR0LhospFtRLg=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useWaitForTransactionReceipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useWaitForTransactionReceipt"]
    ];
});
function useTradingFees() {
    _s3();
    const { data, isLoading } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useReadContract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useReadContract"])({
        address: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MARKET_EXECUTOR_ADDRESS"],
        abi: MarketExecutorABI,
        functionName: 'tradingFeeBps'
    });
    const tradingFeeBps = data;
    return {
        tradingFeeBps,
        tradingFeePercent: tradingFeeBps ? Number(tradingFeeBps) / 100 : 0.05,
        isLoading
    };
}
_s3(useTradingFees, "AiEGAHhrbmbN/yqRueTkwsegcXk=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useReadContract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useReadContract"]
    ];
});
function calculatePositionCost(collateralUsd, leverage, tradingFeeBps = 5) {
    try {
        const collateral = parseFloat(collateralUsd);
        if (isNaN(collateral) || collateral <= 0) {
            return {
                totalCost: '0',
                tradingFee: '0',
                positionSize: '0'
            };
        }
        const positionSize = collateral * leverage;
        const tradingFee = positionSize * tradingFeeBps / 100000;
        const totalCost = collateral + tradingFee;
        return {
            totalCost: totalCost.toFixed(6),
            tradingFee: tradingFee.toFixed(6),
            positionSize: positionSize.toFixed(2)
        };
    } catch (error) {
        console.error('Error calculating position cost:', error);
        return {
            totalCost: '0',
            tradingFee: '0',
            positionSize: '0'
        };
    }
}
function useMarketOrderFlow() {
    _s4();
    const { approve, hasAllowance, isSuccess: isApproveSuccess, isPending: isApprovePending, refetchAllowance } = useApproveUSDCForTrading();
    const { openPosition, isSuccess: isOpenSuccess, isPending: isOpenPending, hash: openHash, error: openError } = useOpenMarketPosition();
    const [step, setStep] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('idle');
    const [pendingParams, setPendingParams] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    /**
   * Execute full flow: check allowance -> approve if needed -> open position
   */ const executeMarketOrder = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useMarketOrderFlow.useCallback[executeMarketOrder]": async (params)=>{
            try {
                setStep('idle');
                setPendingParams(params); // Save params for retry after approval
                // Calculate total amount needed
                const { totalCost } = calculatePositionCost(params.collateral, params.leverage);
                // Check if allowance is sufficient
                if (!hasAllowance(totalCost)) {
                    setStep('approving');
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].loading('Approving USDC...', {
                        id: 'market-order'
                    });
                    await approve(totalCost);
                    // Wait for approval - will auto-continue via useEffect
                    return;
                }
                // Open position
                setStep('opening');
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].loading('Opening position...', {
                    id: 'market-order'
                });
                await openPosition(params);
                setPendingParams(null); // Clear after successful open
            } catch (error) {
                setStep('error');
                setPendingParams(null);
                console.error('Error executing market order:', error);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Failed to execute market order', {
                    id: 'market-order'
                });
            }
        }
    }["useMarketOrderFlow.useCallback[executeMarketOrder]"], [
        approve,
        hasAllowance,
        openPosition
    ]);
    // Handle approval success - auto-continue to open position
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useMarketOrderFlow.useEffect": ()=>{
            if (isApproveSuccess && step === 'approving' && pendingParams) {
                refetchAllowance();
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success('USDC approved! Opening position...', {
                    id: 'market-order'
                });
                // Continue with opening position
                setStep('opening');
                openPosition(pendingParams).then({
                    "useMarketOrderFlow.useEffect": ()=>{
                        setPendingParams(null);
                    }
                }["useMarketOrderFlow.useEffect"]).catch({
                    "useMarketOrderFlow.useEffect": (err)=>{
                        console.error('Error opening position after approval:', err);
                        setStep('error');
                        setPendingParams(null);
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Failed to open position', {
                            id: 'market-order'
                        });
                    }
                }["useMarketOrderFlow.useEffect"]);
            }
        }
    }["useMarketOrderFlow.useEffect"], [
        isApproveSuccess,
        step,
        pendingParams,
        refetchAllowance,
        openPosition
    ]);
    // Handle open success
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useMarketOrderFlow.useEffect": ()=>{
            if (isOpenSuccess && step === 'opening') {
                setStep('success');
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success('Position opened successfully!', {
                    id: 'market-order'
                });
            }
        }
    }["useMarketOrderFlow.useEffect"], [
        isOpenSuccess,
        step
    ]);
    // Handle open error
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useMarketOrderFlow.useEffect": ()=>{
            if (openError && step === 'opening') {
                setStep('error');
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Failed to open position', {
                    id: 'market-order'
                });
            }
        }
    }["useMarketOrderFlow.useEffect"], [
        openError,
        step
    ]);
    return {
        executeMarketOrder,
        step,
        isProcessing: isApprovePending || isOpenPending,
        openHash,
        openError
    };
}
_s4(useMarketOrderFlow, "wJ81tf2PSSlVl9IvDoYYQwZYjXs=", false, function() {
    return [
        useApproveUSDCForTrading,
        useOpenMarketPosition
    ];
});
function useRelayMarketOrder() {
    _s5();
    const { address } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"])();
    const { wallets } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"])();
    const [hash, setHash] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])();
    const [isPending, setIsPending] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [isSuccess, setIsSuccess] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [usdcCharged, setUsdcCharged] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('0');
    const [metaNonce, setMetaNonce] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(0n);
    const [positionId, setPositionId] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])();
    const openPositionGasless = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useRelayMarketOrder.useCallback[openPositionGasless]": async (params)=>{
            try {
                setIsPending(true);
                setError(null);
                setIsSuccess(false);
                if (!address) {
                    throw new Error('Wallet not connected');
                }
                // Find embedded wallet
                const embeddedWallet = wallets.find({
                    "useRelayMarketOrder.useCallback[openPositionGasless].embeddedWallet": (w)=>w.walletClientType === 'privy' && w.address === address
                }["useRelayMarketOrder.useCallback[openPositionGasless].embeddedWallet"]);
                if (!embeddedWallet) {
                    throw new Error('Embedded wallet not found');
                }
                await embeddedWallet.switchChain(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$chains$2f$definitions$2f$baseSepolia$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["baseSepolia"].id);
                const walletClient = await embeddedWallet.getEthereumProvider();
                if (!walletClient) {
                    throw new Error('Could not get wallet client');
                }
                // Get signed price from backend
                const signedPrice = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$priceApi$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getSignedPrice"])(params.symbol);
                // Parse collateral
                const collateralBigInt = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])(params.collateral, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["USDC_DECIMALS"]);
                // Fetch current nonce for this user from contract (ALWAYS fetch fresh nonce!)
                let currentNonce;
                try {
                    const nonceData = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFunctionData"])({
                        abi: MarketExecutorABI,
                        functionName: 'metaNonces',
                        args: [
                            address
                        ]
                    });
                    const nonceResult = await walletClient.request({
                        method: 'eth_call',
                        params: [
                            {
                                to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MARKET_EXECUTOR_ADDRESS"],
                                data: nonceData
                            },
                            'latest'
                        ]
                    });
                    currentNonce = BigInt(nonceResult);
                    setMetaNonce(currentNonce);
                } catch (err) {
                    console.error('❌ Error fetching nonce:', err);
                    throw new Error('Failed to fetch nonce from contract');
                }
                // Create message to sign (must match contract's message format)
                const messageHash = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$hash$2f$keccak256$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["keccak256"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodePacked$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodePacked"])([
                    'address',
                    'string',
                    'bool',
                    'uint256',
                    'uint256',
                    'uint256',
                    'address'
                ], [
                    address,
                    params.symbol,
                    params.isLong,
                    collateralBigInt,
                    BigInt(params.leverage),
                    currentNonce,
                    __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MARKET_EXECUTOR_ADDRESS"]
                ]));
                // Request signature from user
                const userSignature = await walletClient.request({
                    method: 'personal_sign',
                    params: [
                        messageHash,
                        address
                    ]
                });
                // Encode meta-transaction function call
                const data = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFunctionData"])({
                    abi: MarketExecutorABI,
                    functionName: 'openMarketPositionMeta',
                    args: [
                        address,
                        params.symbol,
                        params.isLong,
                        collateralBigInt,
                        BigInt(params.leverage),
                        {
                            symbol: params.symbol,
                            price: BigInt(signedPrice.price),
                            timestamp: BigInt(signedPrice.timestamp),
                            signature: signedPrice.signature
                        },
                        userSignature
                    ]
                });
                // Relay transaction through backend (gasless!)
                const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$relayApi$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["relayTransaction"])({
                    to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MARKET_EXECUTOR_ADDRESS"],
                    data,
                    userAddress: address
                });
                setHash(result.txHash);
                setUsdcCharged(result.usdcChargedFormatted);
                // Note: positionId needs to be extracted from transaction receipt or logs
                // For now, we'll set to 0 as a placeholder
                setPositionId(0);
                setIsSuccess(true);
            // Don't show toast here - let the component handle it with more details
            } catch (err) {
                console.error('❌ Error opening position (gasless):', err);
                setError(err);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error(err.message || 'Failed to open position');
                throw err;
            } finally{
                setIsPending(false);
            }
        }
    }["useRelayMarketOrder.useCallback[openPositionGasless]"], [
        address,
        wallets
    ]);
    return {
        openPositionGasless,
        isPending,
        isSuccess,
        error,
        hash,
        usdcCharged,
        positionId
    };
}
_s5(useRelayMarketOrder, "Z+ajOA4N53YOWHxyg+XrNWaevrk=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"]
    ];
});
function useRelayClosePosition() {
    _s6();
    const { address } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"])();
    const { wallets } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"])();
    const [hash, setHash] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])();
    const [isPending, setIsPending] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [isSuccess, setIsSuccess] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const closePositionGasless = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useRelayClosePosition.useCallback[closePositionGasless]": async (params)=>{
            try {
                setIsPending(true);
                setError(null);
                setIsSuccess(false);
                if (!address) {
                    throw new Error('Wallet not connected');
                }
                // Find embedded wallet
                const embeddedWallet = wallets.find({
                    "useRelayClosePosition.useCallback[closePositionGasless].embeddedWallet": (w)=>w.walletClientType === 'privy' && w.address === address
                }["useRelayClosePosition.useCallback[closePositionGasless].embeddedWallet"]);
                if (!embeddedWallet) {
                    throw new Error('Embedded wallet not found');
                }
                await embeddedWallet.switchChain(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$chains$2f$definitions$2f$baseSepolia$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["baseSepolia"].id);
                const walletClient = await embeddedWallet.getEthereumProvider();
                if (!walletClient) {
                    throw new Error('Could not get wallet client');
                }
                // Get signed price from backend
                const signedPrice = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$priceApi$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getSignedPrice"])(params.symbol);
                // Fetch current nonce for this user from contract (ALWAYS fetch fresh nonce!)
                let currentNonce;
                try {
                    const nonceData = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFunctionData"])({
                        abi: MarketExecutorABI,
                        functionName: 'metaNonces',
                        args: [
                            address
                        ]
                    });
                    const nonceResult = await walletClient.request({
                        method: 'eth_call',
                        params: [
                            {
                                to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MARKET_EXECUTOR_ADDRESS"],
                                data: nonceData
                            },
                            'latest'
                        ]
                    });
                    currentNonce = BigInt(nonceResult);
                } catch (err) {
                    console.error('\u274c Error fetching nonce:', err);
                    throw new Error('Failed to fetch nonce from contract');
                }
                // Create message to sign (must match contract's message format for closeMarketPositionMeta)
                const packedData = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodePacked$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodePacked"])([
                    'address',
                    'uint256',
                    'uint256',
                    'address'
                ], [
                    address,
                    params.positionId,
                    currentNonce,
                    __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MARKET_EXECUTOR_ADDRESS"]
                ]);
                const messageHash = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$hash$2f$keccak256$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["keccak256"])(packedData);
                // Request signature from user
                const userSignature = await walletClient.request({
                    method: 'personal_sign',
                    params: [
                        messageHash,
                        address
                    ]
                });
                // Encode close position meta function call
                const data = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFunctionData"])({
                    abi: MarketExecutorABI,
                    functionName: 'closeMarketPositionMeta',
                    args: [
                        address,
                        params.positionId,
                        {
                            symbol: params.symbol,
                            price: BigInt(signedPrice.price),
                            timestamp: BigInt(signedPrice.timestamp),
                            signature: signedPrice.signature
                        },
                        userSignature
                    ]
                });
                // Relay transaction through backend (gasless!)
                const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$relayApi$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["relayTransaction"])({
                    to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MARKET_EXECUTOR_ADDRESS"],
                    data,
                    userAddress: address
                });
                setHash(result.txHash);
                setIsSuccess(true);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success(`Position closed successfully!`, {
                    duration: 5000
                });
            } catch (err) {
                console.error('\u274c Error closing position (gasless):', err);
                setError(err);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error(err.message || 'Failed to close position');
                throw err;
            } finally{
                setIsPending(false);
            }
        }
    }["useRelayClosePosition.useCallback[closePositionGasless]"], [
        address,
        wallets
    ]);
    return {
        closePositionGasless,
        isPending,
        isSuccess,
        error,
        hash
    };
}
_s6(useRelayClosePosition, "LMEaM2cB0w4Y7kuIXx8RI2mGHtg=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"]
    ];
});
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/hooks/useTPSL.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useAllTPSL",
    ()=>useAllTPSL,
    "useTPSL",
    ()=>useTPSL,
    "useTPSLConfig",
    ()=>useTPSLConfig
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/config/contracts.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/sonner/dist/index.mjs [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature(), _s1 = __turbopack_context__.k.signature();
;
;
;
function useTPSL() {
    _s();
    const [isPending, setIsPending] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    /**
   * Set or update TP/SL for a position
   */ const setTPSL = async (request)=>{
        setIsPending(true);
        setError(null);
        try {
            const response = await fetch(`${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BACKEND_API_URL"]}/api/tpsl/set`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(request)
            });
            const data = await response.json();
            if (!response.ok || !data.success) {
                throw new Error(data.error || 'Failed to set TP/SL');
            }
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success('✅ TP/SL saved successfully!');
            return true;
        } catch (err) {
            const errorMsg = err.message || 'Failed to set TP/SL';
            setError(errorMsg);
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error(errorMsg);
            return false;
        } finally{
            setIsPending(false);
        }
    };
    /**
   * Get TP/SL config for a position
   */ const getTPSL = async (positionId)=>{
        try {
            const response = await fetch(`${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BACKEND_API_URL"]}/api/tpsl/${positionId}`);
            const data = await response.json();
            if (!response.ok || !data.success) {
                return null;
            }
            return data.data;
        } catch (err) {
            console.error('Error fetching TP/SL:', err);
            return null;
        }
    };
    /**
   * Delete TP/SL config for a position
   */ const deleteTPSL = async (positionId, trader)=>{
        setIsPending(true);
        setError(null);
        try {
            const response = await fetch(`${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BACKEND_API_URL"]}/api/tpsl/${positionId}`, {
                method: 'DELETE',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    trader
                })
            });
            const data = await response.json();
            if (!response.ok || !data.success) {
                throw new Error(data.error || 'Failed to delete TP/SL');
            }
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success('TP/SL removed');
            return true;
        } catch (err) {
            const errorMsg = err.message || 'Failed to delete TP/SL';
            setError(errorMsg);
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error(errorMsg);
            return false;
        } finally{
            setIsPending(false);
        }
    };
    return {
        setTPSL,
        getTPSL,
        deleteTPSL,
        isPending,
        error
    };
}
_s(useTPSL, "Ev1YlNtpLYlvRfLNUmcXUL3JlwY=");
function useAllTPSL() {
    _s1();
    // This is now just a wrapper for backward compatibility
    // Real implementation is in TPSLContext
    console.warn('useAllTPSL is deprecated. Use useTPSLContext from TPSLContext instead.');
    const [configs, setConfigs] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])({});
    const [isLoading, setIsLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    return {
        configs,
        isLoading,
        refresh: async ()=>{}
    };
}
_s1(useAllTPSL, "83/uyk15f/PNpm7uehjrp8uIBoc=");
function useTPSLConfig(positionId) {
    // Simple non-context version for components that don't have context yet
    // Returns empty config - components should migrate to use TPSLContext
    return {
        config: null,
        isLoading: false,
        refresh: ()=>{}
    };
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/utils/formatUtils.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Format utilities for order panel components
 */ __turbopack_context__.s([
    "formatLeverage",
    ()=>formatLeverage,
    "formatPrice",
    ()=>formatPrice,
    "formatTokenAmount",
    ()=>formatTokenAmount
]);
const formatPrice = (price)=>{
    if (isNaN(price) || price === 0) return '$0.00';
    return new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD',
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
    }).format(price);
};
const formatTokenAmount = (amount)=>{
    if (isNaN(amount) || amount === 0) return '0.0';
    return amount.toFixed(6);
};
const formatLeverage = (lev)=>{
    return lev.toFixed(1);
};
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/components/CollateralInput.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "CollateralInput",
    ()=>CollateralInput
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/button.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$utils$2f$formatUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/utils/formatUtils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/image.js [app-client] (ecmascript)");
;
;
;
;
const CollateralInput = ({ value, onChange, balance, isLoadingBalance = false, onMaxClick, label = 'Collateral', disabled = false, tokenSymbol = 'USDC', tokenIcon = '/icons/usdc.png' })=>{
    const usdValue = value ? parseFloat(value) : 0;
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: `bg-trading-surface border border-border-default rounded-lg p-3 grid ${disabled ? 'opacity-50 pointer-events-none' : ''}`,
        children: [
            label && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                className: "text-xs text-text-secondary mb-2 block",
                children: label
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/components/CollateralInput.tsx",
                lineNumber: 37,
                columnNumber: 17
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex justify-between items-center mb-2",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                        type: "text",
                        placeholder: "0.0",
                        value: value,
                        onChange: onChange,
                        disabled: disabled,
                        className: "bg-transparent text-2xl text-text-primary outline-none disabled:cursor-not-allowed placeholder-text-muted flex-1 w-full min-w-0"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/CollateralInput.tsx",
                        lineNumber: 40,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-center gap-2 shrink-0 ml-2",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                src: tokenIcon,
                                alt: tokenSymbol,
                                width: 28,
                                height: 28,
                                className: "rounded-full",
                                onError: (e)=>{
                                    const target = e.currentTarget;
                                    target.style.display = 'none';
                                }
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/components/CollateralInput.tsx",
                                lineNumber: 49,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "font-medium text-text-primary",
                                children: tokenSymbol
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/components/CollateralInput.tsx",
                                lineNumber: 60,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/CollateralInput.tsx",
                        lineNumber: 48,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/components/CollateralInput.tsx",
                lineNumber: 39,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex justify-between items-center text-xs",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-text-muted",
                        children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$utils$2f$formatUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatPrice"])(usdValue)
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/CollateralInput.tsx",
                        lineNumber: 65,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-center gap-2 max-w-[60%] justify-end",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-text-muted truncate",
                                children: isLoadingBalance ? 'Loading...' : `${balance} ${tokenSymbol}`
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/components/CollateralInput.tsx",
                                lineNumber: 67,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                                onClick: onMaxClick,
                                disabled: disabled,
                                size: "sm",
                                className: "h-6 px-2 text-xs text-white",
                                children: "Max"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/components/CollateralInput.tsx",
                                lineNumber: 70,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/CollateralInput.tsx",
                        lineNumber: 66,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/components/CollateralInput.tsx",
                lineNumber: 64,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/order-panel/components/CollateralInput.tsx",
        lineNumber: 32,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_c = CollateralInput;
var _c;
__turbopack_context__.k.register(_c, "CollateralInput");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/utils/leverageUtils.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Leverage calculation utilities for order panel components
 */ __turbopack_context__.s([
    "LEVERAGE_MARKERS",
    ()=>LEVERAGE_MARKERS,
    "generateLeverageValues",
    ()=>generateLeverageValues,
    "getCurrentSliderIndex",
    ()=>getCurrentSliderIndex
]);
const LEVERAGE_MARKERS = [
    1,
    2,
    5,
    10,
    25,
    50,
    100
];
const generateLeverageValues = ()=>{
    const values = [];
    for(let i = 0; i < LEVERAGE_MARKERS.length - 1; i++){
        const start = LEVERAGE_MARKERS[i];
        const end = LEVERAGE_MARKERS[i + 1];
        const step = (end - start) / 10;
        for(let j = 0; j < 10; j++){
            const value = start + step * j;
            values.push(Number(value.toFixed(2)));
        }
    }
    values.push(LEVERAGE_MARKERS[LEVERAGE_MARKERS.length - 1]);
    return values;
};
const getCurrentSliderIndex = (leverage, leverageValues)=>{
    let closestIndex = 0;
    let minDiff = Math.abs(leverageValues[0] - leverage);
    for(let i = 1; i < leverageValues.length; i++){
        const diff = Math.abs(leverageValues[i] - leverage);
        if (diff < minDiff) {
            minDiff = diff;
            closestIndex = i;
        }
    }
    return closestIndex;
};
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/components/LeverageSelector.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "LeverageSelector",
    ()=>LeverageSelector
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$slider$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/slider.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/input.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$utils$2f$leverageUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/utils/leverageUtils.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
;
;
;
;
const LeverageSelector = ({ leverage, onLeverageChange, disabled = false, markers = [
    1,
    2,
    5,
    10,
    25,
    50,
    100
] })=>{
    _s();
    const [leverageInput, setLeverageInput] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(leverage.toFixed(1));
    // Memoize leverage values to avoid recalculation
    const leverageValues = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].useMemo({
        "LeverageSelector.useMemo[leverageValues]": ()=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$utils$2f$leverageUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["generateLeverageValues"])()
    }["LeverageSelector.useMemo[leverageValues]"], []);
    const maxSliderValue = leverageValues.length - 1;
    const currentIndex = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$utils$2f$leverageUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getCurrentSliderIndex"])(leverage, leverageValues);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "LeverageSelector.useEffect": ()=>{
            if (!document.activeElement?.classList.contains('leverage-input')) {
                setLeverageInput(leverage.toFixed(1));
            }
        }
    }["LeverageSelector.useEffect"], [
        leverage
    ]);
    const handleSliderChange = (value)=>{
        const index = value[0];
        const newValue = leverageValues[index];
        onLeverageChange(newValue);
        setLeverageInput(newValue.toFixed(1));
    };
    const handleInputChange = (e)=>{
        const value = e.target.value;
        if (value === '' || /^\d*\.?\d{0,1}$/.test(value)) {
            setLeverageInput(value);
            if (value !== '' && value !== '.') {
                const numValue = parseFloat(value);
                if (!isNaN(numValue) && numValue >= 0.1 && numValue <= 100) {
                    onLeverageChange(numValue);
                }
            }
        }
    };
    const handleInputBlur = ()=>{
        if (leverageInput === '' || leverageInput === '.') {
            setLeverageInput('1.0');
            onLeverageChange(1);
        } else {
            setLeverageInput(leverage.toFixed(1));
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: disabled ? 'opacity-50 pointer-events-none' : '',
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                className: "text-xs text-text-secondary mb-2 block",
                children: "Leverage"
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/components/LeverageSelector.tsx",
                lineNumber: 65,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex items-center gap-6",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex-1 relative pt-2 pb-6",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$slider$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Slider"], {
                                defaultValue: [
                                    currentIndex
                                ],
                                value: [
                                    currentIndex
                                ],
                                max: maxSliderValue,
                                step: 1,
                                onValueChange: handleSliderChange,
                                disabled: disabled,
                                className: "z-10 relative"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/components/LeverageSelector.tsx",
                                lineNumber: 68,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "absolute top-full -mt-4 left-0 right-0 h-4",
                                children: markers.map((marker, index)=>{
                                    const markerIndex = leverageValues.findIndex((v)=>Math.abs(v - marker) < 0.01);
                                    const position = markerIndex / maxSliderValue * 100;
                                    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "absolute text-[10px] text-text-muted font-medium transform -translate-x-1/2",
                                        style: {
                                            left: `${position}%`
                                        },
                                        children: [
                                            marker < 1 ? marker.toFixed(1) : marker,
                                            "x"
                                        ]
                                    }, index, true, {
                                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/LeverageSelector.tsx",
                                        lineNumber: 83,
                                        columnNumber: 17
                                    }, ("TURBOPACK compile-time value", void 0));
                                })
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/components/LeverageSelector.tsx",
                                lineNumber: 78,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/LeverageSelector.tsx",
                        lineNumber: 67,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "bg-trading-elevated rounded-lg py-1 min-w-[65px] flex items-center justify-center gap-1 border border-border-default",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Input"], {
                                type: "text",
                                value: leverageInput,
                                onChange: handleInputChange,
                                onBlur: handleInputBlur,
                                disabled: disabled,
                                className: "leverage-input h-7 bg-transparent text-sm font-semibold text-text-primary border-none p-0 w-10 text-right focus-visible:ring-0"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/components/LeverageSelector.tsx",
                                lineNumber: 99,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-sm font-semibold text-text-primary",
                                children: "x"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/components/LeverageSelector.tsx",
                                lineNumber: 107,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/LeverageSelector.tsx",
                        lineNumber: 98,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/components/LeverageSelector.tsx",
                lineNumber: 66,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/order-panel/components/LeverageSelector.tsx",
        lineNumber: 64,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_s(LeverageSelector, "i2T16U+9rZU9l36+1viDxy/3oEE=");
_c = LeverageSelector;
var _c;
__turbopack_context__.k.register(_c, "LeverageSelector");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "MarketSelector",
    ()=>MarketSelector
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$star$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Star$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/star.js [app-client] (ecmascript) <export default as Star>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/constants/markets.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/lib/marketUtils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/image.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/command.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$popover$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/popover.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/button.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/utils.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
;
;
;
;
;
;
;
const MarketSelector = ({ value, onSelect, disabled })=>{
    _s();
    const [open, setOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [favorites, setFavorites] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(new Set());
    const toggleFavorite = (symbol, e)=>{
        e.stopPropagation();
        e.preventDefault();
        setFavorites((prev)=>{
            const newFavorites = new Set(prev);
            if (newFavorites.has(symbol)) {
                newFavorites.delete(symbol);
            } else {
                newFavorites.add(symbol);
            }
            return newFavorites;
        });
    };
    // Sort markets: favorites first, then alphabetically
    const sortedMarkets = [
        ...__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ALL_MARKETS"]
    ].sort((a, b)=>{
        const aIsFav = favorites.has(a.symbol);
        const bIsFav = favorites.has(b.symbol);
        if (aIsFav && !bIsFav) return -1;
        if (!aIsFav && bIsFav) return 1;
        return a.symbol.localeCompare(b.symbol);
    });
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$popover$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Popover"], {
        open: open,
        onOpenChange: setOpen,
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$popover$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PopoverTrigger"], {
                asChild: true,
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                    role: "combobox",
                    disabled: disabled,
                    "aria-expanded": open,
                    className: `w-full justify-between bg-trading-surface text-text-primary px-3 py-3 hover:bg-trading-surface hover:text-text-primary border border-border-default rounded-lg shadow-none h-auto ${disabled ? 'opacity-50 pointer-events-none' : ''}`,
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex gap-3",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                    className: "text-xs text-text-secondary sblock",
                                    children: "Market"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                                    lineNumber: 74,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                    width: "15",
                                    height: "15",
                                    viewBox: "0 0 15 15",
                                    fill: "none",
                                    xmlns: "http://www.w3.org/2000/svg",
                                    className: "h-4 w-4 shrink-0 opacity-50",
                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                        d: "M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.26618 11.9026 7.38064 11.95 7.49999 11.95C7.61933 11.95 7.73379 11.9026 7.81819 11.8182L10.0682 9.56819Z",
                                        fill: "currentColor",
                                        fillRule: "evenodd",
                                        clipRule: "evenodd"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                                        lineNumber: 83,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                                    lineNumber: 75,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                            lineNumber: 73,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        value ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex items-center gap-3",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                    src: value.logoUrl || '/icons/usdc.png',
                                    alt: value.symbol,
                                    width: 24,
                                    height: 24,
                                    className: "rounded-full"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                                    lineNumber: 94,
                                    columnNumber: 15
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "text-lg text-text-primary",
                                    children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatMarketPair"])(value.symbol)
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                                    lineNumber: 101,
                                    columnNumber: 15
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                            lineNumber: 93,
                            columnNumber: 13
                        }, ("TURBOPACK compile-time value", void 0)) : 'Select market...'
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                    lineNumber: 65,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                lineNumber: 64,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$popover$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PopoverContent"], {
                className: "w-[300px] p-0 bg-trading-surface border-border-default",
                align: "start",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Command"], {
                    className: "bg-trading-surface p-0",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CommandInput"], {
                            placeholder: "Search market...",
                            className: "text-text-primary"
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                            lineNumber: 113,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CommandList"], {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CommandEmpty"], {
                                    children: "No market found."
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                                    lineNumber: 115,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CommandGroup"], {
                                    children: sortedMarkets.map((market)=>{
                                        const isFavorite = favorites.has(market.symbol);
                                        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CommandItem"], {
                                            value: market.symbol,
                                            onSelect: ()=>{
                                                onSelect(market);
                                                setOpen(false);
                                            },
                                            className: "flex items-center justify-between text-text-primary hover:bg-trading-elevated",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "flex items-center gap-3",
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                                            src: market.logoUrl || '/icons/usdc.png',
                                                            alt: market.symbol,
                                                            width: 24,
                                                            height: 24,
                                                            className: "rounded-full"
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                                                            lineNumber: 131,
                                                            columnNumber: 23
                                                        }, ("TURBOPACK compile-time value", void 0)),
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                            className: "text-lg",
                                                            children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatMarketPair"])(market.symbol)
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                                                            lineNumber: 138,
                                                            columnNumber: 23
                                                        }, ("TURBOPACK compile-time value", void 0))
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                                                    lineNumber: 130,
                                                    columnNumber: 21
                                                }, ("TURBOPACK compile-time value", void 0)),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                    onClick: (e)=>toggleFavorite(market.symbol, e),
                                                    className: "p-1 hover:bg-trading-bg rounded transition-colors",
                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$star$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Star$3e$__["Star"], {
                                                        size: 14,
                                                        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])('transition-colors', isFavorite ? 'fill-yellow-400 text-yellow-400' : 'text-text-muted')
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                                                        lineNumber: 144,
                                                        columnNumber: 23
                                                    }, ("TURBOPACK compile-time value", void 0))
                                                }, void 0, false, {
                                                    fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                                                    lineNumber: 140,
                                                    columnNumber: 21
                                                }, ("TURBOPACK compile-time value", void 0))
                                            ]
                                        }, market.symbol, true, {
                                            fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                                            lineNumber: 121,
                                            columnNumber: 19
                                        }, ("TURBOPACK compile-time value", void 0));
                                    })
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                                    lineNumber: 116,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                            lineNumber: 114,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                    lineNumber: 112,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
                lineNumber: 108,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx",
        lineNumber: 63,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_s(MarketSelector, "SHgC9VbrZCLbJdfOzE79ND0WX4I=");
_c = MarketSelector;
var _c;
__turbopack_context__.k.register(_c, "MarketSelector");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/components/PositionInfo.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "PositionInfo",
    ()=>PositionInfo
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$MarketSelector$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$utils$2f$formatUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/utils/formatUtils.ts [app-client] (ecmascript)");
;
;
;
const PositionInfo = ({ activeTab, payUsdValue, oraclePrice, longShortUsdValue, tokenAmount, leverage, activeMarket, onMarketSelect })=>{
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "bg-trading-surface border border-border-default rounded-lg p-3",
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "space-y-2",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex items-center justify-between",
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-xs text-text-secondary",
                        children: activeTab === 'long' ? 'Long Position Size' : activeTab === 'short' ? 'Short Position Size' : 'Swap Receive'
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/PositionInfo.tsx",
                        lineNumber: 30,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                }, void 0, false, {
                    fileName: "[project]/src/features/trading/components/orders/order-panel/components/PositionInfo.tsx",
                    lineNumber: 29,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0)),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex items-center justify-between gap-3",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                            type: "text",
                            placeholder: "0.0",
                            value: activeTab === 'swap' ? tokenAmount > 0 ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$utils$2f$formatUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatTokenAmount"])(payUsdValue / oraclePrice) : '' : tokenAmount > 0 ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$utils$2f$formatUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatTokenAmount"])(tokenAmount) : '',
                            readOnly: true,
                            className: "bg-transparent text-xl font-medium text-text-primary outline-none cursor-not-allowed flex-1 min-w-0"
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/components/PositionInfo.tsx",
                            lineNumber: 40,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex-shrink-0",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$MarketSelector$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MarketSelector"], {
                                value: activeMarket ?? undefined,
                                onSelect: onMarketSelect
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/components/PositionInfo.tsx",
                                lineNumber: 57,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/components/PositionInfo.tsx",
                            lineNumber: 56,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/orders/order-panel/components/PositionInfo.tsx",
                    lineNumber: 38,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0)),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex justify-between items-center text-xs pt-1",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                            className: "text-text-secondary font-medium",
                            children: [
                                "≈ ",
                                activeTab === 'swap' ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$utils$2f$formatUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatPrice"])(payUsdValue) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$utils$2f$formatUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatPrice"])(longShortUsdValue)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/components/PositionInfo.tsx",
                            lineNumber: 61,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        activeTab !== 'swap' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                            className: `font-medium ${leverage >= 50 ? 'text-warning' : 'text-info'}`,
                            children: [
                                (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$utils$2f$formatUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatLeverage"])(leverage),
                                "x Leverage"
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/components/PositionInfo.tsx",
                            lineNumber: 65,
                            columnNumber: 13
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/orders/order-panel/components/PositionInfo.tsx",
                    lineNumber: 60,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0))
            ]
        }, void 0, true, {
            fileName: "[project]/src/features/trading/components/orders/order-panel/components/PositionInfo.tsx",
            lineNumber: 28,
            columnNumber: 7
        }, ("TURBOPACK compile-time value", void 0))
    }, void 0, false, {
        fileName: "[project]/src/features/trading/components/orders/order-panel/components/PositionInfo.tsx",
        lineNumber: 27,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_c = PositionInfo;
var _c;
__turbopack_context__.k.register(_c, "PositionInfo");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "TpSlInputs",
    ()=>TpSlInputs
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
;
const TpSlInputs = ({ isTpSlEnabled, setIsTpSlEnabled, takeProfitPrice, setTakeProfitPrice, stopLossPrice, setStopLossPrice, disabled = false })=>{
    const handlePriceChange = (setter, e)=>{
        const value = e.target.value;
        if (value === '' || /^\d*\.?\d*$/.test(value)) {
            setter(value);
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: disabled ? 'opacity-50 pointer-events-none' : '',
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex justify-between items-center text-sm mb-3",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-text-secondary text-xs uppercase tracking-wide font-medium",
                        children: "TP / SL"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx",
                        lineNumber: 35,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                        className: "relative inline-block w-9 h-5 cursor-pointer",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                type: "checkbox",
                                className: "opacity-0 w-0 h-0 peer",
                                checked: isTpSlEnabled,
                                onChange: (e)=>setIsTpSlEnabled(e.target.checked),
                                disabled: disabled
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx",
                                lineNumber: 39,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: `absolute inset-0 rounded-full transition-all duration-300 ${isTpSlEnabled ? 'bg-primary' : 'bg-trading-surface border border-border-default'}`,
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: `absolute left-0.5 top-0.5 h-3.5 w-3.5 bg-white rounded-full transition-transform duration-300 shadow-sm ${isTpSlEnabled ? 'translate-x-4' : 'translate-x-0'}`
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx",
                                    lineNumber: 51,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx",
                                lineNumber: 46,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx",
                        lineNumber: 38,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx",
                lineNumber: 34,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            isTpSlEnabled && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "bg-trading-surface border border-border-default rounded-lg p-3 space-y-3 animate-slide-down",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                className: "text-[10px] uppercase tracking-wide text-text-muted mb-1.5 block font-medium",
                                children: "TAKE PROFIT"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx",
                                lineNumber: 65,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "bg-trading-bg rounded-md px-3 py-2 flex items-center border border-border-default hover:border-border-active focus-within:border-primary transition-colors",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-xs text-text-muted mr-2",
                                        children: "$"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx",
                                        lineNumber: 69,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                        type: "text",
                                        placeholder: "Price",
                                        value: takeProfitPrice,
                                        onChange: (e)=>handlePriceChange(setTakeProfitPrice, e),
                                        className: "bg-transparent text-sm text-text-primary outline-none w-full placeholder-text-muted",
                                        disabled: disabled
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx",
                                        lineNumber: 70,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx",
                                lineNumber: 68,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx",
                        lineNumber: 64,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                className: "text-[10px] uppercase tracking-wide text-text-muted mb-1.5 block font-medium",
                                children: "STOP LOSS"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx",
                                lineNumber: 83,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "bg-trading-bg rounded-md px-3 py-2 flex items-center border border-border-default hover:border-border-active focus-within:border-primary transition-colors",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-xs text-text-muted mr-2",
                                        children: "$"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx",
                                        lineNumber: 87,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                        type: "text",
                                        placeholder: "Price",
                                        value: stopLossPrice,
                                        onChange: (e)=>handlePriceChange(setStopLossPrice, e),
                                        className: "bg-transparent text-sm text-text-primary outline-none w-full placeholder-text-muted",
                                        disabled: disabled
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx",
                                        lineNumber: 88,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx",
                                lineNumber: 86,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx",
                        lineNumber: 82,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx",
                lineNumber: 62,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx",
        lineNumber: 33,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_c = TpSlInputs;
var _c;
__turbopack_context__.k.register(_c, "TpSlInputs");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/components/OrderSummary.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "OrderSummary",
    ()=>OrderSummary
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/lib/marketUtils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$utils$2f$formatUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/utils/formatUtils.ts [app-client] (ecmascript)");
;
;
;
const OrderSummary = ({ oraclePrice, liquidationPrice, tradingFee, payAmount, leverage })=>{
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "space-y-2 text-sm border-t border-border-muted pt-3",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex justify-between items-center",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-text-secondary",
                        children: "Oracle Price"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/OrderSummary.tsx",
                        lineNumber: 23,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-text-primary font-medium",
                        children: Number.isFinite(oraclePrice) ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatDynamicUsd"])(Number(oraclePrice)) : '$--'
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/OrderSummary.tsx",
                        lineNumber: 24,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/components/OrderSummary.tsx",
                lineNumber: 22,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex justify-between items-center",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-text-secondary",
                        children: "Liquidation Price"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/OrderSummary.tsx",
                        lineNumber: 29,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-text-primary font-medium",
                        children: liquidationPrice ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$utils$2f$formatUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatPrice"])(liquidationPrice) : '-'
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/OrderSummary.tsx",
                        lineNumber: 30,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/components/OrderSummary.tsx",
                lineNumber: 28,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex justify-between items-center",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-text-secondary",
                        children: "Trading Fee"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/OrderSummary.tsx",
                        lineNumber: 35,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-text-primary font-medium",
                        children: payAmount && leverage > 0 ? `$${tradingFee} (0.05%)` : '0.00%'
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/components/OrderSummary.tsx",
                        lineNumber: 36,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/components/OrderSummary.tsx",
                lineNumber: 34,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/order-panel/components/OrderSummary.tsx",
        lineNumber: 21,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_c = OrderSummary;
var _c;
__turbopack_context__.k.register(_c, "OrderSummary");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/market-order/MarketActionButtons.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "MarketActionButtons",
    ()=>MarketActionButtons
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/button.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/loader-circle.js [app-client] (ecmascript) <export default as Loader2>");
;
;
;
const MarketActionButtons = ({ activeTab, authenticated, isApproving, isDepositing, isRelayPending, isUSDCApprovalPending, payAmount, hasLargeAllowance, onAction })=>{
    const getButtonText = ()=>{
        if (!authenticated) return 'Connect Wallet';
        if (isUSDCApprovalPending) return 'Approving USDC...';
        if (isApproving) return 'Approving for Paymaster...';
        if (isDepositing) return 'Depositing to Paymaster...';
        if (isRelayPending) return 'Opening Position...';
        if (!payAmount || parseFloat(payAmount) <= 0) return 'Enter Amount';
        if ((activeTab === 'long' || activeTab === 'short') && !hasLargeAllowance) {
            return `Approve & ${activeTab === 'long' ? 'Long' : 'Short'}`;
        }
        if (activeTab === 'long') return 'Buy / Long';
        if (activeTab === 'short') return 'Sell / Short';
        return 'Swap';
    };
    const isButtonDisabled = !authenticated || isRelayPending || isApproving || isDepositing || isUSDCApprovalPending || !payAmount || parseFloat(payAmount) <= 0;
    // Variant mapping to shadcn button variants or custom classes
    // Assuming shadcn Button has variants: default, destructive, outline, secondary, ghost, link.
    // We might need to use className for specific colors like 'long' (green) and 'short' (red).
    const getButtonClass = ()=>{
        if (isButtonDisabled) return 'opacity-60 cursor-not-allowed bg-secondary text-secondary-foreground';
        if (activeTab === 'long') return 'bg-long hover:bg-long-hover text-white shadow-lg shadow-long/20';
        if (activeTab === 'short') return 'bg-short hover:bg-short-hover text-white shadow-lg shadow-short/20';
        return 'bg-swap hover:bg-swap-hover text-white shadow-lg shadow-swap/20';
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
        onClick: onAction,
        disabled: isButtonDisabled,
        className: `w-full font-bold text-base h-12 ${getButtonClass()}`,
        children: [
            (isRelayPending || isUSDCApprovalPending) && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__["Loader2"], {
                className: "mr-2 h-4 w-4 animate-spin"
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/market-order/MarketActionButtons.tsx",
                lineNumber: 74,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0)),
            getButtonText()
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/order-panel/market-order/MarketActionButtons.tsx",
        lineNumber: 68,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_c = MarketActionButtons;
var _c;
__turbopack_context__.k.register(_c, "MarketActionButtons");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/MarketOrder.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$MarketContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/contexts/MarketContext.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$usePrivy$2d$DDM76RFl$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__u__as__usePrivy$3e$__ = __turbopack_context__.i("[project]/node_modules/@privy-io/react-auth/dist/esm/usePrivy-DDM76RFl.mjs [app-client] (ecmascript) <export u as usePrivy>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__ = __turbopack_context__.i("[project]/node_modules/@privy-io/react-auth/dist/esm/SignRequestScreen-BQBgOoh_.mjs [app-client] (ecmascript) <export ae as useWallets>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$chains$2f$definitions$2f$baseSepolia$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/chains/definitions/baseSepolia.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/unit/parseUnits.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useMarketOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/hooks/useMarketOrder.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$usePaymaster$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/wallet/hooks/usePaymaster.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/wallet/hooks/useEmbeddedWallet.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$useUSDCBalance$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/hooks/data/useUSDCBalance.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/sonner/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useTPSL$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/hooks/useTPSL.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$usePositions$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/hooks/data/usePositions.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$CollateralInput$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/components/CollateralInput.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$LeverageSelector$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/components/LeverageSelector.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$PositionInfo$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/components/PositionInfo.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$TpSlInputs$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$OrderSummary$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/components/OrderSummary.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$market$2d$order$2f$MarketActionButtons$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/market-order/MarketActionButtons.tsx [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
const MarketOrder = ({ activeTab = 'long' })=>{
    _s();
    const { activeMarket, setActiveMarket, currentPrice } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$MarketContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMarket"])();
    const { authenticated } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$usePrivy$2d$DDM76RFl$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__u__as__usePrivy$3e$__["usePrivy"])();
    const { wallets } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"])();
    const { address: embeddedAddress, hasEmbeddedWallet } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"])();
    const [leverage, setLeverage] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(10);
    const { usdcBalance, isLoadingBalance } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$useUSDCBalance$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useUSDCBalance"])();
    const [payAmount, setPayAmount] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('');
    const [isTpSlEnabled, setIsTpSlEnabled] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [takeProfitPrice, setTakeProfitPrice] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('');
    const [stopLossPrice, setStopLossPrice] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('');
    const processedHashRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(null);
    const { openPositionGasless, isPending: isRelayPending, hash: relayHash, usdcCharged, positionId: relayPositionId } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useMarketOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRelayMarketOrder"])();
    const { balance: paymasterBalance, isApproving, isDepositing } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$usePaymaster$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["usePaymasterFlow"])();
    const { approve: approveUSDC, allowance, isPending: isApprovalPending } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useMarketOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useApproveUSDCForTrading"])();
    const { setTPSL } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useTPSL$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTPSL"])();
    const { positionIds, refetch: refetchPositions } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$usePositions$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useUserPositions"])();
    const hasLargeAllowance = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "MarketOrder.useMemo[hasLargeAllowance]": ()=>{
            return Boolean(allowance && allowance > (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])('10000', 6));
        }
    }["MarketOrder.useMemo[hasLargeAllowance]"], [
        allowance
    ]);
    const handleMarketSelect = (market)=>{
        setActiveMarket({
            ...market,
            category: market.category || 'crypto'
        });
    };
    // Get oracle price from current price - memoized
    const oraclePrice = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "MarketOrder.useMemo[oraclePrice]": ()=>{
            return currentPrice ? parseFloat(currentPrice) : 0;
        }
    }["MarketOrder.useMemo[oraclePrice]"], [
        currentPrice
    ]);
    const payUsdValue = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "MarketOrder.useMemo[payUsdValue]": ()=>{
            return payAmount ? parseFloat(payAmount) : 0;
        }
    }["MarketOrder.useMemo[payUsdValue]"], [
        payAmount
    ]);
    const longShortUsdValue = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "MarketOrder.useMemo[longShortUsdValue]": ()=>{
            return payUsdValue * leverage;
        }
    }["MarketOrder.useMemo[longShortUsdValue]"], [
        payUsdValue,
        leverage
    ]);
    const tokenAmount = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "MarketOrder.useMemo[tokenAmount]": ()=>{
            return oraclePrice > 0 ? longShortUsdValue / oraclePrice : 0;
        }
    }["MarketOrder.useMemo[tokenAmount]"], [
        oraclePrice,
        longShortUsdValue
    ]);
    // Calculate liquidation price
    const liquidationPrice = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "MarketOrder.useMemo[liquidationPrice]": ()=>{
            if (!oraclePrice || !leverage || leverage <= 0 || !payAmount || parseFloat(payAmount) <= 0) {
                return null;
            }
            // Liquidation happens when loss = collateral
            const liqPercentage = 1 / leverage;
            if (activeTab === 'long') {
                return oraclePrice * (1 - liqPercentage);
            } else if (activeTab === 'short') {
                return oraclePrice * (1 + liqPercentage);
            }
            return null;
        }
    }["MarketOrder.useMemo[liquidationPrice]"], [
        oraclePrice,
        leverage,
        payAmount,
        activeTab
    ]);
    const handlePayInputChange = (e)=>{
        const value = e.target.value;
        if (value === '' || /^\d*\.?\d*$/.test(value)) {
            setPayAmount(value);
        }
    };
    const handleMaxClick = ()=>{
        setPayAmount(usdcBalance);
    };
    // Handle market order execution
    const handleOpenPosition = async ()=>{
        if (!authenticated) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Please connect your wallet');
            return;
        }
        if (!hasEmbeddedWallet || !embeddedAddress) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Embedded wallet not ready. Please wait...');
            return;
        }
        if (!payAmount || parseFloat(payAmount) <= 0) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Please enter collateral amount');
            return;
        }
        if (!activeMarket) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Please select a market');
            return;
        }
        // Check if USDC is approved first (only for long/short, not swap)
        const needsApproval = (activeTab === 'long' || activeTab === 'short') && !hasLargeAllowance;
        // Find and set active embedded wallet used for both actions
        const embeddedWallet = wallets.find((w)=>w.walletClientType === 'privy' && w.address === embeddedAddress);
        if (!embeddedWallet) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Embedded wallet not found in wallets list');
            return;
        }
        await embeddedWallet.switchChain(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$chains$2f$definitions$2f$baseSepolia$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["baseSepolia"].id);
        // 1. Handle Approval if needed
        if (needsApproval) {
            try {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].loading('Approving USDC...', {
                    id: 'market-approval'
                });
                const maxAmount = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])('1000000', 6).toString();
                // This likely prompts wallet and waits for tx hash.
                // We assume verify or wait logic is inside or handled by blockchain speed.
                await approveUSDC(maxAmount);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success('✅ Approved!', {
                    id: 'market-approval'
                });
            } catch (error) {
                console.error('Approval failed:', error);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Approval failed or rejected', {
                    id: 'market-approval'
                });
                return; // Stop flow if approval fails
            }
        }
        // 2. Proceed to trade
        try {
            // Execute market order (GASLESS via relay!)
            await openPositionGasless({
                symbol: activeMarket.symbol,
                isLong: activeTab === 'long',
                collateral: payAmount,
                leverage: Math.floor(leverage)
            });
        // Success toast will be shown by useEffect below
        } catch (error) {
            console.error('Error executing market order:', error);
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Failed to execute market order');
        }
    };
    // Show success notification with explorer link and auto-set TP/SL
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "MarketOrder.useEffect": ()=>{
            // Only process new hashes, prevent duplicate toasts
            if (relayHash && relayHash !== processedHashRef.current) {
                processedHashRef.current = relayHash; // Mark as processed
                const shouldSetTPSL = isTpSlEnabled && (takeProfitPrice || stopLossPrice);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success(/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                "✅ Position opened! Gas paid in USDC: ",
                                usdcCharged
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/MarketOrder.tsx",
                            lineNumber: 194,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("a", {
                            href: `https://sepolia.basescan.org/tx/${relayHash}`,
                            target: "_blank",
                            rel: "noopener noreferrer",
                            className: "text-blue-300 hover:underline text-xs",
                            children: "View transaction"
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/MarketOrder.tsx",
                            lineNumber: 195,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        shouldSetTPSL && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "text-blue-300 text-xs mt-1",
                            children: "🎯 Setting TP/SL automatically..."
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/MarketOrder.tsx",
                            lineNumber: 204,
                            columnNumber: 13
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/orders/order-panel/MarketOrder.tsx",
                    lineNumber: 193,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0)), {
                    duration: 4000,
                    id: 'position-success'
                });
                // Auto-set TP/SL if enabled
                if (shouldSetTPSL && embeddedAddress) {
                    const setTPSLForNewPosition = {
                        "MarketOrder.useEffect.setTPSLForNewPosition": async ()=>{
                            try {
                                await new Promise({
                                    "MarketOrder.useEffect.setTPSLForNewPosition": (resolve)=>setTimeout(resolve, 1000)
                                }["MarketOrder.useEffect.setTPSLForNewPosition"]);
                                const newPositionId = relayPositionId;
                                if (!newPositionId) {
                                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('⚠️ Could not get position ID. Set TP/SL manually.', {
                                        duration: 5000
                                    });
                                    return;
                                }
                                const success = await setTPSL({
                                    positionId: newPositionId,
                                    trader: embeddedAddress,
                                    takeProfit: takeProfitPrice || undefined,
                                    stopLoss: stopLossPrice || undefined
                                });
                                if (success) {
                                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success('✅ TP/SL set successfully!', {
                                        duration: 3000
                                    });
                                    window.dispatchEvent(new CustomEvent('tpsl-updated', {
                                        detail: {
                                            positionId: newPositionId
                                        }
                                    }));
                                }
                            } catch (error) {
                                console.error('Failed to auto-set TP/SL:', error);
                                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('⚠️ Could not auto-set TP/SL.', {
                                    duration: 5000
                                });
                            }
                        }
                    }["MarketOrder.useEffect.setTPSLForNewPosition"];
                    setTPSLForNewPosition();
                }
                setPayAmount('');
                if (!shouldSetTPSL) {
                    setTakeProfitPrice('');
                    setStopLossPrice('');
                    setIsTpSlEnabled(false);
                } else {
                    setTimeout({
                        "MarketOrder.useEffect": ()=>{
                            setTakeProfitPrice('');
                            setStopLossPrice('');
                            setIsTpSlEnabled(false);
                        }
                    }["MarketOrder.useEffect"], 5000);
                }
            }
        }
    }["MarketOrder.useEffect"], [
        relayHash,
        usdcCharged,
        isTpSlEnabled,
        takeProfitPrice,
        stopLossPrice,
        embeddedAddress,
        setTPSL,
        refetchPositions,
        positionIds,
        relayPositionId
    ]);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "flex flex-col gap-3 py-4 bg-trading-bg h-full px-3",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$CollateralInput$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CollateralInput"], {
                value: payAmount,
                onChange: handlePayInputChange,
                balance: usdcBalance,
                isLoadingBalance: isLoadingBalance,
                onMaxClick: handleMaxClick,
                label: "Collateral"
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/MarketOrder.tsx",
                lineNumber: 277,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$PositionInfo$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PositionInfo"], {
                activeTab: activeTab,
                payUsdValue: payUsdValue,
                oraclePrice: oraclePrice,
                longShortUsdValue: longShortUsdValue,
                tokenAmount: tokenAmount,
                leverage: leverage,
                activeMarket: activeMarket,
                onMarketSelect: handleMarketSelect
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/MarketOrder.tsx",
                lineNumber: 287,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            activeTab !== 'swap' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$LeverageSelector$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LeverageSelector"], {
                leverage: leverage,
                onLeverageChange: setLeverage
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/MarketOrder.tsx",
                lineNumber: 300,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0)),
            activeTab === 'swap' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "text-center py-3 text-gray-500 text-sm",
                children: "Select different tokens"
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/MarketOrder.tsx",
                lineNumber: 305,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0)),
            activeTab !== 'swap' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$TpSlInputs$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TpSlInputs"], {
                isTpSlEnabled: isTpSlEnabled,
                setIsTpSlEnabled: setIsTpSlEnabled,
                takeProfitPrice: takeProfitPrice,
                setTakeProfitPrice: setTakeProfitPrice,
                stopLossPrice: stopLossPrice,
                setStopLossPrice: setStopLossPrice
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/MarketOrder.tsx",
                lineNumber: 310,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$OrderSummary$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["OrderSummary"], {
                oraclePrice: oraclePrice,
                liquidationPrice: liquidationPrice,
                tradingFee: payAmount && leverage > 0 ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useMarketOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["calculatePositionCost"])(payAmount, leverage).tradingFee : '0.00',
                payAmount: payAmount,
                leverage: leverage
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/MarketOrder.tsx",
                lineNumber: 321,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$market$2d$order$2f$MarketActionButtons$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MarketActionButtons"], {
                activeTab: activeTab,
                authenticated: authenticated,
                isApproving: isApproving,
                isDepositing: isDepositing,
                isRelayPending: isRelayPending,
                isUSDCApprovalPending: isApprovalPending,
                payAmount: payAmount,
                hasLargeAllowance: hasLargeAllowance,
                onAction: handleOpenPosition
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/MarketOrder.tsx",
                lineNumber: 332,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            authenticated && parseFloat(paymasterBalance) > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "text-xs text-text-muted text-center pt-2",
                children: [
                    "Gas Balance: $",
                    parseFloat(paymasterBalance).toFixed(2),
                    " USDC"
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/MarketOrder.tsx",
                lineNumber: 346,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/order-panel/MarketOrder.tsx",
        lineNumber: 275,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_s(MarketOrder, "Kr9OUCNQqONn/nY0AFqqxrAyf+k=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$MarketContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMarket"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$usePrivy$2d$DDM76RFl$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__u__as__usePrivy$3e$__["usePrivy"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$useUSDCBalance$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useUSDCBalance"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useMarketOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRelayMarketOrder"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$usePaymaster$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["usePaymasterFlow"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useMarketOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useApproveUSDCForTrading"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useTPSL$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTPSL"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$usePositions$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useUserPositions"]
    ];
});
_c = MarketOrder;
const __TURBOPACK__default__export__ = MarketOrder;
var _c;
__turbopack_context__.k.register(_c, "MarketOrder");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/hooks/useLimitOrder.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Hooks for Limit Order Trading with LimitExecutor
 *
 * Supports:
 * - Limit Open Orders: Open position when price reaches trigger
 * - Limit Close Orders: Close position at target price (take profit)
 * - Stop Loss Orders: Close position to limit losses
 */ __turbopack_context__.s([
    "OrderStatus",
    ()=>OrderStatus,
    "OrderType",
    ()=>OrderType,
    "calculateLimitOrderCost",
    ()=>calculateLimitOrderCost,
    "useApproveUSDCForLimitOrders",
    ()=>useApproveUSDCForLimitOrders,
    "useCancelOrder",
    ()=>useCancelOrder,
    "useCreateLimitCloseOrder",
    ()=>useCreateLimitCloseOrder,
    "useCreateLimitOpenOrder",
    ()=>useCreateLimitOpenOrder,
    "useCreateStopLossOrder",
    ()=>useCreateStopLossOrder,
    "useExecutionFee",
    ()=>useExecutionFee,
    "useLimitExecutorConfig",
    ()=>useLimitExecutorConfig,
    "useOrder",
    ()=>useOrder,
    "useUserOrders",
    ()=>useUserOrders,
    "useUserPendingOrders",
    ()=>useUserPendingOrders
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = /*#__PURE__*/ __turbopack_context__.i("[project]/node_modules/next/dist/build/polyfills/process.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useReadContract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/wagmi/dist/esm/hooks/useReadContract.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useWaitForTransactionReceipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/wagmi/dist/esm/hooks/useWaitForTransactionReceipt.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/unit/parseUnits.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/abi/encodeFunctionData.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$hash$2f$keccak256$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/hash/keccak256.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodePacked$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/abi/encodePacked.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$formatUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/unit/formatUnits.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$createPublicClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/clients/createPublicClient.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$transports$2f$http$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/clients/transports/http.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$chains$2f$definitions$2f$baseSepolia$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/chains/definitions/baseSepolia.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__ = __turbopack_context__.i("[project]/node_modules/@privy-io/react-auth/dist/esm/SignRequestScreen-BQBgOoh_.mjs [app-client] (ecmascript) <export ae as useWallets>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/config/contracts.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contracts$2f$abis$2f$LimitExecutor$2e$json__$28$json$29$__ = __turbopack_context__.i("[project]/src/contracts/abis/LimitExecutor.json (json)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contracts$2f$abis$2f$MockUSDC$2e$json__$28$json$29$__ = __turbopack_context__.i("[project]/src/contracts/abis/MockUSDC.json (json)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/wallet/hooks/useEmbeddedWallet.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/sonner/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$relayApi$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/relayApi.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$limitOrderApi$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/limitOrderApi.ts [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature(), _s1 = __turbopack_context__.k.signature(), _s2 = __turbopack_context__.k.signature(), _s3 = __turbopack_context__.k.signature(), _s4 = __turbopack_context__.k.signature(), _s5 = __turbopack_context__.k.signature(), _s6 = __turbopack_context__.k.signature(), _s7 = __turbopack_context__.k.signature(), _s8 = __turbopack_context__.k.signature(), _s9 = __turbopack_context__.k.signature();
;
;
;
;
;
;
;
;
;
;
;
;
// Extract ABI from JSON
const LimitExecutorABI = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contracts$2f$abis$2f$LimitExecutor$2e$json__$28$json$29$__["default"].abi;
var OrderType = /*#__PURE__*/ function(OrderType) {
    OrderType[OrderType["LIMIT_OPEN"] = 0] = "LIMIT_OPEN";
    OrderType[OrderType["LIMIT_CLOSE"] = 1] = "LIMIT_CLOSE";
    OrderType[OrderType["STOP_LOSS"] = 2] = "STOP_LOSS";
    return OrderType;
}({});
var OrderStatus = /*#__PURE__*/ function(OrderStatus) {
    OrderStatus[OrderStatus["PENDING"] = 0] = "PENDING";
    OrderStatus[OrderStatus["EXECUTED"] = 1] = "EXECUTED";
    OrderStatus[OrderStatus["CANCELLED"] = 2] = "CANCELLED";
    return OrderStatus;
}({});
function useApproveUSDCForLimitOrders() {
    _s();
    const { address } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"])();
    const { wallets } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"])();
    const [hash, setHash] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])();
    const [isPending, setIsPending] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const { isLoading: isConfirming, isSuccess } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useWaitForTransactionReceipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useWaitForTransactionReceipt"])({
        hash
    });
    // Check current allowance
    const { data: allowance, refetch: refetchAllowance } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useReadContract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useReadContract"])({
        address: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["USDC_ADDRESS"],
        abi: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contracts$2f$abis$2f$MockUSDC$2e$json__$28$json$29$__["default"],
        functionName: 'allowance',
        args: address ? [
            address,
            __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LIMIT_EXECUTOR_ADDRESS"]
        ] : undefined,
        query: {
            enabled: !!address
        }
    });
    const approve = async (amount)=>{
        try {
            setIsPending(true);
            setError(null);
            const embeddedWallet = wallets.find((w)=>w.walletClientType === 'privy' && w.address === address);
            if (!embeddedWallet) {
                throw new Error('Embedded wallet not found');
            }
            await embeddedWallet.switchChain(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$chains$2f$definitions$2f$baseSepolia$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["baseSepolia"].id);
            const walletClient = await embeddedWallet.getEthereumProvider();
            if (!walletClient) {
                throw new Error('Could not get wallet client');
            }
            const amountBigInt = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])(amount, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["USDC_DECIMALS"]);
            const data = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFunctionData"])({
                abi: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contracts$2f$abis$2f$MockUSDC$2e$json__$28$json$29$__["default"],
                functionName: 'approve',
                args: [
                    __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LIMIT_EXECUTOR_ADDRESS"],
                    amountBigInt
                ]
            });
            // Estimate gas
            const gasEstimate = await walletClient.request({
                method: 'eth_estimateGas',
                params: [
                    {
                        from: address,
                        to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["USDC_ADDRESS"],
                        data
                    }
                ]
            });
            const gasLimit = BigInt(gasEstimate) * 120n / 100n;
            const txHash = await walletClient.request({
                method: 'eth_sendTransaction',
                params: [
                    {
                        from: address,
                        to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["USDC_ADDRESS"],
                        data,
                        gas: '0x' + gasLimit.toString(16)
                    }
                ]
            });
            setHash(txHash);
        } catch (err) {
            console.error('❌ Approve error:', err);
            setError(err);
        } finally{
            setIsPending(false);
        }
    };
    const hasAllowance = (requiredAmount)=>{
        if (!allowance) return false;
        const required = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])(requiredAmount, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["USDC_DECIMALS"]);
        return allowance >= required;
    };
    return {
        approve,
        isPending,
        isConfirming,
        isSuccess,
        error,
        hash,
        allowance: allowance,
        hasAllowance,
        refetchAllowance
    };
}
_s(useApproveUSDCForLimitOrders, "3kkM2ljleyOPA/nHc4AVjtX7UwM=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useWaitForTransactionReceipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useWaitForTransactionReceipt"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useReadContract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useReadContract"]
    ];
});
function useLimitExecutorConfig() {
    _s1();
    const { data: tradingFeeBps } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useReadContract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useReadContract"])({
        address: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LIMIT_EXECUTOR_ADDRESS"],
        abi: LimitExecutorABI,
        functionName: 'tradingFeeBps',
        query: {
            staleTime: 30_000,
            refetchOnWindowFocus: false
        }
    });
    return {
        tradingFeeBps: tradingFeeBps ?? 5n
    };
}
_s1(useLimitExecutorConfig, "3PsArZygqT79CJ+jg3zaW3Dfs/o=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useReadContract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useReadContract"]
    ];
});
function useExecutionFee(orderType = 'limit_open') {
    _s2();
    const [executionFee, setExecutionFee] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(undefined);
    const [formatted, setFormatted] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('0.00');
    const [gasEstimate, setGasEstimate] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('0');
    const [baseFormatted, setBaseFormatted] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('0.00');
    const [bufferBps, setBufferBps] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(2000);
    const [isLoading, setIsLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(true);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const refresh = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useExecutionFee.useCallback[refresh]": async ()=>{
            try {
                setIsLoading(true);
                setError(null);
                const estimate = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$relayApi$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getLimitExecutionFee"])(orderType);
                setExecutionFee(BigInt(estimate.recommendedMaxExecutionFee));
                setFormatted(estimate.recommendedFormatted);
                setGasEstimate(estimate.gasEstimate);
                setBaseFormatted(estimate.baseCostFormatted);
                setBufferBps(estimate.bufferBps);
            } catch (err) {
                console.error('Failed to load execution fee estimate:', err);
                setError(err);
                setExecutionFee(undefined);
                setFormatted('0.00');
            } finally{
                setIsLoading(false);
            }
        }
    }["useExecutionFee.useCallback[refresh]"], [
        orderType
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useExecutionFee.useEffect": ()=>{
            void refresh();
        }
    }["useExecutionFee.useEffect"], [
        refresh
    ]);
    return {
        executionFee,
        executionFeeFormatted: formatted,
        baseFeeFormatted: baseFormatted,
        gasEstimate,
        bufferBps,
        isLoading,
        error,
        refresh
    };
}
_s2(useExecutionFee, "8yrlKTWZbEqoQrLuep5ORH09HKI=");
function useCreateLimitOpenOrder() {
    _s3();
    const { address } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"])();
    const { wallets } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"])();
    const [isPending, setIsPending] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [submission, setSubmission] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const publicClient = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "useCreateLimitOpenOrder.useMemo[publicClient]": ()=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$createPublicClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createPublicClient"])({
                chain: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$chains$2f$definitions$2f$baseSepolia$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["baseSepolia"],
                transport: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$transports$2f$http$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["http"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["RPC_URL"])
            })
    }["useCreateLimitOpenOrder.useMemo[publicClient]"], []);
    const createOrder = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useCreateLimitOpenOrder.useCallback[createOrder]": async (params)=>{
            try {
                setIsPending(true);
                setError(null);
                setSubmission(null);
                if (!address) {
                    throw new Error('Wallet not connected');
                }
                const embeddedWallet = wallets.find({
                    "useCreateLimitOpenOrder.useCallback[createOrder].embeddedWallet": (w)=>w.walletClientType === 'privy' && w.address === address
                }["useCreateLimitOpenOrder.useCallback[createOrder].embeddedWallet"]);
                if (!embeddedWallet) {
                    throw new Error('Embedded wallet not found');
                }
                await embeddedWallet.switchChain(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$chains$2f$definitions$2f$baseSepolia$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["baseSepolia"].id);
                const walletClient = await embeddedWallet.getEthereumProvider();
                if (!walletClient) {
                    throw new Error('Could not get wallet client');
                }
                // Parse values
                const collateralBigInt = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])(params.collateral, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["USDC_DECIMALS"]);
                const triggerPriceBigInt = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])(params.triggerPrice, 8);
                const leverageBigInt = BigInt(Math.round(params.leverage));
                // Fetch latest user nonce from contract
                const nonce = await publicClient.readContract({
                    address: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LIMIT_EXECUTOR_ADDRESS"],
                    abi: LimitExecutorABI,
                    functionName: 'getUserCurrentNonce',
                    args: [
                        address
                    ]
                });
                const expiresAt = params.expiresAt !== undefined ? BigInt(params.expiresAt) : BigInt(Math.floor(Date.now() / 1000) + 30 * 24 * 60 * 60); // default 30 days
                // Prepare message hash for signing
                const messageHash = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$hash$2f$keccak256$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["keccak256"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodePacked$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodePacked"])([
                    'address',
                    'string',
                    'bool',
                    'uint256',
                    'uint256',
                    'uint256',
                    'uint256',
                    'uint256',
                    'address'
                ], [
                    address,
                    params.symbol,
                    params.isLong,
                    collateralBigInt,
                    leverageBigInt,
                    triggerPriceBigInt,
                    nonce,
                    expiresAt,
                    __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LIMIT_EXECUTOR_ADDRESS"]
                ]));
                const signature = await walletClient.request({
                    method: 'personal_sign',
                    params: [
                        messageHash,
                        address
                    ]
                });
                const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$limitOrderApi$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["submitLimitOpenOrder"])({
                    trader: address,
                    symbol: params.symbol,
                    isLong: params.isLong,
                    collateral: collateralBigInt.toString(),
                    leverage: leverageBigInt.toString(),
                    triggerPrice: triggerPriceBigInt.toString(),
                    nonce: nonce.toString(),
                    expiresAt: expiresAt.toString(),
                    signature,
                    takeProfit: params.takeProfit,
                    stopLoss: params.stopLoss,
                    metadata: {
                        collateralUsd: params.collateral,
                        triggerPriceUsd: params.triggerPrice
                    }
                });
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success(`Limit order submitted! Order #${result.orderId}`);
                const submissionPayload = {
                    orderId: result.orderId,
                    txHash: result.txHash,
                    expiresAt,
                    nonce
                };
                setSubmission(submissionPayload);
                return submissionPayload;
            } catch (err) {
                console.error('❌ Error creating limit open order:', err);
                setError(err);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error(err instanceof Error ? err.message : 'Failed to create limit order');
                throw err;
            } finally{
                setIsPending(false);
            }
        }
    }["useCreateLimitOpenOrder.useCallback[createOrder]"], [
        address,
        wallets,
        publicClient
    ]);
    return {
        createOrder,
        isPending,
        error,
        submission,
        isSuccess: submission !== null
    };
}
_s3(useCreateLimitOpenOrder, "gp5HXdEg48RXgBnf6N++TXOMQ1g=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"]
    ];
});
function useCreateLimitCloseOrder() {
    _s4();
    const { address } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"])();
    const { wallets } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"])();
    const [hash, setHash] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])();
    const [isPending, setIsPending] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const { isLoading: isConfirming, isSuccess } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useWaitForTransactionReceipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useWaitForTransactionReceipt"])({
        hash
    });
    const createOrder = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useCreateLimitCloseOrder.useCallback[createOrder]": async (params)=>{
            try {
                setIsPending(true);
                setError(null);
                if (!address) {
                    throw new Error('Wallet not connected');
                }
                const embeddedWallet = wallets.find({
                    "useCreateLimitCloseOrder.useCallback[createOrder].embeddedWallet": (w)=>w.walletClientType === 'privy' && w.address === address
                }["useCreateLimitCloseOrder.useCallback[createOrder].embeddedWallet"]);
                if (!embeddedWallet) {
                    throw new Error('Embedded wallet not found');
                }
                await embeddedWallet.switchChain(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$chains$2f$definitions$2f$baseSepolia$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["baseSepolia"].id);
                const walletClient = await embeddedWallet.getEthereumProvider();
                if (!walletClient) {
                    throw new Error('Could not get wallet client');
                }
                const triggerPriceBigInt = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])(params.triggerPrice, 8);
                const data = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFunctionData"])({
                    abi: LimitExecutorABI,
                    functionName: 'createLimitCloseOrder',
                    args: [
                        params.positionId,
                        triggerPriceBigInt
                    ]
                });
                const gasEstimate = await walletClient.request({
                    method: 'eth_estimateGas',
                    params: [
                        {
                            from: address,
                            to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LIMIT_EXECUTOR_ADDRESS"],
                            data
                        }
                    ]
                });
                const gasLimit = BigInt(gasEstimate) * 120n / 100n;
                const txHash = await walletClient.request({
                    method: 'eth_sendTransaction',
                    params: [
                        {
                            from: address,
                            to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LIMIT_EXECUTOR_ADDRESS"],
                            data,
                            gas: '0x' + gasLimit.toString(16)
                        }
                    ]
                });
                setHash(txHash);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success('Take profit order created!');
            } catch (err) {
                console.error('❌ Error creating limit close order:', err);
                setError(err);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Failed to create take profit order');
                throw err;
            } finally{
                setIsPending(false);
            }
        }
    }["useCreateLimitCloseOrder.useCallback[createOrder]"], [
        address,
        wallets
    ]);
    return {
        createOrder,
        isPending,
        isConfirming,
        isSuccess,
        error,
        hash
    };
}
_s4(useCreateLimitCloseOrder, "WAgJhUXBSElD+vyRX+8QiOFG0QM=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useWaitForTransactionReceipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useWaitForTransactionReceipt"]
    ];
});
function useCreateStopLossOrder() {
    _s5();
    const { address } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"])();
    const { wallets } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"])();
    const [hash, setHash] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])();
    const [isPending, setIsPending] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const { isLoading: isConfirming, isSuccess } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useWaitForTransactionReceipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useWaitForTransactionReceipt"])({
        hash
    });
    const createOrder = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useCreateStopLossOrder.useCallback[createOrder]": async (params)=>{
            try {
                setIsPending(true);
                setError(null);
                if (!address) {
                    throw new Error('Wallet not connected');
                }
                const embeddedWallet = wallets.find({
                    "useCreateStopLossOrder.useCallback[createOrder].embeddedWallet": (w)=>w.walletClientType === 'privy' && w.address === address
                }["useCreateStopLossOrder.useCallback[createOrder].embeddedWallet"]);
                if (!embeddedWallet) {
                    throw new Error('Embedded wallet not found');
                }
                await embeddedWallet.switchChain(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$chains$2f$definitions$2f$baseSepolia$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["baseSepolia"].id);
                const walletClient = await embeddedWallet.getEthereumProvider();
                if (!walletClient) {
                    throw new Error('Could not get wallet client');
                }
                const triggerPriceBigInt = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])(params.triggerPrice, 8);
                const data = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodeFunctionData$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodeFunctionData"])({
                    abi: LimitExecutorABI,
                    functionName: 'createStopLossOrder',
                    args: [
                        params.positionId,
                        triggerPriceBigInt
                    ]
                });
                const gasEstimate = await walletClient.request({
                    method: 'eth_estimateGas',
                    params: [
                        {
                            from: address,
                            to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LIMIT_EXECUTOR_ADDRESS"],
                            data
                        }
                    ]
                });
                const gasLimit = BigInt(gasEstimate) * 120n / 100n;
                const txHash = await walletClient.request({
                    method: 'eth_sendTransaction',
                    params: [
                        {
                            from: address,
                            to: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LIMIT_EXECUTOR_ADDRESS"],
                            data,
                            gas: '0x' + gasLimit.toString(16)
                        }
                    ]
                });
                setHash(txHash);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success('Stop loss order created!');
            } catch (err) {
                console.error('❌ Error creating stop loss order:', err);
                setError(err);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Failed to create stop loss order');
                throw err;
            } finally{
                setIsPending(false);
            }
        }
    }["useCreateStopLossOrder.useCallback[createOrder]"], [
        address,
        wallets
    ]);
    return {
        createOrder,
        isPending,
        isConfirming,
        isSuccess,
        error,
        hash
    };
}
_s5(useCreateStopLossOrder, "WAgJhUXBSElD+vyRX+8QiOFG0QM=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useWaitForTransactionReceipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useWaitForTransactionReceipt"]
    ];
});
function useCancelOrder() {
    _s6();
    const { address } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"])();
    const { wallets } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"])();
    const [hash, setHash] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])();
    const [isPending, setIsPending] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const { isLoading: isConfirming, isSuccess } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useWaitForTransactionReceipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useWaitForTransactionReceipt"])({
        hash
    });
    const publicClient = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "useCancelOrder.useMemo[publicClient]": ()=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$createPublicClient$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createPublicClient"])({
                chain: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$chains$2f$definitions$2f$baseSepolia$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["baseSepolia"],
                transport: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$clients$2f$transports$2f$http$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["http"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["RPC_URL"])
            })
    }["useCancelOrder.useMemo[publicClient]"], []);
    const cancelOrder = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useCancelOrder.useCallback[cancelOrder]": async (orderId)=>{
            try {
                setIsPending(true);
                setError(null);
                if (!address) {
                    throw new Error('Wallet not connected');
                }
                const embeddedWallet = wallets.find({
                    "useCancelOrder.useCallback[cancelOrder].embeddedWallet": (w)=>w.walletClientType === 'privy' && w.address === address
                }["useCancelOrder.useCallback[cancelOrder].embeddedWallet"]);
                if (!embeddedWallet) {
                    throw new Error('Embedded wallet not found');
                }
                // Get user's current nonce from contract
                const userNonce = await publicClient.readContract({
                    address: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LIMIT_EXECUTOR_ADDRESS"],
                    abi: LimitExecutorABI,
                    functionName: 'getUserCurrentNonce',
                    args: [
                        address
                    ]
                });
                await embeddedWallet.switchChain(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$chains$2f$definitions$2f$baseSepolia$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["baseSepolia"].id);
                const walletClient = await embeddedWallet.getEthereumProvider();
                if (!walletClient) {
                    throw new Error('Could not get wallet client');
                }
                // Create message to sign: trader, orderId, nonce, contract address, "CANCEL"
                const messageHash = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$hash$2f$keccak256$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["keccak256"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$abi$2f$encodePacked$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["encodePacked"])([
                    'address',
                    'uint256',
                    'uint256',
                    'address',
                    'string'
                ], [
                    address,
                    orderId,
                    userNonce,
                    __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LIMIT_EXECUTOR_ADDRESS"],
                    'CANCEL'
                ]));
                // Sign message
                const signature = await walletClient.request({
                    method: 'personal_sign',
                    params: [
                        messageHash,
                        address
                    ]
                });
                // Send to backend for gasless execution
                const backendUrl = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:3001';
                const response = await fetch(`${backendUrl}/api/relay/cancel-order`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        userAddress: address,
                        orderId: orderId.toString(),
                        signature: signature
                    })
                });
                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.message || 'Failed to cancel order');
                }
                const result = await response.json();
                const txHash = result.data.txHash;
                setHash(txHash);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success('Order cancelled successfully! (No gas fee)');
            } catch (err) {
                console.error('❌ Error cancelling order:', err);
                setError(err);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Failed to cancel order');
                throw err;
            } finally{
                setIsPending(false);
            }
        }
    }["useCancelOrder.useCallback[cancelOrder]"], [
        address,
        wallets,
        publicClient
    ]);
    return {
        cancelOrder,
        isPending,
        isConfirming,
        isSuccess,
        error,
        hash
    };
}
_s6(useCancelOrder, "gtjpQUGshLwYsVDNKRUIOkAHl2o=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useWaitForTransactionReceipt$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useWaitForTransactionReceipt"]
    ];
});
function useUserOrders() {
    _s7();
    const { address } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"])();
    const { data: orderIds, isLoading, refetch } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useReadContract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useReadContract"])({
        address: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LIMIT_EXECUTOR_ADDRESS"],
        abi: LimitExecutorABI,
        functionName: 'getUserOrders',
        args: address ? [
            address
        ] : undefined,
        query: {
            enabled: !!address,
            refetchInterval: 5000
        }
    });
    return {
        orderIds: orderIds || [],
        isLoading,
        refetch
    };
}
_s7(useUserOrders, "fNXBwTxukmT+04utLKGbReAAFsE=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useReadContract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useReadContract"]
    ];
});
function useUserPendingOrders() {
    _s8();
    const { address } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"])();
    const { data, isLoading, refetch } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useReadContract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useReadContract"])({
        address: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LIMIT_EXECUTOR_ADDRESS"],
        abi: LimitExecutorABI,
        functionName: 'getUserPendingOrders',
        args: address ? [
            address
        ] : undefined,
        query: {
            enabled: !!address,
            refetchInterval: 5000
        }
    });
    const orders = data || [];
    return {
        orders: orders.map((order)=>({
                id: order.id || order[0],
                orderType: order.orderType || order[1],
                status: order.status || order[2],
                trader: order.trader || order[3],
                symbol: order.symbol || order[4],
                isLong: order.isLong || order[5],
                collateral: order.collateral || order[6],
                leverage: order.leverage || order[7],
                triggerPrice: order.triggerPrice || order[8],
                positionId: order.positionId || order[9],
                createdAt: order.createdAt || order[10],
                executedAt: order.executedAt || order[11],
                expiresAt: order.expiresAt || order[12],
                nonce: order.nonce || order[13]
            })),
        isLoading,
        refetch
    };
}
_s8(useUserPendingOrders, "sPab2vR2QOS9W00+7HyEg9PF50E=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useReadContract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useReadContract"]
    ];
});
function useOrder(orderId) {
    _s9();
    const { data, isLoading, refetch } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useReadContract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useReadContract"])({
        address: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LIMIT_EXECUTOR_ADDRESS"],
        abi: LimitExecutorABI,
        functionName: 'getOrder',
        args: orderId !== undefined ? [
            orderId
        ] : undefined,
        query: {
            enabled: orderId !== undefined,
            refetchInterval: 5000
        }
    });
    if (!data) {
        return {
            order: null,
            isLoading,
            refetch
        };
    }
    const orderData = data;
    const order = {
        id: orderData.id || orderData[0],
        orderType: orderData.orderType || orderData[1],
        status: orderData.status || orderData[2],
        trader: orderData.trader || orderData[3],
        symbol: orderData.symbol || orderData[4],
        isLong: orderData.isLong || orderData[5],
        collateral: orderData.collateral || orderData[6],
        leverage: orderData.leverage || orderData[7],
        triggerPrice: orderData.triggerPrice || orderData[8],
        positionId: orderData.positionId || orderData[9],
        createdAt: orderData.createdAt || orderData[10],
        executedAt: orderData.executedAt || orderData[11],
        expiresAt: orderData.expiresAt || orderData[12],
        nonce: orderData.nonce || orderData[13]
    };
    return {
        order,
        isLoading,
        refetch
    };
}
_s9(useOrder, "E69MZ5hmciv61i97P7kLr0IBijs=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$wagmi$2f$dist$2f$esm$2f$hooks$2f$useReadContract$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useReadContract"]
    ];
});
function calculateLimitOrderCost(params) {
    try {
        const executionFee = params.executionFee ?? 0n;
        if (!params.collateralUsd || Number(params.collateralUsd) <= 0) {
            const formattedExecution = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$formatUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatUnits"])(executionFee, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["USDC_DECIMALS"]);
            return {
                collateral: 0n,
                tradingFee: 0n,
                executionFee,
                totalCost: executionFee,
                collateralFormatted: '0',
                tradingFeeFormatted: '0',
                executionFeeFormatted: formattedExecution,
                totalCostFormatted: formattedExecution
            };
        }
        const collateral = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])(params.collateralUsd, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["USDC_DECIMALS"]);
        const leverageBigInt = BigInt(Math.max(1, Math.round(params.leverage || 0)));
        const tradingFeeBps = params.tradingFeeBps ?? 5n;
        const positionSize = collateral * leverageBigInt;
        const tradingFee = positionSize * tradingFeeBps / 10000n;
        const totalCost = collateral + tradingFee + executionFee;
        const format = (value)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$formatUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatUnits"])(value, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["USDC_DECIMALS"]);
        return {
            collateral,
            tradingFee,
            executionFee,
            totalCost,
            collateralFormatted: format(collateral),
            tradingFeeFormatted: format(tradingFee),
            executionFeeFormatted: format(executionFee),
            totalCostFormatted: format(totalCost)
        };
    } catch (error) {
        console.error('Error calculating limit order cost:', error);
        const executionFeeFormatted = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$formatUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatUnits"])(params.executionFee ?? 0n, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$config$2f$contracts$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["USDC_DECIMALS"]);
        return {
            collateral: 0n,
            tradingFee: 0n,
            executionFee: params.executionFee ?? 0n,
            totalCost: params.executionFee ?? 0n,
            collateralFormatted: '0',
            tradingFeeFormatted: '0',
            executionFeeFormatted,
            totalCostFormatted: executionFeeFormatted
        };
    }
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/LimitOrderIntegration.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Limit Order Integration Component
 *
 * Component ini bisa di-copy paste ke LimitOrder.tsx yang sudah ada
 * untuk menambahkan fungsi submit limit order ke backend
 */ __turbopack_context__.s([
    "useLimitOrderSubmit",
    ()=>useLimitOrderSubmit
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useLimitOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/hooks/useLimitOrder.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/sonner/dist/index.mjs [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature();
'use client';
;
;
;
function useLimitOrderSubmit() {
    _s();
    const { createOrder, isPending: isCreatingOrder, isSuccess, submission } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useLimitOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCreateLimitOpenOrder"])();
    const { approve, hasAllowance, isPending: isApproving } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useLimitOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useApproveUSDCForLimitOrders"])();
    const { executionFee, executionFeeFormatted, error: executionFeeError } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useLimitOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useExecutionFee"])();
    const { tradingFeeBps } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useLimitOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useLimitExecutorConfig"])();
    const [isProcessing, setIsProcessing] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const submitLimitOrder = async (params)=>{
        try {
            setIsProcessing(true);
            // 1. Validate inputs
            if (!params.collateral || parseFloat(params.collateral) <= 0) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Please enter collateral amount');
                return false;
            }
            if (!params.triggerPrice || parseFloat(params.triggerPrice) <= 0) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Please enter trigger price');
                return false;
            }
            // 2. Calculate total cost (collateral + trading fee + execution fee)
            const cost = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useLimitOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["calculateLimitOrderCost"])({
                collateralUsd: params.collateral,
                leverage: params.leverage,
                executionFee: executionFee ?? BigInt(0),
                tradingFeeBps
            });
            if (cost.totalCost === BigInt(0)) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Invalid order amount');
                return false;
            }
            // 3. Check and approve USDC if needed (UNLIMITED APPROVAL - once only!)
            const UNLIMITED_APPROVAL = '1000000000'; // 1B USDC (effectively unlimited)
            if (!hasAllowance(cost.totalCostFormatted)) {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].loading('Approving USDC for limit orders (one-time only)...', {
                    id: 'limit-order-approve'
                });
                await approve(UNLIMITED_APPROVAL);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success('USDC approved! You can now create limit orders without approval.', {
                    id: 'limit-order-approve'
                });
            }
            // 4. Create limit order (sign + submit to keeper) - GASLESS!
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].loading('Signing limit order (gasless)...', {
                id: 'limit-order-create'
            });
            await createOrder({
                symbol: params.symbol,
                isLong: params.isLong,
                collateral: params.collateral,
                leverage: params.leverage,
                triggerPrice: params.triggerPrice,
                takeProfit: params.takeProfit,
                stopLoss: params.stopLoss
            });
            // Show success message with TP/SL info if configured
            let successMsg = 'Limit order created successfully!';
            if (params.takeProfit || params.stopLoss) {
                successMsg += ' Auto TP/SL will be set when order executes.';
            }
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success(successMsg, {
                id: 'limit-order-create',
                duration: 5000
            });
            return true;
        } catch (error) {
            console.error('Error creating limit order:', error);
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Failed to create limit order', {
                id: 'limit-order-create'
            });
            return false;
        } finally{
            setIsProcessing(false);
        }
    };
    return {
        submitLimitOrder,
        isProcessing: isProcessing || isApproving || isCreatingOrder,
        isSuccess,
        lastSubmission: submission,
        executionFee: executionFeeFormatted,
        executionFeeError
    };
} /**
 * CARA PAKAI:
 *
 * 1. Import hook ini di LimitOrder.tsx:
 *
 *    import { useLimitOrderSubmit } from './LimitOrderIntegration';
 *
 * 2. Tambahkan di dalam component:
 *
 *    const { submitLimitOrder, isProcessing, executionFee } = useLimitOrderSubmit();
 *    const [limitPrice, setLimitPrice] = useState<string>('');
 *
 * 3. Tambahkan state untuk limit price (line ~165):
 *
 *    const [limitPrice, setLimitPrice] = useState<string>('');
 *
 * 4. Update input "Limit Price" (line 458-491) untuk menggunakan state:
 *
 *    <input
 *      type="text"
 *      placeholder="0.0"
 *      value={limitPrice}
 *      onChange={(e) => {
 *        const value = e.target.value;
 *        if (value === '' || /^\d*\.?\d*$/.test(value)) {
 *          setLimitPrice(value);
 *        }
 *      }}
 *      className="bg-transparent text-xl text-white outline-none w-full"
 *    />
 *
 * 5. Replace "Enter an amount" section (line 715-718) dengan button:
 *
 *    <button
 *      onClick={() => submitLimitOrder({
 *        symbol: activeMarket.symbol,
 *        isLong: activeTab === 'long',
 *        collateral: payAmount,
 *        leverage,
 *        triggerPrice: limitPrice,
 *      })}
 *      disabled={!payAmount || !limitPrice || isProcessing}
 *      className={`w-full py-4 rounded-lg font-semibold text-sm transition-all cursor-pointer ${
 *        !payAmount || !limitPrice || isProcessing
 *          ? 'bg-gray-700 text-gray-400 cursor-not-allowed'
 *          : activeTab === 'long'
 *          ? 'bg-green-500 hover:bg-green-600 text-white'
 *          : activeTab === 'short'
 *          ? 'bg-red-500 hover:bg-red-600 text-white'
 *          : 'bg-blue-500 hover:bg-blue-600 text-white'
 *      }`}
 *    >
 *      {isProcessing ? 'Processing...' : `Create Limit ${activeTab === 'long' ? 'Long' : 'Short'} Order`}
 *    </button>
 *
 * 6. Tampilkan execution fee info (di bawah Collateral In, sekitar line 614):
 *
 *    <div className="flex justify-between items-center text-sm">
 *      <div className="flex items-center gap-1">
 *        <span className="text-gray-400">Execution Fee</span>
 *        <Info size={12} className="text-gray-500" />
 *      </div>
 *      <span className="text-white">${executionFee} USDC</span>
 *    </div>
 *
 * DONE! Limit order sudah terintegrasi penuh 🎉
 */ 
_s(useLimitOrderSubmit, "4685vwMKixqd8aW8+H370fr1mho=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useLimitOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCreateLimitOpenOrder"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useLimitOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useApproveUSDCForLimitOrders"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useLimitOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useExecutionFee"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useLimitOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useLimitExecutorConfig"]
    ];
});
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/limit-order/LimitPriceInput.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "LimitPriceInput",
    ()=>LimitPriceInput
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$utils$2f$formatUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/utils/formatUtils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/image.js [app-client] (ecmascript)");
;
;
;
const LimitPriceInput = ({ limitPrice, onLimitPriceChange, effectiveOraclePrice, activeTab, activeMarket, limitPriceError })=>{
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "bg-trading-surface border border-border-default rounded-lg p-3",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex justify-between items-center mb-2",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                        className: "text-xs text-text-secondary",
                        children: "Limit Price"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/limit-order/LimitPriceInput.tsx",
                        lineNumber: 26,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-xs text-info-light",
                        children: [
                            "Mark: ",
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$utils$2f$formatUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatPrice"])(effectiveOraclePrice)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/limit-order/LimitPriceInput.tsx",
                        lineNumber: 27,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/limit-order/LimitPriceInput.tsx",
                lineNumber: 25,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex items-center justify-between",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                        type: "text",
                        placeholder: "0.0",
                        value: limitPrice,
                        onChange: onLimitPriceChange,
                        className: `bg-transparent text-xl text-text-primary outline-none w-full ${limitPriceError ? 'text-destructive' : ''}`
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/limit-order/LimitPriceInput.tsx",
                        lineNumber: 30,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    activeTab === 'swap' ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-center gap-1.5 text-text-primary font-semibold text-sm whitespace-nowrap ml-3",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                src: "/icons/usdc.png",
                                alt: "USDC",
                                width: 20,
                                height: 20,
                                className: "rounded-full flex-shrink-0",
                                onError: (e)=>{
                                    const target = e.currentTarget;
                                    target.style.display = 'none';
                                }
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/limit-order/LimitPriceInput.tsx",
                                lineNumber: 41,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                children: "USDC per"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/limit-order/LimitPriceInput.tsx",
                                lineNumber: 52,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            activeMarket && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex items-center gap-1",
                                children: [
                                    activeMarket.logoUrl && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                        src: activeMarket.logoUrl,
                                        alt: activeMarket.symbol,
                                        width: 20,
                                        height: 20,
                                        className: "rounded-full flex-shrink-0",
                                        onError: (e)=>{
                                            const target = e.currentTarget;
                                            target.style.display = 'none';
                                        }
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/order-panel/limit-order/LimitPriceInput.tsx",
                                        lineNumber: 56,
                                        columnNumber: 19
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        children: activeMarket.symbol
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/order-panel/limit-order/LimitPriceInput.tsx",
                                        lineNumber: 68,
                                        columnNumber: 17
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/limit-order/LimitPriceInput.tsx",
                                lineNumber: 54,
                                columnNumber: 15
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/limit-order/LimitPriceInput.tsx",
                        lineNumber: 40,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-text-primary font-semibold",
                        children: "USD"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/limit-order/LimitPriceInput.tsx",
                        lineNumber: 73,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/limit-order/LimitPriceInput.tsx",
                lineNumber: 29,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            limitPriceError && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                className: "text-xs text-destructive mt-1 block",
                children: limitPriceError
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/limit-order/LimitPriceInput.tsx",
                lineNumber: 77,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/order-panel/limit-order/LimitPriceInput.tsx",
        lineNumber: 24,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_c = LimitPriceInput;
var _c;
__turbopack_context__.k.register(_c, "LimitPriceInput");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/limit-order/LimitActionButtons.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "LimitActionButtons",
    ()=>LimitActionButtons
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/button.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/loader-circle.js [app-client] (ecmascript) <export default as Loader2>");
;
;
;
const LimitActionButtons = ({ activeTab, authenticated, isProcessing, isUSDCApprovalPending, payAmount, limitPrice, hasLargeAllowance, onAction })=>{
    const isButtonDisabled = !authenticated || !payAmount || !limitPrice || isProcessing || isUSDCApprovalPending;
    // Variant mapping
    const getButtonClass = ()=>{
        if (isButtonDisabled) return 'opacity-60 cursor-not-allowed bg-secondary text-secondary-foreground';
        if (activeTab === 'long') return 'bg-long hover:bg-long-hover text-white shadow-lg shadow-long/20';
        if (activeTab === 'short') return 'bg-short hover:bg-short-hover text-white shadow-lg shadow-short/20';
        return 'bg-swap hover:bg-swap-hover text-white shadow-lg shadow-swap/20';
    };
    const getButtonText = ()=>{
        if (!authenticated) return 'Connect Wallet';
        if (isUSDCApprovalPending) return 'Approving USDC...';
        if (isProcessing) return 'Processing...';
        if (!payAmount) return 'Enter Amount';
        if (!limitPrice) return 'Enter Limit Price';
        if ((activeTab === 'long' || activeTab === 'short') && !hasLargeAllowance) {
            return `Approve & Create ${activeTab === 'long' ? 'Long' : 'Short'} Order`;
        }
        return `Create Limit ${activeTab === 'long' ? 'Long' : 'Short'} Order`;
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
        onClick: onAction,
        disabled: isButtonDisabled,
        className: `w-full font-bold text-base h-12 ${getButtonClass()}`,
        children: [
            (isProcessing || isUSDCApprovalPending) && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__["Loader2"], {
                className: "mr-2 h-4 w-4 animate-spin"
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/limit-order/LimitActionButtons.tsx",
                lineNumber: 60,
                columnNumber: 51
            }, ("TURBOPACK compile-time value", void 0)),
            getButtonText()
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/order-panel/limit-order/LimitActionButtons.tsx",
        lineNumber: 55,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_c = LimitActionButtons;
var _c;
__turbopack_context__.k.register(_c, "LimitActionButtons");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/LimitOrder.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = /*#__PURE__*/ __turbopack_context__.i("[project]/node_modules/next/dist/build/polyfills/process.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$MarketContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/contexts/MarketContext.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$usePrivy$2d$DDM76RFl$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__u__as__usePrivy$3e$__ = __turbopack_context__.i("[project]/node_modules/@privy-io/react-auth/dist/esm/usePrivy-DDM76RFl.mjs [app-client] (ecmascript) <export u as usePrivy>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/unit/parseUnits.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$LimitOrderIntegration$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/LimitOrderIntegration.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useLimitOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/hooks/useLimitOrder.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$useUSDCBalance$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/hooks/data/useUSDCBalance.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/sonner/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$CollateralInput$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/components/CollateralInput.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$LeverageSelector$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/components/LeverageSelector.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$PositionInfo$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/components/PositionInfo.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$TpSlInputs$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/components/TpSlInputs.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$OrderSummary$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/components/OrderSummary.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$limit$2d$order$2f$LimitPriceInput$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/limit-order/LimitPriceInput.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$limit$2d$order$2f$LimitActionButtons$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/limit-order/LimitActionButtons.tsx [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
const LimitOrder = ({ activeTab = 'long' })=>{
    _s();
    const { activeMarket, setActiveMarket, currentPrice } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$MarketContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMarket"])();
    const { authenticated } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$usePrivy$2d$DDM76RFl$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__u__as__usePrivy$3e$__["usePrivy"])();
    const [leverage, setLeverage] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(10);
    const { usdcBalance, isLoadingBalance } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$useUSDCBalance$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useUSDCBalance"])();
    const [oraclePrice, setOraclePrice] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [payAmount, setPayAmount] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('');
    const [limitPrice, setLimitPrice] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('');
    const [isTpSlEnabled, setIsTpSlEnabled] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [takeProfitPrice, setTakeProfitPrice] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('');
    const [stopLossPrice, setStopLossPrice] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('');
    const { submitLimitOrder, isProcessing } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$LimitOrderIntegration$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useLimitOrderSubmit"])();
    const { approve: approveUSDC, allowance, isPending: isApprovalPending, refetchAllowance, isSuccess: isApprovalSuccess } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useLimitOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useApproveUSDCForLimitOrders"])();
    const hasLargeAllowance = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "LimitOrder.useMemo[hasLargeAllowance]": ()=>{
            return Boolean(allowance && allowance > (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])('10000', 6));
        }
    }["LimitOrder.useMemo[hasLargeAllowance]"], [
        allowance
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "LimitOrder.useEffect": ()=>{
            if (isApprovalSuccess) {
                const timer = setTimeout({
                    "LimitOrder.useEffect.timer": ()=>{
                        refetchAllowance();
                    }
                }["LimitOrder.useEffect.timer"], 2000);
                return ({
                    "LimitOrder.useEffect": ()=>clearTimeout(timer)
                })["LimitOrder.useEffect"];
            }
        }
    }["LimitOrder.useEffect"], [
        isApprovalSuccess,
        refetchAllowance
    ]);
    const handleMarketSelect = (market)=>{
        setActiveMarket({
            ...market,
            category: market.category || 'crypto'
        });
    };
    const effectiveOraclePrice = oraclePrice || (currentPrice ? parseFloat(currentPrice) : 0);
    const payUsdValue = payAmount ? parseFloat(payAmount) : 0;
    const longShortUsdValue = payUsdValue * leverage;
    const tokenAmount = effectiveOraclePrice > 0 ? longShortUsdValue / effectiveOraclePrice : 0;
    const liquidationPrice = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "LimitOrder.useMemo[liquidationPrice]": ()=>{
            const triggerPriceNum = limitPrice ? parseFloat(limitPrice) : null;
            if (!triggerPriceNum || !leverage || leverage <= 0 || !payAmount || parseFloat(payAmount) <= 0) {
                return null;
            }
            const liqPercentage = 1 / leverage;
            if (activeTab === 'long') {
                return triggerPriceNum * (1 - liqPercentage);
            } else if (activeTab === 'short') {
                return triggerPriceNum * (1 + liqPercentage);
            }
            return null;
        }
    }["LimitOrder.useMemo[liquidationPrice]"], [
        limitPrice,
        leverage,
        payAmount,
        activeTab
    ]);
    const handlePayInputChange = (e)=>{
        const value = e.target.value;
        if (value === '' || /^\d*\.?\d*$/.test(value)) {
            setPayAmount(value);
        }
    };
    const handleLimitPriceChange = (e)=>{
        const value = e.target.value;
        if (value === '' || /^\d*\.?\d*$/.test(value)) {
            setLimitPrice(value);
        }
    };
    const handleMaxClick = ()=>{
        setPayAmount(usdcBalance);
    };
    // Fetch Pyth Oracle price via WebSocket
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "LimitOrder.useEffect": ()=>{
            const wsUrl = (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:3001').replace(/^http/, 'ws') + '/ws/price';
            const ws = new WebSocket(wsUrl);
            ws.onmessage = ({
                "LimitOrder.useEffect": (event)=>{
                    try {
                        const message = JSON.parse(event.data);
                        if (message.type === 'price_update' && message.data && activeMarket) {
                            const priceData = message.data[activeMarket.symbol];
                            if (priceData) {
                                setOraclePrice(priceData.price);
                            }
                        }
                    } catch (error) {
                    // Silent error
                    }
                }
            })["LimitOrder.useEffect"];
            return ({
                "LimitOrder.useEffect": ()=>{
                    if (ws.readyState === WebSocket.OPEN) ws.close();
                }
            })["LimitOrder.useEffect"];
        }
    }["LimitOrder.useEffect"], [
        activeMarket
    ]);
    const handleCreateOrder = async ()=>{
        if (!activeMarket) return;
        const needsApproval = (activeTab === 'long' || activeTab === 'short') && !hasLargeAllowance;
        if (needsApproval) {
            try {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].loading('Approving USDC...', {
                    id: 'limit-approval'
                });
                const maxAmount = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])('1000000', 6).toString();
                await approveUSDC(maxAmount);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success('Approved!', {
                    id: 'limit-approval'
                });
            } catch (error) {
                console.error('Approval failed:', error);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Approval failed or rejected', {
                    id: 'limit-approval'
                });
                return;
            }
        }
        let tpPrice;
        let slPrice;
        if (isTpSlEnabled) {
            if (takeProfitPrice) {
                const tpNum = parseFloat(takeProfitPrice);
                if (!isNaN(tpNum) && tpNum > 0) {
                    tpPrice = Math.floor(tpNum * 100000000).toString();
                }
            }
            if (stopLossPrice) {
                const slNum = parseFloat(stopLossPrice);
                if (!isNaN(slNum) && slNum > 0) {
                    slPrice = Math.floor(slNum * 100000000).toString();
                }
            }
        }
        await submitLimitOrder({
            symbol: activeMarket.symbol,
            isLong: activeTab === 'long',
            collateral: payAmount || '0',
            leverage,
            triggerPrice: limitPrice || '0',
            takeProfit: tpPrice,
            stopLoss: slPrice
        });
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "flex flex-col gap-3 py-4",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$CollateralInput$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CollateralInput"], {
                value: payAmount,
                onChange: handlePayInputChange,
                balance: usdcBalance,
                isLoadingBalance: isLoadingBalance,
                onMaxClick: handleMaxClick,
                label: "Pay",
                tokenSymbol: "USDC"
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/LimitOrder.tsx",
                lineNumber: 186,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$PositionInfo$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PositionInfo"], {
                activeTab: activeTab,
                payUsdValue: payUsdValue,
                oraclePrice: effectiveOraclePrice,
                longShortUsdValue: longShortUsdValue,
                tokenAmount: tokenAmount,
                leverage: leverage,
                activeMarket: activeMarket,
                onMarketSelect: handleMarketSelect
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/LimitOrder.tsx",
                lineNumber: 197,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$limit$2d$order$2f$LimitPriceInput$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LimitPriceInput"], {
                limitPrice: limitPrice,
                onLimitPriceChange: handleLimitPriceChange,
                effectiveOraclePrice: effectiveOraclePrice,
                activeTab: activeTab,
                activeMarket: activeMarket
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/LimitOrder.tsx",
                lineNumber: 209,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            activeTab !== 'swap' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$LeverageSelector$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LeverageSelector"], {
                leverage: leverage,
                onLeverageChange: setLeverage
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/LimitOrder.tsx",
                lineNumber: 219,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0)),
            activeTab === 'swap' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "text-center py-3 text-gray-500 text-sm",
                children: "Select different tokens"
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/LimitOrder.tsx",
                lineNumber: 224,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0)),
            activeTab !== 'swap' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$TpSlInputs$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TpSlInputs"], {
                isTpSlEnabled: isTpSlEnabled,
                setIsTpSlEnabled: setIsTpSlEnabled,
                takeProfitPrice: takeProfitPrice,
                setTakeProfitPrice: setTakeProfitPrice,
                stopLossPrice: stopLossPrice,
                setStopLossPrice: setStopLossPrice
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/LimitOrder.tsx",
                lineNumber: 229,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$OrderSummary$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["OrderSummary"], {
                oraclePrice: effectiveOraclePrice,
                liquidationPrice: liquidationPrice,
                tradingFee: payAmount && leverage > 0 ? (parseFloat(payAmount) * leverage * 0.0005).toFixed(6) : '0.00',
                payAmount: payAmount,
                leverage: leverage
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/LimitOrder.tsx",
                lineNumber: 240,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$limit$2d$order$2f$LimitActionButtons$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LimitActionButtons"], {
                activeTab: activeTab,
                authenticated: authenticated,
                isProcessing: isProcessing,
                isUSDCApprovalPending: isApprovalPending,
                payAmount: payAmount,
                limitPrice: limitPrice,
                hasLargeAllowance: hasLargeAllowance,
                onAction: handleCreateOrder
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/LimitOrder.tsx",
                lineNumber: 253,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/order-panel/LimitOrder.tsx",
        lineNumber: 184,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_s(LimitOrder, "pnMrd24GLYbSvz8C/2vnx7yB38Y=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$MarketContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMarket"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$usePrivy$2d$DDM76RFl$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__u__as__usePrivy$3e$__["usePrivy"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$useUSDCBalance$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useUSDCBalance"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$LimitOrderIntegration$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useLimitOrderSubmit"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useLimitOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useApproveUSDCForLimitOrders"]
    ];
});
_c = LimitOrder;
const __TURBOPACK__default__export__ = LimitOrder;
var _c;
__turbopack_context__.k.register(_c, "LimitOrder");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TimeframeSelector.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "TimeframeSelector",
    ()=>TimeframeSelector
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/select.tsx [app-client] (ecmascript)");
;
;
const TIMEFRAME_OPTIONS = [
    {
        label: '1m',
        value: '1'
    },
    {
        label: '5m',
        value: '5'
    },
    {
        label: '15m',
        value: '15'
    },
    {
        label: '30m',
        value: '30'
    },
    {
        label: '1H',
        value: '60'
    },
    {
        label: '4H',
        value: '240'
    },
    {
        label: '1D',
        value: 'D'
    }
];
const TimeframeSelector = ({ timeframe, setTimeframe, disabled = false })=>{
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: disabled ? 'opacity-50 pointer-events-none' : '',
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                className: "text-xs text-text-secondary mb-2 block",
                children: "Timeframe"
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TimeframeSelector.tsx",
                lineNumber: 38,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Select"], {
                value: timeframe,
                onValueChange: setTimeframe,
                disabled: disabled,
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectTrigger"], {
                        className: "w-full bg-trading-surface border-border-default h-11",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectValue"], {
                            placeholder: "Select timeframe"
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TimeframeSelector.tsx",
                            lineNumber: 41,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TimeframeSelector.tsx",
                        lineNumber: 40,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectContent"], {
                        className: "bg-trading-surface border-border-default",
                        children: TIMEFRAME_OPTIONS.map((option)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectItem"], {
                                value: option.value,
                                className: "text-text-primary focus:bg-trading-elevated focus:text-text-primary",
                                children: option.label
                            }, option.value, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TimeframeSelector.tsx",
                                lineNumber: 45,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)))
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TimeframeSelector.tsx",
                        lineNumber: 43,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TimeframeSelector.tsx",
                lineNumber: 39,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TimeframeSelector.tsx",
        lineNumber: 37,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_c = TimeframeSelector;
var _c;
__turbopack_context__.k.register(_c, "TimeframeSelector");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "GridSettings",
    ()=>GridSettings
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$grid$2d$3x3$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Grid$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/grid-3x3.js [app-client] (ecmascript) <export default as Grid>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$info$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Info$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/info.js [app-client] (ecmascript) <export default as Info>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$TapToTradeContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/contexts/TapToTradeContext.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$slider$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/slider.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/input.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/tooltip.tsx [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
;
;
;
;
;
const GridSettings = ({ tradeMode, activeMarket, timeframe, currentPrice, setHasSelectedYGrid })=>{
    _s();
    const tapToTrade = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$TapToTradeContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTapToTrade"])();
    if (tradeMode !== 'open-position') return null;
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "space-y-4 border-t border-border-muted pt-4",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "font-semibold text-text-secondary flex items-center gap-2 mys-2",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$grid$2d$3x3$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Grid$3e$__["Grid"], {
                        size: 14
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                        lineNumber: 32,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    "Tap to Trade Grid Settings"
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                lineNumber: 31,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: tapToTrade.isEnabled ? 'opacity-50 pointer-events-none' : '',
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                        className: "text-xs text-text-secondary mb-3 flex items-center gap-1",
                        children: [
                            "X Coordinate (Time Grid Size)",
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Tooltip"], {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipTrigger"], {
                                        asChild: true,
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "cursor-help inline-flex",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$info$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Info$3e$__["Info"], {
                                                size: 12,
                                                className: "text-text-muted hover:text-text-primary transition-colors"
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                                lineNumber: 43,
                                                columnNumber: 17
                                            }, ("TURBOPACK compile-time value", void 0))
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                            lineNumber: 42,
                                            columnNumber: 15
                                        }, ("TURBOPACK compile-time value", void 0))
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                        lineNumber: 41,
                                        columnNumber: 13
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipContent"], {
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                            children: [
                                                "1 Grid Column = ",
                                                tapToTrade.gridSizeX,
                                                " Candle",
                                                tapToTrade.gridSizeX > 1 ? 's' : ''
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                            lineNumber: 50,
                                            columnNumber: 15
                                        }, ("TURBOPACK compile-time value", void 0))
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                        lineNumber: 49,
                                        columnNumber: 13
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                lineNumber: 40,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                        lineNumber: 38,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-center gap-3",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$slider$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Slider"], {
                                value: [
                                    tapToTrade.gridSizeX
                                ],
                                min: 1,
                                max: 15,
                                step: 1,
                                onValueChange: (val)=>tapToTrade.setGridSizeX(val[0]),
                                disabled: tapToTrade.isEnabled,
                                className: "flex-1"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                lineNumber: 58,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex items-center gap-2",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "bg-trading-surface border border-border-default rounded p-3 py-1.5 min-w-[30px] text-center",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "text-text-primary font-semibold text-sm",
                                            children: tapToTrade.gridSizeX
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                            lineNumber: 69,
                                            columnNumber: 15
                                        }, ("TURBOPACK compile-time value", void 0))
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                        lineNumber: 68,
                                        columnNumber: 13
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-text-muted text-xs",
                                        children: " candles"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                        lineNumber: 73,
                                        columnNumber: 13
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                lineNumber: 67,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                        lineNumber: 57,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                lineNumber: 37,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: tapToTrade.isEnabled ? 'opacity-50 pointer-events-none' : '',
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                        className: "text-xs text-text-secondary mb-2 flex items-center gap-1",
                        children: [
                            "Y Coordinate (Price Grid Size)",
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Tooltip"], {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipTrigger"], {
                                        asChild: true,
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "cursor-help inline-flex",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$info$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Info$3e$__["Info"], {
                                                size: 12,
                                                className: "text-text-muted hover:text-text-primary transition-colors"
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                                lineNumber: 85,
                                                columnNumber: 17
                                            }, ("TURBOPACK compile-time value", void 0))
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                            lineNumber: 84,
                                            columnNumber: 15
                                        }, ("TURBOPACK compile-time value", void 0))
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                        lineNumber: 83,
                                        columnNumber: 13
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipContent"], {
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                            children: [
                                                "Each Grid Row = ",
                                                tapToTrade.gridSizeY.toFixed(1),
                                                "% Price Difference"
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                            lineNumber: 92,
                                            columnNumber: 15
                                        }, ("TURBOPACK compile-time value", void 0))
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                        lineNumber: 91,
                                        columnNumber: 13
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                lineNumber: 82,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                        lineNumber: 80,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-center gap-2",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "relative w-full",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Input"], {
                                    type: "number",
                                    min: "0.01",
                                    max: "100",
                                    step: "0.01",
                                    value: tapToTrade.gridSizeY,
                                    onChange: (e)=>{
                                        tapToTrade.setGridSizeY(parseFloat(e.target.value) || 0.001);
                                        setHasSelectedYGrid(true);
                                    },
                                    disabled: tapToTrade.isEnabled,
                                    className: "bg-trading-surface border-border-default pr-8"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                    lineNumber: 99,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "absolute right-3 top-1/2 -translate-y-1/2 text-text-muted text-sm",
                                    children: "%"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                    lineNumber: 112,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                            lineNumber: 98,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                        lineNumber: 97,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    Number(currentPrice) > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "mt-3",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                className: "text-xs text-text-secondary mb-2 block",
                                children: "Price difference per grid"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                lineNumber: 121,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "bg-trading-surface border border-border-default rounded-lg px-3 py-2.5 flex items-center gap-2",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-text-primary font-medium",
                                        children: (Number(currentPrice) * tapToTrade.gridSizeY / 100).toFixed(2)
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                        lineNumber: 125,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-text-muted text-sm",
                                        children: "$"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                        lineNumber: 128,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                lineNumber: 124,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                        lineNumber: 120,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                lineNumber: 79,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            tapToTrade.isEnabled && tapToTrade.cellOrders.size > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "bg-trading-surface rounded-lg p-3 space-y-2 border border-border-default",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "text-xs font-semibold text-text-primary mb-2",
                        children: "Active Orders"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                        lineNumber: 137,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between text-xs",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-text-secondary",
                                children: "Total Orders:"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                lineNumber: 139,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-text-primary font-semibold",
                                children: Array.from(tapToTrade.cellOrders.values()).reduce((sum, cell)=>sum + cell.orderCount, 0)
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                lineNumber: 140,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                        lineNumber: 138,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between text-xs",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-text-secondary",
                                children: "Cells with Orders:"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                lineNumber: 148,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-text-primary font-semibold",
                                children: tapToTrade.cellOrders.size
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                                lineNumber: 149,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                        lineNumber: 147,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
                lineNumber: 136,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx",
        lineNumber: 30,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_s(GridSettings, "Jq+G5JH6MGnRoDHBeTfkoQrubCA=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$TapToTradeContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTapToTrade"]
    ];
});
_c = GridSettings;
var _c;
__turbopack_context__.k.register(_c, "GridSettings");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeActionButtons.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "TradeActionButtons",
    ()=>TradeActionButtons
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/sonner/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/button.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/loader-circle.js [app-client] (ecmascript) <export default as Loader2>");
;
;
;
;
const TradeActionButtons = ({ tradeMode, tapToTrade, activeMarket, marginAmount, leverage, timeframe, currentPrice, hasLargeAllowance, hasLargeOneTapProfitAllowance, hasSelectedYGrid, wallets, onPreApprove, onPreApproveOneTapProfit, isApprovalPending, isOneTapProfitApprovalPending, disabled, onMobileClose })=>{
    const handleMainAction = async ()=>{
        if (tradeMode === 'open-position' && !hasLargeAllowance) {
            await onPreApprove();
        } else if (tradeMode === 'one-tap-profit' && !hasLargeOneTapProfitAllowance) {
            await onPreApproveOneTapProfit();
        }
        if (!marginAmount || parseFloat(marginAmount) === 0) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error(tradeMode === 'one-tap-profit' ? 'Please enter bet amount' : 'Please enter margin amount');
            return;
        }
        if (tradeMode === 'open-position' && !hasSelectedYGrid) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Please select Y Coordinate (Price Grid) first');
            return;
        }
        if (tradeMode === 'open-position') {
            await tapToTrade.toggleMode({
                symbol: activeMarket?.symbol || 'BTC',
                margin: marginAmount,
                leverage: leverage,
                timeframe: timeframe,
                currentPrice: Number(currentPrice) || 0
            });
            onMobileClose?.();
        } else {
            // Binary Trading Logic
            try {
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].loading('Creating session key...', {
                    id: 'binary-session'
                });
                const embeddedWallet = wallets.find((w)=>w.walletClientType === 'privy');
                if (!embeddedWallet) throw new Error('Privy wallet not found');
                const walletClient = await embeddedWallet.getEthereumProvider();
                if (!walletClient) throw new Error('Could not get wallet client');
                const newSession = await tapToTrade.createSession(embeddedWallet.address, walletClient, 30 * 60 * 1000);
                if (!newSession) throw new Error('Session creation failed');
                await tapToTrade.toggleMode({
                    symbol: activeMarket?.symbol || 'BTC',
                    margin: marginAmount,
                    leverage: 1,
                    timeframe: '1',
                    currentPrice: Number(currentPrice) || 0
                });
                tapToTrade.setIsBinaryTradingEnabled(true);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success('Binary Trading enabled!', {
                    id: 'binary-session',
                    duration: 5000
                });
                onMobileClose?.();
            } catch (error) {
                console.error('Failed to enable binary trading:', error);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Failed to enable binary trading', {
                    id: 'binary-session'
                });
            }
        }
    };
    const STOP_ACTION = async ()=>{
        if (tradeMode === 'one-tap-profit') {
            tapToTrade.setIsBinaryTradingEnabled(false);
            await tapToTrade.toggleMode();
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success('Binary Trading stopped');
        } else {
            await tapToTrade.toggleMode();
        }
    };
    if (tapToTrade.isEnabled) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
            variant: "destructive",
            size: "lg",
            onClick: STOP_ACTION,
            disabled: tapToTrade.isLoading,
            className: "w-full mt-2 font-bold shadow-lg shadow-destructive/30",
            children: tapToTrade.isLoading ? 'Stopping...' : tradeMode === 'one-tap-profit' ? 'Stop Trading' : 'Stop Tap to Trade'
        }, void 0, false, {
            fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeActionButtons.tsx",
            lineNumber: 128,
            columnNumber: 7
        }, ("TURBOPACK compile-time value", void 0));
    }
    // Determine Button State
    let buttonText = 'Enable Tap to Trade';
    let isLoading = false;
    let variant = 'default';
    if (tradeMode === 'open-position') {
        if (!hasLargeAllowance) {
            buttonText = isApprovalPending ? 'Approving USDC...' : 'Enable One-Click Trading';
            isLoading = isApprovalPending;
            variant = 'default';
        } else {
            buttonText = tapToTrade.isLoading ? 'Setting up session...' : 'Enable Tap to Trade';
            isLoading = tapToTrade.isLoading;
        }
    } else {
        if (!hasLargeOneTapProfitAllowance) {
            buttonText = isOneTapProfitApprovalPending ? 'Approving USDC...' : 'Enable One-Click Binary';
            isLoading = isOneTapProfitApprovalPending;
        } else {
            buttonText = tapToTrade.isLoading ? 'Setting up session...' : 'Enable Binary Trade';
            isLoading = tapToTrade.isLoading;
        }
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
        size: "lg",
        className: "w-full mt-2 font-bold shadow-lg shadow-primary/30",
        onClick: handleMainAction,
        disabled: disabled || isLoading,
        children: [
            isLoading && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__["Loader2"], {
                className: "mr-2 h-4 w-4 animate-spin"
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeActionButtons.tsx",
                lineNumber: 175,
                columnNumber: 21
            }, ("TURBOPACK compile-time value", void 0)),
            buttonText
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeActionButtons.tsx",
        lineNumber: 169,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_c = TradeActionButtons;
var _c;
__turbopack_context__.k.register(_c, "TradeActionButtons");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "TradeInfoSection",
    ()=>TradeInfoSection
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$utils$2f$formatUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/utils/formatUtils.ts [app-client] (ecmascript)");
;
;
const TradeInfoSection = ({ tradeMode, activeMarket, marginUsdValue, leverage, selectedTimeframeLabel, xCoordinate, yCoordinate })=>{
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "text-xs text-text-muted space-y-1 border-t border-border-muted pt-3",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex justify-between",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        children: "Mode:"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                        lineNumber: 28,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-text-primary",
                        children: tradeMode === 'open-position' ? 'Open Position' : 'One Tap Profit'
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                        lineNumber: 29,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                lineNumber: 27,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex justify-between",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        children: "Market:"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                        lineNumber: 34,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-text-primary",
                        children: [
                            activeMarket?.symbol || 'BTC',
                            "/USD"
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                        lineNumber: 35,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                lineNumber: 33,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex justify-between",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        children: tradeMode === 'one-tap-profit' ? 'Bet Amount:' : 'Margin:'
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                        lineNumber: 38,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-text-primary",
                        children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$utils$2f$formatUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatPrice"])(marginUsdValue)
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                        lineNumber: 39,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                lineNumber: 37,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            tradeMode !== 'one-tap-profit' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex justify-between",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        children: "Leverage:"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                        lineNumber: 43,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-text-primary",
                        children: [
                            leverage.toFixed(1),
                            "x"
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                        lineNumber: 44,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                lineNumber: 42,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0)),
            tradeMode === 'open-position' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex justify-between",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        children: "Timeframe:"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                        lineNumber: 49,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-text-primary",
                        children: selectedTimeframeLabel
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                        lineNumber: 50,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                lineNumber: 48,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0)),
            xCoordinate && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex justify-between",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        children: "X (Time):"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                        lineNumber: 55,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-text-primary",
                        children: xCoordinate
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                        lineNumber: 56,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                lineNumber: 54,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0)),
            yCoordinate && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex justify-between",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        children: "Y (Price):"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                        lineNumber: 61,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-text-primary",
                        children: [
                            "$",
                            yCoordinate
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                        lineNumber: 62,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
                lineNumber: 60,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx",
        lineNumber: 26,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_c = TradeInfoSection;
var _c;
__turbopack_context__.k.register(_c, "TradeInfoSection");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/TaptoTrade.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$info$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Info$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/info.js [app-client] (ecmascript) <export default as Info>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$MarketContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/contexts/MarketContext.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$TapToTradeContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/contexts/TapToTradeContext.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$useUSDCBalance$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/hooks/data/useUSDCBalance.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useTapToTradeApproval$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/wallet/hooks/useTapToTradeApproval.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useOneTapProfitApproval$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/wallet/hooks/useOneTapProfitApproval.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__ = __turbopack_context__.i("[project]/node_modules/@privy-io/react-auth/dist/esm/SignRequestScreen-BQBgOoh_.mjs [app-client] (ecmascript) <export ae as useWallets>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/unit/parseUnits.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/sonner/dist/index.mjs [app-client] (ecmascript)");
// Import Shared Components
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$MarketSelector$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/components/MarketSelector.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$CollateralInput$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/components/CollateralInput.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$LeverageSelector$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/components/LeverageSelector.tsx [app-client] (ecmascript)");
// Import Feature Specific Components
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$tap$2d$to$2d$trade$2f$TimeframeSelector$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TimeframeSelector.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$tap$2d$to$2d$trade$2f$GridSettings$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/tap-to-trade/GridSettings.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$tap$2d$to$2d$trade$2f$TradeActionButtons$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeActionButtons.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$tap$2d$to$2d$trade$2f$TradeInfoSection$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/tap-to-trade/TradeInfoSection.tsx [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
const TapToTrade = ({ onMobileClose })=>{
    _s();
    const { activeMarket, setActiveMarket, timeframe, setTimeframe, currentPrice } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$MarketContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMarket"])();
    const { usdcBalance, isLoadingBalance } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$useUSDCBalance$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useUSDCBalance"])();
    const { wallets } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"])();
    const [leverage, setLeverage] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(10);
    const [marginAmount, setMarginAmount] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('');
    const [isMarketSelectorOpen, setIsMarketSelectorOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [hasSelectedYGrid, setHasSelectedYGrid] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false); // Track if user explicitly selected Y grid
    // Approval hook for USDC (TapToTradeExecutor-specific)
    const { approve: approveUSDC, allowance, isPending: isApprovalPending } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useTapToTradeApproval$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTapToTradeApproval"])();
    // Approval hook for USDC (OneTapProfit-specific)
    const { approve: approveOneTapProfit, allowance: oneTapProfitAllowance, isPending: isOneTapProfitApprovalPending } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useOneTapProfitApproval$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useOneTapProfitApproval"])();
    // Tap to Trade dari Context
    const tapToTrade = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$TapToTradeContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTapToTrade"])();
    // Use trade mode from context
    const tradeMode = tapToTrade.tradeMode;
    const leverageMarkers = [
        1,
        2,
        5,
        10,
        25,
        50,
        100
    ]; // Updated to match MarketOrder
    // Check if we have large allowance (> $10,000) - memoized to prevent setState during render
    const hasLargeAllowance = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "TapToTrade.useMemo[hasLargeAllowance]": ()=>{
            return Boolean(allowance && allowance > (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])('10000', 6));
        }
    }["TapToTrade.useMemo[hasLargeAllowance]"], [
        allowance
    ]);
    // Check if OneTapProfit has large allowance
    const hasLargeOneTapProfitAllowance = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "TapToTrade.useMemo[hasLargeOneTapProfitAllowance]": ()=>{
            return Boolean(oneTapProfitAllowance && oneTapProfitAllowance > (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])('10000', 6));
        }
    }["TapToTrade.useMemo[hasLargeOneTapProfitAllowance]"], [
        oneTapProfitAllowance
    ]);
    // Handler for pre-approve USDC in large amount
    const handlePreApprove = async ()=>{
        try {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].loading('Approving unlimited USDC...', {
                id: 'pre-approve'
            });
            // Approve 1 million USDC (enough for many trades)
            const maxAmount = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])('1000000', 6).toString();
            await approveUSDC(maxAmount);
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success('Pre-approved! You can now trade without approval popups', {
                id: 'pre-approve',
                duration: 5000
            });
        } catch (error) {
            console.error('Pre-approve error:', error);
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Failed to approve USDC. Please try again.', {
                id: 'pre-approve'
            });
        }
    };
    // Handler for pre-approve USDC for OneTapProfit
    const handlePreApproveOneTapProfit = async ()=>{
        try {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].loading('Approving unlimited USDC for Binary Trading...', {
                id: 'binary-pre-approve'
            });
            // Approve 1 million USDC (enough for many bets)
            const maxAmount = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$parseUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["parseUnits"])('1000000', 6).toString();
            await approveOneTapProfit(maxAmount);
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success('Pre-approved! You can now enable Binary Trading', {
                id: 'binary-pre-approve',
                duration: 5000
            });
        } catch (error) {
            console.error('OneTapProfit pre-approve error:', error);
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Failed to approve USDC. Please try again.', {
                id: 'binary-pre-approve'
            });
        }
    };
    // Handler untuk mengganti market dan update chart
    const handleMarketSelect = (market)=>{
        setActiveMarket({
            ...market,
            category: market.category || 'crypto'
        });
        setIsMarketSelectorOpen(false);
    };
    const handleMarginInputChange = (e)=>{
        const value = e.target.value;
        if (value === '' || /^\d*\.?\d*$/.test(value)) {
            setMarginAmount(value);
            // Sync with context for OneTapProfit mode
            if (tradeMode === 'one-tap-profit') {
                tapToTrade.setBetAmount(value);
            }
        }
    };
    const handleMaxClick = ()=>{
        setMarginAmount(usdcBalance);
    };
    const marginUsdValue = marginAmount ? parseFloat(marginAmount) : 0;
    const selectedTimeframeLabel = timeframe === '1' ? '1m' : timeframe === '5' ? '5m' : timeframe === '15' ? '15m' : timeframe === '30' ? '30m' : timeframe === '60' ? '1H' : timeframe === '240' ? '4H' : timeframe === 'D' ? '1D' : '1m';
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "flex flex-col gap-3 px-4 py-4 bg-trading-bg h-full",
        children: [
            tradeMode === 'one-tap-profit' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "bg-info/10 border border-info/50 rounded-lg p-3",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex items-start gap-2",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$info$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Info$3e$__["Info"], {
                            size: 16,
                            className: "text-info flex-shrink-0 mt-0.5"
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/TaptoTrade.tsx",
                            lineNumber: 152,
                            columnNumber: 13
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex-1 space-y-1",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "text-xs font-semibold text-info",
                                    children: "One Tap Profit Mode"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/TaptoTrade.tsx",
                                    lineNumber: 154,
                                    columnNumber: 15
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "text-xs text-info space-y-0.5",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            children: "• Chart updates in real-time per second"
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/order-panel/TaptoTrade.tsx",
                                            lineNumber: 156,
                                            columnNumber: 17
                                        }, ("TURBOPACK compile-time value", void 0)),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            children: "• Fixed grid: 10 seconds per X-axis"
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/order-panel/TaptoTrade.tsx",
                                            lineNumber: 157,
                                            columnNumber: 17
                                        }, ("TURBOPACK compile-time value", void 0)),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            children: [
                                                "• Price grid: $",
                                                activeMarket?.symbol === 'SOL' ? '0.1' : '10',
                                                " per Y-axis increment"
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/src/features/trading/components/orders/order-panel/TaptoTrade.tsx",
                                            lineNumber: 158,
                                            columnNumber: 17
                                        }, ("TURBOPACK compile-time value", void 0))
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/TaptoTrade.tsx",
                                    lineNumber: 155,
                                    columnNumber: 15
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/TaptoTrade.tsx",
                            lineNumber: 153,
                            columnNumber: 13
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/orders/order-panel/TaptoTrade.tsx",
                    lineNumber: 151,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/TaptoTrade.tsx",
                lineNumber: 150,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$MarketSelector$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MarketSelector"], {
                value: activeMarket,
                onSelect: handleMarketSelect,
                disabled: tapToTrade.isEnabled && tradeMode === 'open-position'
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/TaptoTrade.tsx",
                lineNumber: 169,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$CollateralInput$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CollateralInput"], {
                value: marginAmount,
                onChange: handleMarginInputChange,
                balance: usdcBalance,
                isLoadingBalance: isLoadingBalance,
                onMaxClick: handleMaxClick,
                label: tradeMode === 'one-tap-profit' ? 'Bet Amount' : 'Margin',
                disabled: tapToTrade.isEnabled
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/TaptoTrade.tsx",
                lineNumber: 176,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            tradeMode !== 'one-tap-profit' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$components$2f$LeverageSelector$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["LeverageSelector"], {
                leverage: leverage,
                onLeverageChange: setLeverage,
                disabled: tapToTrade.isEnabled,
                markers: leverageMarkers
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/TaptoTrade.tsx",
                lineNumber: 188,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0)),
            tradeMode === 'open-position' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$tap$2d$to$2d$trade$2f$TimeframeSelector$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TimeframeSelector"], {
                timeframe: timeframe,
                setTimeframe: setTimeframe,
                disabled: tapToTrade.isEnabled
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/TaptoTrade.tsx",
                lineNumber: 198,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$tap$2d$to$2d$trade$2f$GridSettings$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["GridSettings"], {
                tradeMode: tradeMode === 'open-position' ? 'open-position' : 'one-tap-profit',
                activeMarket: activeMarket,
                timeframe: timeframe,
                currentPrice: currentPrice,
                setHasSelectedYGrid: setHasSelectedYGrid
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/TaptoTrade.tsx",
                lineNumber: 206,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$tap$2d$to$2d$trade$2f$TradeInfoSection$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TradeInfoSection"], {
                tradeMode: tradeMode === 'open-position' ? 'open-position' : 'one-tap-profit',
                activeMarket: activeMarket,
                marginUsdValue: marginUsdValue,
                leverage: leverage,
                timeframe: timeframe,
                selectedTimeframeLabel: selectedTimeframeLabel,
                xCoordinate: tapToTrade.gridSizeX ? tapToTrade.gridSizeX.toString() : '',
                yCoordinate: tapToTrade.gridSizeY ? tapToTrade.gridSizeY.toString() : ''
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/TaptoTrade.tsx",
                lineNumber: 215,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$tap$2d$to$2d$trade$2f$TradeActionButtons$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TradeActionButtons"], {
                tradeMode: tradeMode === 'open-position' ? 'open-position' : 'one-tap-profit',
                tapToTrade: tapToTrade,
                activeMarket: activeMarket,
                marginAmount: marginAmount,
                leverage: leverage,
                timeframe: timeframe,
                currentPrice: currentPrice,
                hasLargeAllowance: hasLargeAllowance,
                hasLargeOneTapProfitAllowance: hasLargeOneTapProfitAllowance,
                hasSelectedYGrid: hasSelectedYGrid,
                wallets: wallets,
                onPreApprove: handlePreApprove,
                onPreApproveOneTapProfit: handlePreApproveOneTapProfit,
                isApprovalPending: isApprovalPending,
                isOneTapProfitApprovalPending: isOneTapProfitApprovalPending,
                disabled: tradeMode === 'one-tap-profit' ? !marginAmount || !activeMarket : !marginAmount || !leverage || !timeframe || !activeMarket || !hasSelectedYGrid,
                onMobileClose: onMobileClose
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/TaptoTrade.tsx",
                lineNumber: 227,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/order-panel/TaptoTrade.tsx",
        lineNumber: 147,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_s(TapToTrade, "AWWzHkpM4Qhaq1D552z0tknB6eg=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$MarketContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMarket"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$useUSDCBalance$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useUSDCBalance"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$SignRequestScreen$2d$BQBgOoh_$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__ae__as__useWallets$3e$__["useWallets"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useTapToTradeApproval$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTapToTradeApproval"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useOneTapProfitApproval$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useOneTapProfitApproval"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$TapToTradeContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTapToTrade"]
    ];
});
_c = TapToTrade;
const __TURBOPACK__default__export__ = TapToTrade;
var _c;
__turbopack_context__.k.register(_c, "TapToTrade");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$arrow$2d$down$2d$up$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ArrowDownUp$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/arrow-down-up.js [app-client] (ecmascript) <export default as ArrowDownUp>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$info$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Info$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/info.js [app-client] (ecmascript) <export default as Info>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$usePrivy$2d$DDM76RFl$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__u__as__usePrivy$3e$__ = __turbopack_context__.i("[project]/node_modules/@privy-io/react-auth/dist/esm/usePrivy-DDM76RFl.mjs [app-client] (ecmascript) <export u as usePrivy>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$useUSDCBalance$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/hooks/data/useUSDCBalance.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
;
;
// Mock exchange rate: 1 DASH = 0.1 USDC (or 1 USDC = 10 DASH)
const EXCHANGE_RATE = 10; // DASH per USDC
const SLIPPAGE = 0.5; // 0.5% slippage
const SWAP_FEE = 0.003; // 0.3% swap fee
const TOKENS = {
    USDC: {
        symbol: 'USDC',
        name: 'USD Coin',
        logo: '/icons/usdc.png'
    },
    DASH: {
        symbol: 'DASH',
        name: 'Dash Token',
        logo: '/dash-polos.png'
    }
};
const SwapPanel = ()=>{
    _s();
    const { authenticated } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$usePrivy$2d$DDM76RFl$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__u__as__usePrivy$3e$__["usePrivy"])();
    const { usdcBalance, isLoadingBalance } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$useUSDCBalance$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useUSDCBalance"])();
    const [fromToken, setFromToken] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(TOKENS.USDC);
    const [toToken, setToToken] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(TOKENS.DASH);
    const [fromAmount, setFromAmount] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('');
    const [isSwapping, setIsSwapping] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    // Calculate exchange amounts
    const toAmount = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "SwapPanel.useMemo[toAmount]": ()=>{
            if (!fromAmount || parseFloat(fromAmount) === 0) return '';
            const amount = parseFloat(fromAmount);
            let result;
            if (fromToken.symbol === 'USDC') {
                // USDC to DASH
                result = amount * EXCHANGE_RATE * (1 - SWAP_FEE);
            } else {
                // DASH to USDC
                result = amount / EXCHANGE_RATE * (1 - SWAP_FEE);
            }
            return result.toFixed(6);
        }
    }["SwapPanel.useMemo[toAmount]"], [
        fromAmount,
        fromToken.symbol
    ]);
    // Calculate price impact (mock)
    const priceImpact = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "SwapPanel.useMemo[priceImpact]": ()=>{
            if (!fromAmount || parseFloat(fromAmount) === 0) return '0.00';
            const amount = parseFloat(fromAmount);
            // Simple mock: larger trades have more impact
            return Math.min(amount / 1000, 2).toFixed(2);
        }
    }["SwapPanel.useMemo[priceImpact]"], [
        fromAmount
    ]);
    // Calculate minimum received with slippage
    const minimumReceived = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "SwapPanel.useMemo[minimumReceived]": ()=>{
            if (!toAmount) return '';
            const amount = parseFloat(toAmount);
            return (amount * (1 - SLIPPAGE / 100)).toFixed(6);
        }
    }["SwapPanel.useMemo[minimumReceived]"], [
        toAmount
    ]);
    const handleFromAmountChange = (e)=>{
        const value = e.target.value;
        if (value === '' || /^\d*\.?\d*$/.test(value)) {
            setFromAmount(value);
        }
    };
    const handleMaxClick = ()=>{
        if (fromToken.symbol === 'USDC') {
            setFromAmount(usdcBalance);
        } else {
            // Mock TETHRA balance
            setFromAmount('0');
        }
    };
    const handleSwapTokens = ()=>{
        // Swap the tokens
        const temp = fromToken;
        setFromToken(toToken);
        setToToken(temp);
        // Clear amounts
        setFromAmount('');
    };
    const handleSwap = async ()=>{
        if (!authenticated) return;
        setIsSwapping(true);
        // Mock swap execution
        await new Promise((resolve)=>setTimeout(resolve, 2000));
        alert(`Swapped ${fromAmount} ${fromToken.symbol} for ${toAmount} ${toToken.symbol}`);
        setIsSwapping(false);
        setFromAmount('');
    };
    const formatPrice = (price)=>{
        return new Intl.NumberFormat('en-US', {
            style: 'currency',
            currency: 'USD',
            minimumFractionDigits: 2,
            maximumFractionDigits: 6
        }).format(price);
    };
    const isSwapDisabled = !authenticated || !fromAmount || parseFloat(fromAmount) === 0 || isSwapping;
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "flex flex-col gap-3 md:px-4 px-3 md:py-4 py-3 bg-[#0F1419]",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "bg-[#1A2332] border border-[#2D3748] rounded-lg md:p-3 p-2",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex justify-between items-center mb-2",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                    className: "text-xs text-gray-400",
                                    children: "From"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                    lineNumber: 132,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "text-xs text-gray-400",
                                    children: [
                                        "Balance:",
                                        ' ',
                                        fromToken.symbol === 'USDC' ? isLoadingBalance ? 'Loading...' : `${usdcBalance} ${fromToken.symbol}` : '0.00 DASH'
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                    lineNumber: 133,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                            lineNumber: 131,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex justify-between items-center mb-2 gap-2",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                    type: "text",
                                    placeholder: "0.0",
                                    value: fromAmount,
                                    onChange: handleFromAmountChange,
                                    className: "bg-transparent text-2xl text-white outline-none flex-1 min-w-0"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                    lineNumber: 144,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex items-center gap-2 flex-shrink-0",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                            onClick: handleMaxClick,
                                            className: "bg-[#2D3748] px-2 py-0.5 rounded text-xs cursor-pointer hover:bg-[#3d4a5f] transition-colors",
                                            children: "Max"
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                            lineNumber: 152,
                                            columnNumber: 15
                                        }, ("TURBOPACK compile-time value", void 0)),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "flex items-center gap-1.5 bg-[#2D3748] rounded-lg px-2.5 py-1.5 cursor-pointer hover:bg-[#3d4a5f] transition-colors",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                                    src: fromToken.logo,
                                                    alt: fromToken.symbol,
                                                    className: "w-5 h-5 rounded-full flex-shrink-0",
                                                    onError: (e)=>{
                                                        const target = e.currentTarget;
                                                        target.style.display = 'none';
                                                    }
                                                }, void 0, false, {
                                                    fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                                    lineNumber: 159,
                                                    columnNumber: 17
                                                }, ("TURBOPACK compile-time value", void 0)),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                    className: "font-medium text-white text-sm whitespace-nowrap",
                                                    children: fromToken.symbol
                                                }, void 0, false, {
                                                    fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                                    lineNumber: 168,
                                                    columnNumber: 17
                                                }, ("TURBOPACK compile-time value", void 0))
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                            lineNumber: 158,
                                            columnNumber: 15
                                        }, ("TURBOPACK compile-time value", void 0))
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                    lineNumber: 151,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                            lineNumber: 143,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "text-xs text-gray-500",
                            children: fromAmount && parseFloat(fromAmount) > 0 ? fromToken.symbol === 'USDC' ? formatPrice(parseFloat(fromAmount)) : formatPrice(parseFloat(fromAmount) / EXCHANGE_RATE) : '$0.00'
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                            lineNumber: 175,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                    lineNumber: 130,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                lineNumber: 129,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex justify-center -my-1 relative z-10",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                    onClick: handleSwapTokens,
                    className: "bg-[#1A2332] border-2 border-[#2D3748] rounded-lg p-2 hover:bg-[#2D3748] transition-colors cursor-pointer",
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$arrow$2d$down$2d$up$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ArrowDownUp$3e$__["ArrowDownUp"], {
                        size: 20,
                        className: "text-blue-300"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                        lineNumber: 191,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                }, void 0, false, {
                    fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                    lineNumber: 187,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                lineNumber: 186,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "bg-[#1A2332] border border-[#2D3748] rounded-lg md:p-3 p-2",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex justify-between items-center mb-2",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                    className: "text-xs text-gray-400",
                                    children: "To"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                    lineNumber: 199,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "text-xs text-gray-400",
                                    children: [
                                        "Balance:",
                                        ' ',
                                        toToken.symbol === 'USDC' ? isLoadingBalance ? 'Loading...' : `${usdcBalance} ${toToken.symbol}` : '0.00 DASH'
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                    lineNumber: 200,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                            lineNumber: 198,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex justify-between items-center mb-2 gap-2",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                    type: "text",
                                    placeholder: "0.0",
                                    value: toAmount,
                                    readOnly: true,
                                    className: "bg-transparent text-2xl text-white outline-none flex-1 min-w-0"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                    lineNumber: 211,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex items-center gap-1.5 bg-[#2D3748] rounded-lg px-2.5 py-1.5 flex-shrink-0",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                            src: toToken.logo,
                                            alt: toToken.symbol,
                                            className: "w-5 h-5 rounded-full flex-shrink-0",
                                            onError: (e)=>{
                                                const target = e.currentTarget;
                                                target.style.display = 'none';
                                            }
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                            lineNumber: 219,
                                            columnNumber: 15
                                        }, ("TURBOPACK compile-time value", void 0)),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "font-medium text-white text-sm whitespace-nowrap",
                                            children: toToken.symbol
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                            lineNumber: 228,
                                            columnNumber: 15
                                        }, ("TURBOPACK compile-time value", void 0))
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                    lineNumber: 218,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                            lineNumber: 210,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "text-xs text-gray-500",
                            children: toAmount && parseFloat(toAmount) > 0 ? toToken.symbol === 'USDC' ? formatPrice(parseFloat(toAmount)) : formatPrice(parseFloat(toAmount) / EXCHANGE_RATE) : '$0.00'
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                            lineNumber: 234,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                    lineNumber: 197,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                lineNumber: 196,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            fromAmount && parseFloat(fromAmount) > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "bg-[#1A2332] rounded-lg p-3",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-center justify-between text-xs mb-2",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-400",
                                children: "Rate"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                lineNumber: 248,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-white font-medium",
                                children: [
                                    "1 ",
                                    fromToken.symbol === 'USDC' ? 'USDC' : 'DASH',
                                    " =",
                                    ' ',
                                    fromToken.symbol === 'USDC' ? `${EXCHANGE_RATE} DASH` : `${(1 / EXCHANGE_RATE).toFixed(2)} USDC`
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                lineNumber: 249,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                        lineNumber: 247,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-center justify-between text-xs mb-2",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex items-center gap-1",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-gray-400",
                                        children: "Minimum Received"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                        lineNumber: 258,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$info$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Info$3e$__["Info"], {
                                        size: 12,
                                        className: "text-gray-500"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                        lineNumber: 259,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                lineNumber: 257,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-white",
                                children: [
                                    minimumReceived,
                                    " ",
                                    toToken.symbol
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                lineNumber: 261,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                        lineNumber: 256,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-center justify-between text-xs mb-2",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-400",
                                children: "Price Impact"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                lineNumber: 266,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: `${parseFloat(priceImpact) > 1 ? 'text-red-400' : 'text-green-400'}`,
                                children: [
                                    priceImpact,
                                    "%"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                lineNumber: 267,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                        lineNumber: 265,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-center justify-between text-xs",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-400",
                                children: "Swap Fee"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                lineNumber: 272,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-white",
                                children: [
                                    (SWAP_FEE * 100).toFixed(2),
                                    "%"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                lineNumber: 273,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                        lineNumber: 271,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                lineNumber: 246,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                onClick: handleSwap,
                disabled: isSwapDisabled,
                className: `w-full py-4 rounded-lg font-bold text-white transition-all duration-200 ${isSwapDisabled ? 'bg-gray-600 cursor-not-allowed opacity-50' : 'bg-blue-400 hover:bg-blue-500 cursor-pointer'}`,
                children: !authenticated ? 'Connect Wallet' : isSwapping ? 'Swapping...' : !fromAmount || parseFloat(fromAmount) === 0 ? 'Enter Amount' : `Swap ${fromToken.symbol} for ${toToken.symbol}`
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                lineNumber: 279,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "space-y-2 text-sm border-t border-[#1A202C] pt-3",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-400",
                                children: "Network"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                lineNumber: 299,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-white",
                                children: "Base Sepolia"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                lineNumber: 300,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                        lineNumber: 298,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-400",
                                children: "Slippage Tolerance"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                lineNumber: 303,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-white",
                                children: [
                                    SLIPPAGE,
                                    "%"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                lineNumber: 304,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                        lineNumber: 302,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                lineNumber: 297,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex items-start gap-2",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$info$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Info$3e$__["Info"], {
                            size: 16,
                            className: "text-yellow-400 mt-0.5 flex-shrink-0"
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                            lineNumber: 311,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                    className: "text-xs text-yellow-400 font-medium mb-1",
                                    children: "Mock Interface"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                    lineNumber: 313,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                    className: "text-xs text-gray-400",
                                    children: "This is a mockup interface. No actual swap will occur."
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                                    lineNumber: 314,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                            lineNumber: 312,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                    lineNumber: 310,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
                lineNumber: 309,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx",
        lineNumber: 127,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_s(SwapPanel, "HpjWTN39ajAtdZ6GljDMyULmF2s=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$privy$2d$io$2f$react$2d$auth$2f$dist$2f$esm$2f$usePrivy$2d$DDM76RFl$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__u__as__usePrivy$3e$__["usePrivy"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$useUSDCBalance$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useUSDCBalance"]
    ];
});
_c = SwapPanel;
const __TURBOPACK__default__export__ = SwapPanel;
var _c;
__turbopack_context__.k.register(_c, "SwapPanel");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/OrderPanel.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$trending$2d$up$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__TrendingUp$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/trending-up.js [app-client] (ecmascript) <export default as TrendingUp>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$trending$2d$down$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__TrendingDown$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/trending-down.js [app-client] (ecmascript) <export default as TrendingDown>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$zap$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Zap$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/zap.js [app-client] (ecmascript) <export default as Zap>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$MarketOrder$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/MarketOrder.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$LimitOrder$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/LimitOrder.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$TaptoTrade$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/TaptoTrade.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$SwapPanel$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/order-panel/SwapPanel.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$TapToTradeContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/contexts/TapToTradeContext.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$WalletConnectButton$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/layout/WalletConnectButton.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tabs$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/tabs.tsx [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
;
;
;
;
;
;
;
const OrderPanel = ({ mobileActiveTab, mode = 'market', onMobileClose })=>{
    _s();
    const [activeTab, setActiveTab] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(mobileActiveTab || 'short');
    const [activeOrderType, setActiveOrderType] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(mode === 'trade' ? 'Tap to Trade' : 'market');
    // Sync with mobile tab if provided
    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].useEffect({
        "OrderPanel.useEffect": ()=>{
            if (mobileActiveTab) {
                setActiveTab(mobileActiveTab);
            }
        }
    }["OrderPanel.useEffect"], [
        mobileActiveTab
    ]);
    const { isEnabled: tapToTradeEnabled, tradeMode, setTradeMode } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$TapToTradeContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTapToTrade"])();
    const tabs = [
        {
            key: 'long',
            label: 'Long',
            icon: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$trending$2d$up$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__TrendingUp$3e$__["TrendingUp"], {
                size: 16
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                lineNumber: 42,
                columnNumber: 13
            }, ("TURBOPACK compile-time value", void 0)),
            activeClass: 'bg-long/15 border-b-2 border-long shadow-[inset_0_0_20px_rgba(22,199,132,0.3),0_0_10px_rgba(22,199,132,0.3)]',
            textClass: 'text-long'
        },
        {
            key: 'short',
            label: 'Short',
            icon: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$trending$2d$down$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__TrendingDown$3e$__["TrendingDown"], {
                size: 16
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                lineNumber: 50,
                columnNumber: 13
            }, ("TURBOPACK compile-time value", void 0)),
            activeClass: 'bg-short/15 border-b-2 border-short shadow-[inset_0_0_20px_rgba(234,57,67,0.3),0_0_10px_rgba(234,57,67,0.3)]',
            textClass: 'text-short'
        },
        {
            key: 'swap',
            label: 'Swap',
            icon: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$zap$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Zap$3e$__["Zap"], {
                size: 16
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                lineNumber: 58,
                columnNumber: 13
            }, ("TURBOPACK compile-time value", void 0)),
            activeClass: 'bg-swap/15 border-b-2 border-swap shadow-[inset_0_0_20px_rgba(37,99,235,0.3),0_0_10px_rgba(37,99,235,0.3)]',
            textClass: 'text-swap'
        }
    ];
    const isTabDisabled = tapToTradeEnabled || activeOrderType === 'Tap to Trade';
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "h-full flex flex-col text-text-primary relative overflow-hidden md:rounded-lg",
        children: [
            !tapToTradeEnabled && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "md:flex hidden items-center justify-end p-2.5 usd bg-trading-dark flex-shrink-0 md:rounded-t-lg",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$WalletConnectButton$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {}, void 0, false, {
                    fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                    lineNumber: 72,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                lineNumber: 71,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex-1 flex flex-col bg-trading-bg overflow-hidden md:rounded-b-lg",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex border-b border-border-muted bg-trading-bg",
                        children: tabs.map((tab)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                onClick: ()=>!isTabDisabled && setActiveTab(tab.key),
                                disabled: isTabDisabled,
                                className: `
                flex-1 py-4 text-sm font-bold transition-all duration-200 relative
                ${isTabDisabled ? 'cursor-not-allowed opacity-30' : 'cursor-pointer'}
                ${activeTab === tab.key && !isTabDisabled ? `text-text-primary ${tab.activeClass}` : isTabDisabled ? 'hidden' : 'text-text-secondary hover:text-text-primary border-b-2 border-transparent'}
              `,
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex items-center justify-center gap-2",
                                    children: [
                                        tab.icon,
                                        tab.label
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                                    lineNumber: 97,
                                    columnNumber: 15
                                }, ("TURBOPACK compile-time value", void 0))
                            }, tab.key, false, {
                                fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                                lineNumber: 81,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0)))
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                        lineNumber: 79,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "px-4 py-3 border-b border-border-muted bg-trading-bg",
                        children: mode === 'trade' ? // Trade mode: Open Position / One Tap Profit
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tabs$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Tabs"], {
                            value: tradeMode,
                            onValueChange: (value)=>{
                                if (tapToTradeEnabled) return; // Double check protection
                                setActiveOrderType('Tap to Trade');
                                setTradeMode(value);
                            },
                            className: "w-full",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tabs$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TabsList"], {
                                className: "grid w-full grid-cols-2 h-10 bg-gradient-to-r from-info/20 to-success/20 p-1",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tabs$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TabsTrigger"], {
                                        value: "one-tap-profit",
                                        disabled: activeTab === 'swap' || tapToTradeEnabled,
                                        className: "data-[state=active]:bg-gradient-to-r data-[state=active]:from-success data-[state=active]:to-success-dark data-[state=active]:text-white data-[state=active]:shadow-lg",
                                        children: "One Tap Profit"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                                        lineNumber: 119,
                                        columnNumber: 17
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tabs$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TabsTrigger"], {
                                        value: "open-position",
                                        disabled: activeTab === 'swap' || tapToTradeEnabled,
                                        className: "data-[state=active]:bg-gradient-to-r data-[state=active]:from-info data-[state=active]:to-info-dark data-[state=active]:text-white data-[state=active]:shadow-lg",
                                        children: "Open Position"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                                        lineNumber: 126,
                                        columnNumber: 17
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                                lineNumber: 118,
                                columnNumber: 15
                            }, ("TURBOPACK compile-time value", void 0))
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                            lineNumber: 109,
                            columnNumber: 13
                        }, ("TURBOPACK compile-time value", void 0)) : // Market mode: Market / Limit
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tabs$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Tabs"], {
                            value: activeOrderType,
                            onValueChange: (value)=>setActiveOrderType(value),
                            className: "w-full",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tabs$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TabsList"], {
                                className: "grid w-full grid-cols-2 h-10 bg-gradient-to-r from-long/20 to-swap/20 p-1",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tabs$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TabsTrigger"], {
                                        value: "market",
                                        disabled: activeTab === 'swap',
                                        className: "data-[state=active]:bg-gradient-to-r data-[state=active]:from-long data-[state=active]:to-long-hover data-[state=active]:text-white data-[state=active]:shadow-lg",
                                        children: "Market"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                                        lineNumber: 143,
                                        columnNumber: 17
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tabs$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TabsTrigger"], {
                                        value: "limit",
                                        disabled: activeTab === 'swap',
                                        className: "data-[state=active]:bg-gradient-to-r data-[state=active]:from-swap data-[state=active]:to-swap-hover data-[state=active]:text-white data-[state=active]:shadow-lg",
                                        children: "Limit"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                                        lineNumber: 150,
                                        columnNumber: 17
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                                lineNumber: 142,
                                columnNumber: 15
                            }, ("TURBOPACK compile-time value", void 0))
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                            lineNumber: 137,
                            columnNumber: 13
                        }, ("TURBOPACK compile-time value", void 0))
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                        lineNumber: 106,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex-1 overflow-y-auto custom-scrollbar-dark relative",
                        children: activeTab === 'swap' ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$SwapPanel$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {}, void 0, false, {
                            fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                            lineNumber: 165,
                            columnNumber: 13
                        }, ("TURBOPACK compile-time value", void 0)) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                            children: [
                                activeOrderType === 'market' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$MarketOrder$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                    activeTab: activeTab
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                                    lineNumber: 168,
                                    columnNumber: 48
                                }, ("TURBOPACK compile-time value", void 0)),
                                activeOrderType === 'limit' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$LimitOrder$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                    activeTab: activeTab
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                                    lineNumber: 169,
                                    columnNumber: 47
                                }, ("TURBOPACK compile-time value", void 0)),
                                activeOrderType === 'Tap to Trade' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "relative min-h-full",
                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$order$2d$panel$2f$TaptoTrade$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                        onMobileClose: onMobileClose
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                                        lineNumber: 172,
                                        columnNumber: 19
                                    }, ("TURBOPACK compile-time value", void 0))
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                                    lineNumber: 171,
                                    columnNumber: 17
                                }, ("TURBOPACK compile-time value", void 0)),
                                activeOrderType === 'more' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "text-center py-8 text-text-secondary",
                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                        children: "More order types coming soon..."
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                                        lineNumber: 177,
                                        columnNumber: 19
                                    }, ("TURBOPACK compile-time value", void 0))
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                                    lineNumber: 176,
                                    columnNumber: 17
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true)
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                        lineNumber: 163,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
                lineNumber: 77,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/OrderPanel.tsx",
        lineNumber: 68,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_s(OrderPanel, "0wZ36gquzpaqnPj96R17ikEC080=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$TapToTradeContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTapToTrade"]
    ];
});
_c = OrderPanel;
const __TURBOPACK__default__export__ = OrderPanel;
var _c;
__turbopack_context__.k.register(_c, "OrderPanel");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/hooks/useGaslessClose.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * HACKATHON MODE: Gasless close position via backend
 * Backend relayer pays gas, no user signature needed
 */ __turbopack_context__.s([
    "useGaslessClose",
    ()=>useGaslessClose
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = /*#__PURE__*/ __turbopack_context__.i("[project]/node_modules/next/dist/build/polyfills/process.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/wallet/hooks/useEmbeddedWallet.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/sonner/dist/index.mjs [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature();
;
;
;
const BACKEND_URL = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:3001';
function useGaslessClose() {
    _s();
    const { address } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"])();
    const [isPending, setIsPending] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [txHash, setTxHash] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])();
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const closePosition = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useGaslessClose.useCallback[closePosition]": async (params)=>{
            try {
                setIsPending(true);
                setError(null);
                setTxHash(undefined);
                if (!address) {
                    throw new Error('Wallet not connected');
                }
                // Call backend endpoint
                const response = await fetch(`${BACKEND_URL}/api/relay/close-position`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        userAddress: address,
                        positionId: params.positionId.toString(),
                        symbol: params.symbol
                    })
                });
                const result = await response.json();
                if (!response.ok || !result.success) {
                    throw new Error(result.error || result.message || 'Failed to close position');
                }
                const hash = result.data.txHash;
                setTxHash(hash);
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success(`Position closed! TX: ${hash.slice(0, 10)}...`, {
                    duration: 5000
                });
                return hash;
            } catch (err) {
                console.error('❌ Error closing position gaslessly:', err);
                setError(err);
                const errorMsg = err.message || 'Unknown error';
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error(`Failed to close: ${errorMsg}`, {
                    duration: 7000
                });
                throw err;
            } finally{
                setIsPending(false);
            }
        }
    }["useGaslessClose.useCallback[closePosition]"], [
        address
    ]);
    return {
        closePosition,
        isPending,
        txHash,
        error
    };
}
_s(useGaslessClose, "r8jcOplbkySIA1JWigTv20RzHiQ=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"]
    ];
});
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/modals/TPSLModal.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$x$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__X$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/x.js [app-client] (ecmascript) <export default as X>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useTPSL$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/hooks/useTPSL.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$usePrices$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/hooks/data/usePrices.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
;
;
const TPSLModal = ({ isOpen, onClose, positionId, trader, symbol, entryPrice, isLong })=>{
    _s();
    const [takeProfitPrice, setTakeProfitPrice] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('');
    const [stopLossPrice, setStopLossPrice] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('');
    const [takeProfitError, setTakeProfitError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('');
    const [stopLossError, setStopLossError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('');
    const { setTPSL, getTPSL, deleteTPSL, isPending } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useTPSL$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTPSL"])();
    // Fetch real-time price from backend
    const { price: priceData } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$usePrices$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["usePrice"])(symbol);
    const currentPrice = priceData?.price || entryPrice; // Fallback to entry if no price
    // Load existing TP/SL on mount
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "TPSLModal.useEffect": ()=>{
            if (isOpen) {
                loadExistingTPSL();
            }
        }
    }["TPSLModal.useEffect"], [
        isOpen,
        positionId
    ]);
    const loadExistingTPSL = async ()=>{
        const config = await getTPSL(positionId);
        if (config) {
            // Convert from 8 decimals to readable price
            if (config.takeProfit) {
                const tpPrice = parseFloat(config.takeProfit) / 100000000;
                setTakeProfitPrice(tpPrice.toString());
            }
            if (config.stopLoss) {
                const slPrice = parseFloat(config.stopLoss) / 100000000;
                setStopLossPrice(slPrice.toString());
            }
        }
    };
    // Validate TP/SL prices - use CURRENT price, not entry price
    const validatePrices = ()=>{
        let isValid = true;
        setTakeProfitError('');
        setStopLossError('');
        if (takeProfitPrice) {
            const tp = parseFloat(takeProfitPrice);
            if (isNaN(tp) || tp <= 0) {
                setTakeProfitError('Invalid price');
                isValid = false;
            } else if (isLong && tp <= currentPrice) {
                setTakeProfitError('TP must be above current price for Long');
                isValid = false;
            } else if (!isLong && tp >= currentPrice) {
                setTakeProfitError('TP must be below current price for Short');
                isValid = false;
            }
        }
        if (stopLossPrice) {
            const sl = parseFloat(stopLossPrice);
            if (isNaN(sl) || sl <= 0) {
                setStopLossError('Invalid price');
                isValid = false;
            } else if (isLong && sl >= currentPrice) {
                setStopLossError('SL must be below current price for Long');
                isValid = false;
            } else if (!isLong && sl <= currentPrice) {
                setStopLossError('SL must be above current price for Short');
                isValid = false;
            }
        // SL+ is allowed: SL can be above entry (for profit lock) as long as below current
        }
        if (!takeProfitPrice && !stopLossPrice) {
            setTakeProfitError('At least one of TP or SL required');
            isValid = false;
        }
        return isValid;
    };
    const handleSave = async ()=>{
        if (!validatePrices()) return;
        const success = await setTPSL({
            positionId,
            trader,
            takeProfit: takeProfitPrice || undefined,
            stopLoss: stopLossPrice || undefined
        });
        if (success) {
            onClose(true);
        }
    };
    const handleDelete = async ()=>{
        const success = await deleteTPSL(positionId, trader);
        if (success) {
            setTakeProfitPrice('');
            setStopLossPrice('');
            onClose(true);
        }
    };
    const calculatePnL = (targetPrice)=>{
        if (!targetPrice || targetPrice <= 0) return {
            pnl: 0,
            percentage: 0
        };
        const priceDiff = isLong ? targetPrice - entryPrice : entryPrice - targetPrice;
        const percentage = priceDiff / entryPrice * 100;
        return {
            percentage
        };
    };
    if (!isOpen) return null;
    const tpPnL = calculatePnL(parseFloat(takeProfitPrice));
    const slPnL = calculatePnL(parseFloat(stopLossPrice));
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "bg-[#0F1419] border border-gray-700 rounded-lg shadow-2xl w-full max-w-md mx-4",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex items-center justify-between p-4 border-b border-gray-700",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                    className: "text-lg font-semibold text-white",
                                    children: "Set TP/SL"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                                    lineNumber: 146,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                    className: "text-sm text-gray-400",
                                    children: [
                                        symbol,
                                        "/USD • ",
                                        isLong ? 'Long' : 'Short',
                                        " • Entry: $",
                                        entryPrice.toFixed(2)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                                    lineNumber: 147,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                            lineNumber: 145,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                            onClick: ()=>onClose(false),
                            className: "text-gray-400 hover:text-white transition-colors",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$x$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__X$3e$__["X"], {
                                size: 20
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                                lineNumber: 155,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                            lineNumber: 151,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                    lineNumber: 144,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0)),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "p-4 space-y-4",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "bg-gray-800/50 rounded-lg p-3",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex justify-between items-center",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-sm text-gray-400",
                                        children: "Current Price"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                                        lineNumber: 164,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-white font-medium",
                                        children: [
                                            "$",
                                            currentPrice.toFixed(2)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                                        lineNumber: 165,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                                lineNumber: 163,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                            lineNumber: 162,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                    className: "block text-sm text-gray-400 mb-2",
                                    children: "Take Profit Price"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                                    lineNumber: 171,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "relative",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                            type: "number",
                                            step: "0.01",
                                            placeholder: `e.g., ${isLong ? (entryPrice * 1.1).toFixed(2) : (entryPrice * 0.9).toFixed(2)}`,
                                            value: takeProfitPrice,
                                            onChange: (e)=>{
                                                setTakeProfitPrice(e.target.value);
                                                setTakeProfitError('');
                                            },
                                            className: `w-full bg-[#1A2332] border ${takeProfitError ? 'border-red-500' : 'border-gray-700'} rounded-lg px-4 py-2.5 text-white outline-none focus:border-blue-500 transition-colors`
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                                            lineNumber: 173,
                                            columnNumber: 15
                                        }, ("TURBOPACK compile-time value", void 0)),
                                        takeProfitPrice && !takeProfitError && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: `absolute right-3 top-1/2 -translate-y-1/2 text-sm ${tpPnL.percentage >= 0 ? 'text-green-400' : 'text-red-400'}`,
                                            children: [
                                                tpPnL.percentage >= 0 ? '+' : '',
                                                tpPnL.percentage.toFixed(2),
                                                "%"
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                                            lineNumber: 189,
                                            columnNumber: 17
                                        }, ("TURBOPACK compile-time value", void 0))
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                                    lineNumber: 172,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0)),
                                takeProfitError && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                    className: "text-xs text-red-400 mt-1",
                                    children: takeProfitError
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                                    lineNumber: 199,
                                    columnNumber: 33
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                    className: "text-xs text-gray-500 mt-1",
                                    children: isLong ? 'Must be above current price' : 'Must be below current price'
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                                    lineNumber: 200,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                            lineNumber: 170,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                    className: "block text-sm text-gray-400 mb-2",
                                    children: "Stop Loss Price"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                                    lineNumber: 207,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "relative",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                            type: "number",
                                            step: "0.01",
                                            placeholder: `e.g., ${isLong ? (entryPrice * 0.95).toFixed(2) : (entryPrice * 1.05).toFixed(2)}`,
                                            value: stopLossPrice,
                                            onChange: (e)=>{
                                                setStopLossPrice(e.target.value);
                                                setStopLossError('');
                                            },
                                            className: `w-full bg-[#1A2332] border ${stopLossError ? 'border-red-500' : 'border-gray-700'} rounded-lg px-4 py-2.5 text-white outline-none focus:border-blue-500 transition-colors`
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                                            lineNumber: 209,
                                            columnNumber: 15
                                        }, ("TURBOPACK compile-time value", void 0)),
                                        stopLossPrice && !stopLossError && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: `absolute right-3 top-1/2 -translate-y-1/2 text-sm ${slPnL.percentage >= 0 ? 'text-green-400' : 'text-red-400'}`,
                                            children: [
                                                slPnL.percentage >= 0 ? '+' : '',
                                                slPnL.percentage.toFixed(2),
                                                "%"
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                                            lineNumber: 225,
                                            columnNumber: 17
                                        }, ("TURBOPACK compile-time value", void 0))
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                                    lineNumber: 208,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0)),
                                stopLossError && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                    className: "text-xs text-red-400 mt-1",
                                    children: stopLossError
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                                    lineNumber: 235,
                                    columnNumber: 31
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                    className: "text-xs text-gray-500 mt-1",
                                    children: isLong ? 'Must be below current price (can be above entry for SL+)' : 'Must be above current price (can be below entry for SL+)'
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                                    lineNumber: 236,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                            lineNumber: 206,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "bg-blue-500/10 border border-blue-500/30 rounded-lg p-3",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                className: "text-xs text-blue-400",
                                children: "💡 TP/SL will be monitored by the backend and executed automatically when price targets are hit. Settings are stored in memory and will be lost on backend restart."
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                                lineNumber: 245,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                            lineNumber: 244,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                    lineNumber: 160,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0)),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex gap-2 p-4 border-t border-gray-700",
                    children: [
                        (takeProfitPrice || stopLossPrice) && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                            onClick: handleDelete,
                            disabled: isPending,
                            className: "px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg transition-colors disabled:opacity-50",
                            children: "Remove"
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                            lineNumber: 255,
                            columnNumber: 13
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                            onClick: ()=>onClose(false),
                            className: "flex-1 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",
                            children: "Cancel"
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                            lineNumber: 263,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                            onClick: handleSave,
                            disabled: isPending,
                            className: "flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors disabled:opacity-50",
                            children: isPending ? 'Saving...' : 'Save TP/SL'
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                            lineNumber: 269,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
                    lineNumber: 253,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0))
            ]
        }, void 0, true, {
            fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
            lineNumber: 142,
            columnNumber: 7
        }, ("TURBOPACK compile-time value", void 0))
    }, void 0, false, {
        fileName: "[project]/src/features/trading/components/modals/TPSLModal.tsx",
        lineNumber: 141,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_s(TPSLModal, "cPUBg8rmVh1pFPbckcL2/kFul4I=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useTPSL$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTPSL"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$usePrices$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["usePrice"]
    ];
});
_c = TPSLModal;
const __TURBOPACK__default__export__ = TPSLModal;
var _c;
__turbopack_context__.k.register(_c, "TPSLModal");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/positions/PositionRow.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$usePositions$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/hooks/data/usePositions.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$usePrices$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/hooks/data/usePrices.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contexts$2f$TPSLContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/contexts/TPSLContext.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/constants/markets.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/lib/marketUtils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$formatUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/unit/formatUnits.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/utils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/button.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/table.tsx [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
;
;
;
;
;
;
;
;
const PositionRow = ({ positionId, onClose, onPositionClick, onTPSLClick, isSelected, onPositionLoaded })=>{
    _s();
    const { position, isLoading } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$usePositions$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["usePosition"])(positionId);
    // Use shared price hook
    const { price: priceData, isLoading: loadingPrice } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$usePrices$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["usePrice"])(position?.symbol);
    const currentPrice = priceData?.price || null;
    // Fetch TP/SL config
    const { getConfig } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contexts$2f$TPSLContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTPSLContext"])();
    const tpslConfig = position ? getConfig(Number(position.id)) : null;
    // Report position status
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "PositionRow.useEffect": ()=>{
            if (!isLoading && position && onPositionLoaded) {
                onPositionLoaded(positionId, position.status === 0, position.symbol);
            }
        }
    }["PositionRow.useEffect"], [
        isLoading,
        position,
        positionId,
        onPositionLoaded
    ]);
    if (isLoading) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableRow"], {
            className: "border-b border-gray-800 hover:bg-transparent",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                colSpan: 9,
                className: "text-center py-4 text-gray-500",
                children: "Loading..."
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                lineNumber: 62,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0))
        }, void 0, false, {
            fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
            lineNumber: 61,
            columnNumber: 7
        }, ("TURBOPACK compile-time value", void 0));
    }
    if (!position || position.status !== 0) {
        return null;
    }
    const entryPrice = parseFloat((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$formatUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatUnits"])(position.entryPrice, 8));
    const collateral = parseFloat((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$formatUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatUnits"])(position.collateral, 6));
    const size = parseFloat((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$formatUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatUnits"])(position.size, 6));
    const leverage = Number(position.leverage);
    // Calculate unrealized PnL and net value
    let unrealizedPnl = 0;
    let pnlPercentage = 0;
    const markPrice = currentPrice || entryPrice;
    if (currentPrice && entryPrice > 0) {
        const priceDiff = position.isLong ? currentPrice - entryPrice : entryPrice - currentPrice;
        unrealizedPnl = priceDiff / entryPrice * size;
        pnlPercentage = unrealizedPnl / collateral * 100;
    }
    // Calculate liquidation price
    const liqPriceRatio = collateral / size * 0.9;
    const liquidationPrice = position.isLong ? entryPrice * (1 - liqPriceRatio) : entryPrice * (1 + liqPriceRatio);
    const pnlColor = unrealizedPnl >= 0 ? 'text-emerald-400' : 'text-red-400';
    // Get crypto logo
    const getMarketLogo = (symbol)=>{
        const market = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ALL_MARKETS"].find((m)=>m.symbol === symbol);
        return market?.logoUrl || '';
    };
    const handleRowClick = (e)=>{
        const target = e.target;
        if (target.closest('button')) return;
        onPositionClick(position.id, position.symbol, entryPrice, position.isLong);
    };
    const handleTPSLClick = (e)=>{
        e.stopPropagation();
        onTPSLClick(position.id, position.trader, position.symbol, entryPrice, position.isLong);
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableRow"], {
        onClick: handleRowClick,
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])('border-gray-800/50 hover:bg-gray-800/30 transition-colors cursor-pointer group', isSelected && 'bg-blue-500/5'),
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                className: "py-4",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex items-center gap-3",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                            src: getMarketLogo(position.symbol),
                            alt: position.symbol,
                            className: "w-8 h-8 rounded-full bg-slate-800 object-cover",
                            onError: (e)=>{
                                e.target.style.visibility = 'hidden';
                            }
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                            lineNumber: 125,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex flex-col",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "font-bold text-white",
                                    children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatMarketPair"])(position.symbol)
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                                    lineNumber: 134,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex items-center gap-1.5",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "text-xs font-semibold text-slate-400",
                                            children: [
                                                leverage,
                                                "x"
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                                            lineNumber: 136,
                                            columnNumber: 15
                                        }, ("TURBOPACK compile-time value", void 0)),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])('text-xs font-semibold px-1.5 rounded-[3px] bg-opacity-20', position.isLong ? 'text-emerald-400 bg-emerald-400/10' : 'text-red-400 bg-red-400/10'),
                                            children: position.isLong ? 'Long' : 'Short'
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                                            lineNumber: 137,
                                            columnNumber: 15
                                        }, ("TURBOPACK compile-time value", void 0))
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                                    lineNumber: 135,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                            lineNumber: 133,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                    lineNumber: 124,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                lineNumber: 123,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                className: "text-right text-white font-medium",
                children: [
                    "$",
                    size.toFixed(2)
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                lineNumber: 153,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                className: "text-right",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex flex-col items-end gap-0.5",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                            className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])('font-bold', pnlColor),
                            children: [
                                unrealizedPnl >= 0 ? '+' : '',
                                unrealizedPnl.toFixed(2)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                            lineNumber: 158,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                            className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])('text-xs font-medium', pnlColor),
                            children: [
                                pnlPercentage >= 0 ? '+' : '',
                                pnlPercentage.toFixed(2),
                                "%"
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                            lineNumber: 162,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                    lineNumber: 157,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                lineNumber: 156,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                className: "text-right text-white font-medium",
                children: [
                    "$",
                    collateral.toFixed(2)
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                lineNumber: 170,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                className: "text-right text-white font-mono",
                children: [
                    "$",
                    entryPrice.toLocaleString(undefined, {
                        minimumFractionDigits: 2,
                        maximumFractionDigits: 2
                    })
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                lineNumber: 173,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                className: "text-right text-white font-mono",
                children: loadingPrice ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                    className: "text-slate-600",
                    children: "..."
                }, void 0, false, {
                    fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                    lineNumber: 184,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0)) : `$${markPrice.toLocaleString(undefined, {
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                })}`
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                lineNumber: 182,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                className: "text-right text-orange-400 font-mono",
                children: [
                    "$",
                    liquidationPrice.toLocaleString(undefined, {
                        minimumFractionDigits: 2,
                        maximumFractionDigits: 2
                    })
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                lineNumber: 191,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                className: "text-right",
                children: tpslConfig && (tpslConfig.takeProfit || tpslConfig.stopLoss) ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex flex-col items-end gap-1 text-xs font-medium",
                    children: [
                        tpslConfig.takeProfit && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                            className: "text-emerald-400/90",
                            children: [
                                "TP: $",
                                (Number(tpslConfig.takeProfit) / 1e8).toFixed(2)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                            lineNumber: 204,
                            columnNumber: 15
                        }, ("TURBOPACK compile-time value", void 0)),
                        tpslConfig.stopLoss && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                            className: "text-red-400/90",
                            children: [
                                "SL: $",
                                (Number(tpslConfig.stopLoss) / 1e8).toFixed(2)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                            lineNumber: 209,
                            columnNumber: 15
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                    lineNumber: 202,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0)) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                    className: "text-slate-600 text-xs",
                    children: "-"
                }, void 0, false, {
                    fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                    lineNumber: 215,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                lineNumber: 200,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                className: "text-right",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex items-center justify-end gap-2",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                            variant: "ghost",
                            size: "sm",
                            onClick: handleTPSLClick,
                            className: "h-7 px-3 bg-slate-800 hover:bg-slate-700 text-slate-300 text-xs font-medium border border-slate-700 hover:border-slate-600",
                            children: "TP/SL"
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                            lineNumber: 222,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                            variant: "ghost",
                            size: "sm",
                            onClick: ()=>onClose(position.id, position.symbol),
                            className: "h-7 px-3 bg-red-500/10 hover:bg-red-500/20 text-red-400 hover:text-red-300 text-xs font-medium border border-red-500/20 hover:border-red-500/30",
                            children: "Close"
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                            lineNumber: 230,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                    lineNumber: 221,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
                lineNumber: 220,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/positions/PositionRow.tsx",
        lineNumber: 115,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_s(PositionRow, "+WEv95ajfKA06vRf9XqlLLEwPHE=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$usePositions$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["usePosition"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$usePrices$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["usePrice"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contexts$2f$TPSLContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTPSLContext"]
    ];
});
_c = PositionRow;
const __TURBOPACK__default__export__ = PositionRow;
var _c;
__turbopack_context__.k.register(_c, "PositionRow");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/positions/MobilePositionCard.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$usePositions$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/hooks/data/usePositions.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$usePrices$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/hooks/data/usePrices.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contexts$2f$TPSLContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/contexts/TPSLContext.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/constants/markets.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/lib/marketUtils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$formatUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/unit/formatUnits.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/button.tsx [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
;
;
;
;
;
;
;
;
const MobilePositionCard = ({ positionId, onClose, onPositionClick, onTPSLClick, onPositionLoaded })=>{
    _s();
    const { position, isLoading } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$usePositions$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["usePosition"])(positionId);
    const { price: priceData, isLoading: loadingPrice } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$usePrices$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["usePrice"])(position?.symbol);
    const currentPrice = priceData?.price || null;
    const { getConfig } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contexts$2f$TPSLContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTPSLContext"])();
    const tpslConfig = position ? getConfig(Number(position.id)) : null;
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "MobilePositionCard.useEffect": ()=>{
            if (!isLoading && position && onPositionLoaded) {
                onPositionLoaded(positionId, position.status === 0, position.symbol);
            }
        }
    }["MobilePositionCard.useEffect"], [
        isLoading,
        position,
        positionId,
        onPositionLoaded
    ]);
    if (isLoading || !position || position.status !== 0) {
        return null;
    }
    const entryPrice = parseFloat((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$formatUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatUnits"])(position.entryPrice, 8));
    const collateral = parseFloat((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$formatUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatUnits"])(position.collateral, 6));
    const size = parseFloat((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$formatUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatUnits"])(position.size, 6));
    const leverage = Number(position.leverage);
    let unrealizedPnl = 0;
    let pnlPercentage = 0;
    const markPrice = currentPrice || entryPrice;
    if (currentPrice && entryPrice > 0) {
        const priceDiff = position.isLong ? currentPrice - entryPrice : entryPrice - currentPrice;
        unrealizedPnl = priceDiff / entryPrice * size;
        pnlPercentage = unrealizedPnl / collateral * 100;
    }
    const liqPriceRatio = collateral / size * 0.9;
    const liquidationPrice = position.isLong ? entryPrice * (1 - liqPriceRatio) : entryPrice * (1 + liqPriceRatio);
    const pnlColor = unrealizedPnl >= 0 ? 'text-emerald-400' : 'text-red-400';
    const getMarketLogo = (symbol)=>{
        const market = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ALL_MARKETS"].find((m)=>m.symbol === symbol);
        return market?.logoUrl || '';
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "bg-[#131B26] p-4 rounded-lg border border-gray-800 space-y-4",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex items-center justify-between",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-center gap-3",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                src: getMarketLogo(position.symbol),
                                alt: position.symbol,
                                className: "w-8 h-8 rounded-full bg-slate-800 object-cover",
                                onError: (e)=>{
                                    e.target.style.visibility = 'hidden';
                                }
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                                lineNumber: 86,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center gap-2",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "font-bold text-white text-base",
                                                children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatMarketPair"])(position.symbol)
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                                                lineNumber: 96,
                                                columnNumber: 15
                                            }, ("TURBOPACK compile-time value", void 0)),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: `text-xs font-bold px-1.5 py-0.5 rounded ${position.isLong ? 'bg-emerald-500/10 text-emerald-400' : 'bg-red-500/10 text-red-400'}`,
                                                children: position.isLong ? 'Long' : 'Short'
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                                                lineNumber: 99,
                                                columnNumber: 15
                                            }, ("TURBOPACK compile-time value", void 0))
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                                        lineNumber: 95,
                                        columnNumber: 13
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-xs text-gray-400",
                                        children: [
                                            leverage,
                                            "x Leverage"
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                                        lineNumber: 109,
                                        columnNumber: 13
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                                lineNumber: 94,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                        lineNumber: 85,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "text-right",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: `text-lg font-bold ${pnlColor}`,
                                children: [
                                    unrealizedPnl >= 0 ? '+' : '',
                                    unrealizedPnl.toFixed(2)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                                lineNumber: 113,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: `text-xs font-medium ${pnlColor}`,
                                children: [
                                    "(",
                                    pnlPercentage >= 0 ? '+' : '',
                                    pnlPercentage.toFixed(2),
                                    "%)"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                                lineNumber: 117,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                        lineNumber: 112,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                lineNumber: 84,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "grid grid-cols-2 gap-y-3 gap-x-4 text-xs",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-500",
                                children: "Size"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                                lineNumber: 127,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-white font-medium",
                                children: [
                                    "$",
                                    size.toFixed(2)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                                lineNumber: 128,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                        lineNumber: 126,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-500",
                                children: "Margin"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                                lineNumber: 131,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-white font-medium",
                                children: [
                                    "$",
                                    collateral.toFixed(2)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                                lineNumber: 132,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                        lineNumber: 130,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-500",
                                children: "Entry Price"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                                lineNumber: 135,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-white font-medium",
                                children: [
                                    "$",
                                    entryPrice.toLocaleString()
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                                lineNumber: 136,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                        lineNumber: 134,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-500",
                                children: "Mark Price"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                                lineNumber: 139,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-white font-medium",
                                children: [
                                    "$",
                                    markPrice.toLocaleString()
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                                lineNumber: 140,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                        lineNumber: 138,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-500",
                                children: "Liq. Price"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                                lineNumber: 143,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-orange-400 font-medium",
                                children: [
                                    "$",
                                    liquidationPrice.toLocaleString()
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                                lineNumber: 144,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                        lineNumber: 142,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                lineNumber: 125,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            tpslConfig && (tpslConfig.takeProfit || tpslConfig.stopLoss) && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex gap-4 text-xs pt-2 border-t border-gray-800/50",
                children: [
                    tpslConfig.takeProfit && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-emerald-400",
                        children: [
                            "TP: $",
                            (Number(tpslConfig.takeProfit) / 1e8).toFixed(2)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                        lineNumber: 152,
                        columnNumber: 13
                    }, ("TURBOPACK compile-time value", void 0)),
                    tpslConfig.stopLoss && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-red-400",
                        children: [
                            "SL: $",
                            (Number(tpslConfig.stopLoss) / 1e8).toFixed(2)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                        lineNumber: 157,
                        columnNumber: 13
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                lineNumber: 150,
                columnNumber: 9
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "grid grid-cols-2 gap-3 pt-2",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                        variant: "outline",
                        size: "sm",
                        className: "w-full bg-slate-800 border-slate-700 hover:bg-slate-700 text-xs",
                        onClick: (e)=>{
                            e.stopPropagation();
                            onTPSLClick(position.id, position.trader, position.symbol, entryPrice, position.isLong);
                        },
                        children: "TP / SL"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                        lineNumber: 166,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                        variant: "destructive",
                        size: "sm",
                        className: "w-full text-xs",
                        onClick: (e)=>{
                            e.stopPropagation();
                            onClose(position.id, position.symbol);
                        },
                        children: "Close Position"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                        lineNumber: 177,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
                lineNumber: 165,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/positions/MobilePositionCard.tsx",
        lineNumber: 82,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_s(MobilePositionCard, "+WEv95ajfKA06vRf9XqlLLEwPHE=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$usePositions$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["usePosition"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$data$2f$usePrices$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["usePrice"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$contexts$2f$TPSLContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTPSLContext"]
    ];
});
_c = MobilePositionCard;
const __TURBOPACK__default__export__ = MobilePositionCard;
var _c;
__turbopack_context__.k.register(_c, "MobilePositionCard");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/positions/PositionsTable.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$positions$2f$PositionRow$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/positions/PositionRow.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$positions$2f$MobilePositionCard$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/positions/MobilePositionCard.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/button.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/table.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$alert$2d$dialog$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/alert-dialog.tsx [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
;
;
;
;
const PositionsTable = ({ positionIds, isLoading, openPositionsCount, isClosing, selectedPositionId, tpslRefreshTrigger, onClosePosition, onPositionClick, onTPSLClick, onPositionLoaded, onCloseAll })=>{
    _s();
    // Dialog State
    const [isDialogOpen, setIsDialogOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [actionType, setActionType] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('single');
    const [targetPosition, setTargetPosition] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    // Handle "Close" click on a single position
    const handleRequestClose = (positionId, symbol)=>{
        setTargetPosition({
            id: positionId,
            symbol
        });
        setActionType('single');
        setIsDialogOpen(true);
    };
    // Handle "Close All" click
    const handleRequestCloseAll = ()=>{
        setActionType('all');
        setIsDialogOpen(true);
    };
    // Confirm Action
    const handleConfirmClose = ()=>{
        if (actionType === 'all') {
            onCloseAll();
        } else if (targetPosition) {
            onClosePosition(targetPosition.id, targetPosition.symbol);
        }
        setIsDialogOpen(false);
    };
    if (isLoading) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "flex flex-col items-center justify-center py-20 text-slate-500",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "animate-spin rounded-full h-8 w-8 border-b-2 border-slate-500 mb-4"
                }, void 0, false, {
                    fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                    lineNumber: 96,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0)),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                    children: "Loading positions..."
                }, void 0, false, {
                    fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                    lineNumber: 97,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0))
            ]
        }, void 0, true, {
            fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
            lineNumber: 95,
            columnNumber: 7
        }, ("TURBOPACK compile-time value", void 0));
    }
    if (positionIds.length === 0) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "text-center py-16 text-gray-500",
            children: "No open positions"
        }, void 0, false, {
            fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
            lineNumber: 103,
            columnNumber: 12
        }, ("TURBOPACK compile-time value", void 0));
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "h-full flex flex-col",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "hidden md:flex justify-end p-2 border-b border-gray-800/50",
                children: openPositionsCount > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                    variant: "destructive",
                    size: "sm",
                    onClick: handleRequestCloseAll,
                    disabled: isClosing,
                    className: "h-7 text-xs font-bold",
                    children: "Close All Positions"
                }, void 0, false, {
                    fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                    lineNumber: 111,
                    columnNumber: 11
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                lineNumber: 109,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "hidden md:block overflow-x-auto custom-scrollbar",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Table"], {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHeader"], {
                            className: "bg-[#0B1017] sticky top-0 z-10",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableRow"], {
                                className: "border-b border-gray-800 hover:bg-transparent",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "font-medium min-w-[140px]",
                                        children: "Position"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                                        lineNumber: 128,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "Size"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                                        lineNumber: 129,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "PnL (ROE%)"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                                        lineNumber: 130,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "Collateral"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                                        lineNumber: 131,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "Entry Price"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                                        lineNumber: 132,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "Mark Price"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                                        lineNumber: 133,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "Liq. Price"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                                        lineNumber: 134,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "TP / SL"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                                        lineNumber: 135,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium w-32",
                                        children: "Actions"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                                        lineNumber: 136,
                                        columnNumber: 15
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                                lineNumber: 127,
                                columnNumber: 13
                            }, ("TURBOPACK compile-time value", void 0))
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                            lineNumber: 126,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableBody"], {
                            children: positionIds.map((positionId)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$positions$2f$PositionRow$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                    positionId: positionId,
                                    onClose: handleRequestClose,
                                    onPositionClick: onPositionClick,
                                    onTPSLClick: onTPSLClick,
                                    isSelected: selectedPositionId === positionId,
                                    onPositionLoaded: onPositionLoaded
                                }, `${positionId.toString()}-${tpslRefreshTrigger}`, false, {
                                    fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                                    lineNumber: 141,
                                    columnNumber: 15
                                }, ("TURBOPACK compile-time value", void 0)))
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                            lineNumber: 139,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                    lineNumber: 125,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                lineNumber: 124,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "md:hidden space-y-4 flex-1 overflow-y-auto p-4",
                children: [
                    openPositionsCount > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                        variant: "destructive",
                        size: "sm",
                        onClick: handleRequestCloseAll,
                        disabled: isClosing,
                        className: "w-full mb-4 font-bold",
                        children: "Close All Positions"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                        lineNumber: 158,
                        columnNumber: 11
                    }, ("TURBOPACK compile-time value", void 0)),
                    positionIds.map((positionId)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$positions$2f$MobilePositionCard$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                            positionId: positionId,
                            onClose: handleRequestClose,
                            onPositionClick: onPositionClick,
                            onTPSLClick: onTPSLClick,
                            onPositionLoaded: onPositionLoaded
                        }, `mobile-${positionId.toString()}-${tpslRefreshTrigger}`, false, {
                            fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                            lineNumber: 169,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                lineNumber: 156,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$alert$2d$dialog$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AlertDialog"], {
                open: isDialogOpen,
                onOpenChange: setIsDialogOpen,
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$alert$2d$dialog$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AlertDialogContent"], {
                    className: "bg-[#131B26] border-gray-800 text-white",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$alert$2d$dialog$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AlertDialogHeader"], {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$alert$2d$dialog$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AlertDialogTitle"], {
                                    children: actionType === 'all' ? 'Close All Positions?' : 'Close Position?'
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                                    lineNumber: 184,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$alert$2d$dialog$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AlertDialogDescription"], {
                                    className: "text-gray-400",
                                    children: actionType === 'all' ? 'Are you sure you want to close ALL open positions? This action cannot be undone.' : `Are you sure you want to close your ${targetPosition?.symbol} position at market price?`
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                                    lineNumber: 187,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                            lineNumber: 183,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$alert$2d$dialog$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AlertDialogFooter"], {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$alert$2d$dialog$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AlertDialogCancel"], {
                                    className: "bg-transparent border-gray-700 text-gray-300 hover:bg-gray-800 hover:text-white",
                                    children: "Cancel"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                                    lineNumber: 194,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$alert$2d$dialog$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AlertDialogAction"], {
                                    onClick: handleConfirmClose,
                                    className: "bg-red-600 hover:bg-red-700 text-white border-0",
                                    children: "Confirm Close"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                                    lineNumber: 197,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                            lineNumber: 193,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                    lineNumber: 182,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
                lineNumber: 181,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/positions/PositionsTable.tsx",
        lineNumber: 107,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_s(PositionsTable, "LQyeiHA8Eiq5OEce5l7nKnZsBVc=");
_c = PositionsTable;
const __TURBOPACK__default__export__ = PositionsTable;
var _c;
__turbopack_context__.k.register(_c, "PositionsTable");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/hooks/useTapToTradeOrders.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useTapToTradeOrders",
    ()=>useTapToTradeOrders
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = /*#__PURE__*/ __turbopack_context__.i("[project]/node_modules/next/dist/build/polyfills/process.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/wallet/hooks/useEmbeddedWallet.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$TapToTradeContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/contexts/TapToTradeContext.tsx [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature();
;
;
;
const BACKEND_API_URL = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:3001';
function useTapToTradeOrders() {
    _s();
    const { address } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"])();
    const { gridSession } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$TapToTradeContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTapToTrade"])();
    const [orders, setOrders] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])([]);
    const [isLoading, setIsLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [cancellingOrders, setCancellingOrders] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(new Set());
    // Fetch orders
    const fetchOrders = async ()=>{
        if (!address) return;
        setIsLoading(true);
        try {
            const response = await fetch(`${BACKEND_API_URL}/api/tap-to-trade/orders?trader=${address}`);
            const result = await response.json();
            if (result.success) {
                setOrders(result.data);
            }
        } catch (error) {
            console.error('Failed to fetch tap-to-trade orders:', error);
        } finally{
            setIsLoading(false);
        }
    };
    // Poll orders every 5 seconds
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useTapToTradeOrders.useEffect": ()=>{
            fetchOrders();
            const interval = setInterval(fetchOrders, 5000);
            return ({
                "useTapToTradeOrders.useEffect": ()=>clearInterval(interval)
            })["useTapToTradeOrders.useEffect"];
        }
    }["useTapToTradeOrders.useEffect"], [
        address
    ]);
    // Cancel single order
    const cancelOrder = async (orderId)=>{
        if (!address) return;
        setCancellingOrders((prev)=>new Set(prev).add(orderId));
        try {
            const response = await fetch(`${BACKEND_API_URL}/api/tap-to-trade/cancel-order`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    orderId,
                    trader: address
                })
            });
            const result = await response.json();
            if (result.success) {
                await fetchOrders(); // Refresh orders
            }
        } catch (error) {
            console.error('Failed to cancel order:', error);
        } finally{
            setCancellingOrders((prev)=>{
                const newSet = new Set(prev);
                newSet.delete(orderId);
                return newSet;
            });
        }
    };
    // Cancel all pending orders in the current grid session
    const cancelAllOrders = async ()=>{
        if (!address || !gridSession) return;
        const allOrderIds = orders.filter((o)=>o.status === 'PENDING').map((o)=>o.id);
        if (allOrderIds.length === 0) return;
        allOrderIds.forEach((id)=>setCancellingOrders((prev)=>new Set(prev).add(id)));
        try {
            const response = await fetch(`${BACKEND_API_URL}/api/tap-to-trade/cancel-grid`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    gridSessionId: gridSession.id,
                    trader: address
                })
            });
            const result = await response.json();
            if (result.success) {
                await fetchOrders(); // Refresh orders
            }
        } catch (error) {
            console.error('Failed to cancel all orders:', error);
        } finally{
            allOrderIds.forEach((id)=>{
                setCancellingOrders((prev)=>{
                    const newSet = new Set(prev);
                    newSet.delete(id);
                    return newSet;
                });
            });
        }
    };
    return {
        orders,
        isLoading,
        cancellingOrders,
        refetch: fetchOrders,
        cancelOrder,
        cancelAllOrders
    };
}
_s(useTapToTradeOrders, "tRrl8b0mU67Epp0kkN0Sat33Rjw=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$TapToTradeContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTapToTrade"]
    ];
});
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$formatUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/unit/formatUnits.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/button.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/lib/marketUtils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/constants/markets.ts [app-client] (ecmascript)");
;
;
;
;
;
const MobileOpenOrderCard = ({ order, type, onCancel, isCancelling })=>{
    // Helper to get logo URL
    const getLogoUrl = (symbol)=>{
        const market = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ALL_MARKETS"].find((m)=>m.symbol === symbol || m.binanceSymbol === symbol);
        return market?.logoUrl || `https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png`;
    };
    const isLimit = type === 'LIMIT';
    const triggerPrice = parseFloat((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$formatUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatUnits"])(order.triggerPrice, 8));
    const collateral = parseFloat((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$formatUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatUnits"])(order.collateral, 6));
    const createdDate = isLimit ? new Date(Number(order.createdAt) * 1000) : new Date(order.startTime * 1000);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "bg-[#131B26] p-4 rounded-lg border border-gray-800 space-y-3",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex items-center justify-between",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex items-center gap-3",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                            src: getLogoUrl(order.symbol),
                            alt: order.symbol,
                            className: "w-8 h-8 rounded-full bg-slate-800",
                            onError: (e)=>{
                                e.target.style.visibility = 'hidden';
                            }
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                            lineNumber: 39,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0)),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex items-center gap-2",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "font-bold text-white text-base",
                                            children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatMarketPair"])(order.symbol)
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                                            lineNumber: 49,
                                            columnNumber: 15
                                        }, ("TURBOPACK compile-time value", void 0)),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: `text-[10px] font-bold px-1.5 py-0.5 rounded ${isLimit ? 'bg-blue-500/10 text-blue-400' : 'bg-purple-500/10 text-purple-400'}`,
                                            children: type
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                                            lineNumber: 52,
                                            columnNumber: 15
                                        }, ("TURBOPACK compile-time value", void 0))
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                                    lineNumber: 48,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0)),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex items-center gap-2 mt-0.5",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: `text-xs font-bold ${order.isLong ? 'text-green-400' : 'text-red-400'}`,
                                            children: order.isLong ? 'Long' : 'Short'
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                                            lineNumber: 61,
                                            columnNumber: 15
                                        }, ("TURBOPACK compile-time value", void 0)),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "text-xs text-gray-400",
                                            children: [
                                                "• ",
                                                order.leverage,
                                                "x"
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                                            lineNumber: 66,
                                            columnNumber: 15
                                        }, ("TURBOPACK compile-time value", void 0))
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                                    lineNumber: 60,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                            lineNumber: 47,
                            columnNumber: 11
                        }, ("TURBOPACK compile-time value", void 0))
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                    lineNumber: 38,
                    columnNumber: 9
                }, ("TURBOPACK compile-time value", void 0))
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                lineNumber: 37,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "grid-cols-2 gap-4 text-xs flex flex-col",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex justify-between",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-gray-500",
                                        children: "Trigger Price"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                                        lineNumber: 76,
                                        columnNumber: 13
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-white font-mono",
                                        children: [
                                            "$",
                                            triggerPrice.toLocaleString()
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                                        lineNumber: 77,
                                        columnNumber: 13
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                                lineNumber: 75,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex justify-between",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-gray-500",
                                        children: "Collateral"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                                        lineNumber: 80,
                                        columnNumber: 13
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-white font-mono",
                                        children: [
                                            "$",
                                            collateral.toFixed(2)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                                        lineNumber: 81,
                                        columnNumber: 13
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                                lineNumber: 79,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                        lineNumber: 74,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-500",
                                children: "Time"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                                lineNumber: 85,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-400",
                                children: createdDate.toLocaleString()
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                                lineNumber: 86,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                        lineNumber: 84,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                lineNumber: 73,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                variant: "destructive",
                size: "sm",
                className: "w-full mt-2 text-xs h-8",
                onClick: ()=>onCancel(order.id),
                disabled: isCancelling,
                children: isCancelling ? 'Cancelling...' : 'Cancel Order'
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
                lineNumber: 91,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx",
        lineNumber: 35,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_c = MobileOpenOrderCard;
const __TURBOPACK__default__export__ = MobileOpenOrderCard;
var _c;
__turbopack_context__.k.register(_c, "MobileOpenOrderCard");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/OpenOrdersTab.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>OpenOrdersTab
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useLimitOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/hooks/useLimitOrder.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useTapToTradeOrders$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/hooks/useTapToTradeOrders.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/lib/marketUtils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$formatUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/viem/_esm/utils/unit/formatUnits.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/sonner/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/button.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/constants/markets.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$MobileOpenOrderCard$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/MobileOpenOrderCard.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/table.tsx [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
;
;
;
;
;
;
;
;
;
function OpenOrdersTab() {
    _s();
    // Limit Orders Data
    const { orders: limitOrders, isLoading: isLoadingLimit, refetch: refetchLimit } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useLimitOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useUserPendingOrders"])();
    const { cancelOrder: cancelLimitOrder, isPending: isCancellingLimit } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useLimitOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCancelOrder"])();
    // Tap Orders Data
    const { orders: tapOrders, isLoading: isLoadingTap, cancelOrder: cancelTapOrder, cancellingOrders, cancelAllOrders: cancelAllTap } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useTapToTradeOrders$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTapToTradeOrders"])();
    // Filter for ONLY pending tap orders
    const pendingTapOrders = tapOrders.filter((o)=>o.status === 'PENDING');
    const isLoading = isLoadingLimit || isLoadingTap;
    const handleCancelLimit = async (orderId)=>{
        try {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].loading('Cancelling order...', {
                id: 'cancel-limit'
            });
            await cancelLimitOrder(orderId);
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success('Order cancelled!', {
                id: 'cancel-limit'
            });
            setTimeout(()=>refetchLimit(), 1000);
        } catch (error) {
            console.error('Error cancelling order:', error);
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error('Failed to cancel order', {
                id: 'cancel-limit'
            });
        }
    };
    const handleCancelTap = async (orderId)=>{
        await cancelTapOrder(orderId);
    };
    // Helper to get logo URL
    const getLogoUrl = (symbol)=>{
        const market = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ALL_MARKETS"].find((m)=>m.symbol === symbol || m.binanceSymbol === symbol);
        return market?.logoUrl || `https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png`;
    };
    if (isLoading && limitOrders.length === 0 && tapOrders.length === 0) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "text-center py-16 text-gray-500",
            children: "Loading open orders..."
        }, void 0, false, {
            fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
            lineNumber: 72,
            columnNumber: 12
        }, this);
    }
    if (limitOrders.length === 0 && pendingTapOrders.length === 0) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "text-center py-16 text-gray-500",
            children: "No open orders found."
        }, void 0, false, {
            fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
            lineNumber: 76,
            columnNumber: 12
        }, this);
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "h-full flex flex-col",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex justify-end p-2 border-b border-gray-800/50",
                children: pendingTapOrders.length > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                    variant: "destructive",
                    size: "sm",
                    onClick: cancelAllTap,
                    className: "h-7 text-xs font-bold",
                    children: "Cancel All Tap Orders"
                }, void 0, false, {
                    fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                    lineNumber: 84,
                    columnNumber: 11
                }, this)
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                lineNumber: 82,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "hidden md:block overflow-x-auto",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Table"], {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHeader"], {
                            className: "bg-[#0B1017] sticky top-0 z-10",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableRow"], {
                                className: "border-b border-gray-800 hover:bg-transparent",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "font-medium",
                                        children: "Type"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                        lineNumber: 100,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "font-medium",
                                        children: "Symbol"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                        lineNumber: 101,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "font-medium",
                                        children: "Side"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                        lineNumber: 102,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "Trigger Price"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                        lineNumber: 103,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "Size/Collateral"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                        lineNumber: 104,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "Leverage"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                        lineNumber: 105,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "Time"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                        lineNumber: 106,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "Actions"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                        lineNumber: 107,
                                        columnNumber: 15
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                lineNumber: 99,
                                columnNumber: 13
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                            lineNumber: 98,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableBody"], {
                            children: [
                                limitOrders.map((order)=>{
                                    const triggerPrice = parseFloat((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$formatUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatUnits"])(order.triggerPrice, 8));
                                    const collateral = parseFloat((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$viem$2f$_esm$2f$utils$2f$unit$2f$formatUnits$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatUnits"])(order.collateral, 6));
                                    const createdDate = new Date(Number(order.createdAt) * 1000);
                                    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableRow"], {
                                        className: "hover:bg-gray-800/30 transition-colors group border-gray-800/50",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                    className: "px-2 py-0.5 rounded text-[10px] font-bold bg-blue-500/10 text-blue-400",
                                                    children: "LIMIT"
                                                }, void 0, false, {
                                                    fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                    lineNumber: 123,
                                                    columnNumber: 21
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                lineNumber: 122,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                                className: "text-white font-medium",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "flex items-center gap-2",
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                                            src: getLogoUrl(order.symbol),
                                                            alt: order.symbol,
                                                            className: "w-5 h-5 rounded-full",
                                                            onError: (e)=>{
                                                                e.target.src = 'https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png';
                                                            }
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                            lineNumber: 129,
                                                            columnNumber: 23
                                                        }, this),
                                                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatMarketPair"])(order.symbol)
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                    lineNumber: 128,
                                                    columnNumber: 21
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                lineNumber: 127,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                    className: `font-medium ${order.isLong ? 'text-green-400' : 'text-red-400'}`,
                                                    children: order.isLong ? 'Long' : 'Short'
                                                }, void 0, false, {
                                                    fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                    lineNumber: 142,
                                                    columnNumber: 21
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                lineNumber: 141,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                                className: "text-right text-white font-mono",
                                                children: [
                                                    "$",
                                                    triggerPrice.toLocaleString(undefined, {
                                                        minimumFractionDigits: 2,
                                                        maximumFractionDigits: 2
                                                    })
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                lineNumber: 148,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                                className: "text-right text-white font-mono",
                                                children: [
                                                    "$",
                                                    collateral.toFixed(2)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                lineNumber: 155,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                                className: "text-right text-white font-mono",
                                                children: [
                                                    order.leverage,
                                                    "x"
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                lineNumber: 158,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                                className: "text-right text-xs text-gray-500",
                                                children: createdDate.toLocaleTimeString()
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                lineNumber: 161,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                                className: "text-right",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                    onClick: ()=>handleCancelLimit(order.id),
                                                    disabled: isCancellingLimit,
                                                    className: "text-red-500 hover:text-red-400 text-xs font-medium transition-colors disabled:opacity-50",
                                                    children: isCancellingLimit ? '...' : 'Cancel'
                                                }, void 0, false, {
                                                    fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                    lineNumber: 165,
                                                    columnNumber: 21
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                lineNumber: 164,
                                                columnNumber: 19
                                            }, this)
                                        ]
                                    }, `limit-${order.id.toString()}`, true, {
                                        fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                        lineNumber: 118,
                                        columnNumber: 17
                                    }, this);
                                }),
                                pendingTapOrders.map((order)=>{
                                    const trigger = parseFloat(order.triggerPrice) / 100000000;
                                    const collateral = parseFloat(order.collateral) / 1000000;
                                    const startTime = new Date(order.startTime * 1000);
                                    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableRow"], {
                                        className: "hover:bg-gray-800/30 transition-colors group border-gray-800/50",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                    className: "px-2 py-0.5 rounded text-[10px] font-bold bg-purple-500/10 text-purple-400",
                                                    children: "TAP"
                                                }, void 0, false, {
                                                    fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                    lineNumber: 189,
                                                    columnNumber: 21
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                lineNumber: 188,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                                className: "text-white font-medium",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "flex items-center gap-2",
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                                            src: getLogoUrl(order.symbol),
                                                            alt: order.symbol,
                                                            className: "w-5 h-5 rounded-full",
                                                            onError: (e)=>{
                                                                e.target.src = 'https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png';
                                                            }
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                            lineNumber: 195,
                                                            columnNumber: 23
                                                        }, this),
                                                        order.symbol
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                    lineNumber: 194,
                                                    columnNumber: 21
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                lineNumber: 193,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                    className: `font-medium ${order.isLong ? 'text-green-400' : 'text-red-400'}`,
                                                    children: order.isLong ? 'Long' : 'Short'
                                                }, void 0, false, {
                                                    fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                    lineNumber: 208,
                                                    columnNumber: 21
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                lineNumber: 207,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                                className: "text-right text-white font-mono",
                                                children: [
                                                    "$",
                                                    trigger.toLocaleString(undefined, {
                                                        minimumFractionDigits: 2,
                                                        maximumFractionDigits: 2
                                                    })
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                lineNumber: 214,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                                className: "text-right text-white font-mono",
                                                children: [
                                                    "$",
                                                    collateral.toFixed(2)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                lineNumber: 221,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                                className: "text-right text-white font-mono",
                                                children: [
                                                    order.leverage,
                                                    "x"
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                lineNumber: 224,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                                className: "text-right text-xs text-gray-500",
                                                children: startTime.toLocaleTimeString()
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                lineNumber: 227,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                                className: "text-right",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                    onClick: ()=>handleCancelTap(order.id),
                                                    disabled: cancellingOrders.has(order.id),
                                                    className: "text-red-500 hover:text-red-400 text-xs font-medium transition-colors disabled:opacity-50",
                                                    children: cancellingOrders.has(order.id) ? '...' : 'Cancel'
                                                }, void 0, false, {
                                                    fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                    lineNumber: 231,
                                                    columnNumber: 21
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                                lineNumber: 230,
                                                columnNumber: 19
                                            }, this)
                                        ]
                                    }, `tap-${order.id}`, true, {
                                        fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                                        lineNumber: 184,
                                        columnNumber: 17
                                    }, this);
                                })
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                            lineNumber: 110,
                            columnNumber: 11
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                    lineNumber: 97,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                lineNumber: 96,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "md:hidden space-y-4 p-4 overflow-y-auto flex-1",
                children: [
                    limitOrders.map((order)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$MobileOpenOrderCard$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                            order: order,
                            type: "LIMIT",
                            onCancel: handleCancelLimit,
                            isCancelling: isCancellingLimit
                        }, `limit-card-${order.id.toString()}`, false, {
                            fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                            lineNumber: 250,
                            columnNumber: 11
                        }, this)),
                    pendingTapOrders.map((order)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$MobileOpenOrderCard$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                            order: order,
                            type: "TAP",
                            onCancel: handleCancelTap,
                            isCancelling: cancellingOrders.has(order.id)
                        }, `tap-card-${order.id}`, false, {
                            fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                            lineNumber: 261,
                            columnNumber: 11
                        }, this))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
                lineNumber: 247,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/OpenOrdersTab.tsx",
        lineNumber: 80,
        columnNumber: 5
    }, this);
}
_s(OpenOrdersTab, "NGyvrQZwegW6b74Ye/+uFoCZd1A=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useLimitOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useUserPendingOrders"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useLimitOrder$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCancelOrder"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useTapToTradeOrders$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTapToTradeOrders"]
    ];
});
_c = OpenOrdersTab;
var _c;
__turbopack_context__.k.register(_c, "OpenOrdersTab");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/hooks/useBinaryOrders.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useBinaryOrders",
    ()=>useBinaryOrders
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = /*#__PURE__*/ __turbopack_context__.i("[project]/node_modules/next/dist/build/polyfills/process.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/wallet/hooks/useEmbeddedWallet.ts [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature();
;
;
const BACKEND_URL = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"].env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:3001';
function useBinaryOrders() {
    _s();
    const [orders, setOrders] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])([]);
    const [isLoading, setIsLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(true);
    const { address } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"])();
    const fetchOrders = async ()=>{
        if (!address) {
            setIsLoading(false);
            return;
        }
        try {
            setIsLoading(true);
            const url = `${BACKEND_URL}/api/one-tap/bets?trader=${address}`;
            const response = await fetch(url);
            if (response.ok) {
                const data = await response.json();
                if (data.success && data.data) {
                    // Transform backend data to component format
                    const transformedOrders = data.data.map((bet)=>{
                        const entryPrice = parseFloat(bet.entryPrice) / 100000000; // 8 decimals
                        const targetPrice = parseFloat(bet.targetPrice) / 100000000; // 8 decimals
                        const direction = targetPrice > entryPrice ? 'UP' : 'DOWN';
                        return {
                            ...bet,
                            direction
                        };
                    });
                    setOrders(transformedOrders);
                } else {
                    setOrders([]);
                }
            } else {
                setOrders([]);
            }
        } catch (error) {
            console.error('❌ Error fetching binary orders:', error);
            setOrders([]);
        } finally{
            setIsLoading(false);
        }
    };
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useBinaryOrders.useEffect": ()=>{
            fetchOrders();
            // Poll every 3 seconds to get updates
            const interval = setInterval(fetchOrders, 3000);
            return ({
                "useBinaryOrders.useEffect": ()=>clearInterval(interval)
            })["useBinaryOrders.useEffect"];
        }
    }["useBinaryOrders.useEffect"], [
        address
    ]);
    return {
        orders,
        isLoading,
        refetch: fetchOrders
    };
}
_s(useBinaryOrders, "FojJVNl/bfsmotGgE+4RT5Rfa6M=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$wallet$2f$hooks$2f$useEmbeddedWallet$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEmbeddedWallet"]
    ];
});
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/lib/marketUtils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$charts$2f$PerSecondChart$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/charts/PerSecondChart/utils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/constants/markets.ts [app-client] (ecmascript)");
;
;
;
;
const MobileOneTapOrderCard = ({ order })=>{
    const getLogoUrl = (symbol)=>{
        const market = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ALL_MARKETS"].find((m)=>m.symbol === symbol || m.binanceSymbol === symbol);
        return market?.logoUrl || `https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png`;
    };
    // Parse bet amount
    let betAmount = 0;
    if (typeof order.betAmount === 'string') {
        const parsed = parseFloat(order.betAmount);
        betAmount = isNaN(parsed) ? 0 : parsed;
    } else if (typeof order.betAmount === 'number') {
        betAmount = order.betAmount;
    }
    // Parse prices for calculation
    const entryPriceNum = parseFloat(order.entryPrice) / 100000000;
    const targetPriceNum = parseFloat(order.targetPrice) / 100000000;
    // Recalculate multiplier
    const displayMultiplier = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$charts$2f$PerSecondChart$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["calculateMultiplier"])(entryPriceNum, targetPriceNum, order.entryTime, order.targetTime);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "bg-[#131B26] p-4 rounded-lg border border-gray-800 space-y-3",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex items-center justify-between",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-center gap-3",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                src: getLogoUrl(order.symbol),
                                alt: order.symbol,
                                className: "w-8 h-8 rounded-full bg-slate-800",
                                onError: (e)=>{
                                    e.target.style.visibility = 'hidden';
                                }
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                                lineNumber: 45,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "font-bold text-white text-base block",
                                    children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatMarketPair"])(order.symbol)
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                                    lineNumber: 54,
                                    columnNumber: 13
                                }, ("TURBOPACK compile-time value", void 0))
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                                lineNumber: 53,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                        lineNumber: 44,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "text-right",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "text-lg font-bold text-blue-300",
                                children: [
                                    (displayMultiplier / 100).toFixed(2),
                                    "x"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                                lineNumber: 60,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "text-xs text-yellow-500 font-medium",
                                children: "Active"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                                lineNumber: 63,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                        lineNumber: 59,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                lineNumber: 43,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "grid grid-cols-2 gap-4 text-xs border-t border-gray-800 pt-3",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-500",
                                children: "Bet Amount"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                                lineNumber: 70,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-white font-medium",
                                children: [
                                    "$",
                                    betAmount.toFixed(2)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                                lineNumber: 71,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                        lineNumber: 69,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-500",
                                children: "Target Time"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                                lineNumber: 74,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-white font-mono",
                                children: new Date(order.targetTime * 1000).toLocaleTimeString()
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                                lineNumber: 75,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                        lineNumber: 73,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-500",
                                children: "Entry Price"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                                lineNumber: 80,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-white font-mono",
                                children: [
                                    "$",
                                    entryPriceNum.toLocaleString()
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                                lineNumber: 81,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                        lineNumber: 79,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-500",
                                children: "Target Price"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                                lineNumber: 84,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-white font-mono",
                                children: [
                                    "$",
                                    targetPriceNum.toLocaleString()
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                                lineNumber: 85,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                        lineNumber: 83,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
                lineNumber: 68,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx",
        lineNumber: 41,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_c = MobileOneTapOrderCard;
const __TURBOPACK__default__export__ = MobileOneTapOrderCard;
var _c;
__turbopack_context__.k.register(_c, "MobileOneTapOrderCard");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/OneTapProfitTab.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>OneTapProfitTab
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useBinaryOrders$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/hooks/useBinaryOrders.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/lib/marketUtils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$charts$2f$PerSecondChart$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/charts/PerSecondChart/utils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/constants/markets.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$MobileOneTapOrderCard$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/MobileOneTapOrderCard.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/table.tsx [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
;
;
;
;
;
;
function OneTapProfitTab() {
    _s();
    const { orders, isLoading } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useBinaryOrders$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useBinaryOrders"])();
    // Filter for ACTIVE orders only
    const activeOrders = orders.filter((o)=>o.status === 'ACTIVE');
    // Helper to get logo URL
    const getLogoUrl = (symbol)=>{
        const market = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ALL_MARKETS"].find((m)=>m.symbol === symbol || m.binanceSymbol === symbol);
        return market?.logoUrl || `https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png`;
    };
    if (isLoading && orders.length === 0) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "text-center py-16 text-gray-500",
            children: "Loading active bets..."
        }, void 0, false, {
            fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
            lineNumber: 31,
            columnNumber: 12
        }, this);
    }
    if (activeOrders.length === 0) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "text-center py-16 text-gray-500",
            children: "No active bets. Place a One Tap Profit bet to see it here."
        }, void 0, false, {
            fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
            lineNumber: 36,
            columnNumber: 7
        }, this);
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "h-full flex flex-col",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "hidden md:block overflow-x-auto",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Table"], {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHeader"], {
                            className: "bg-[#0B1017] sticky top-0 z-10",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableRow"], {
                                className: "border-b border-gray-800 hover:bg-transparent",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "font-medium",
                                        children: "MARKET"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                        lineNumber: 49,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "BET AMOUNT"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                        lineNumber: 50,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "MULTIPLIER"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                        lineNumber: 51,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "STATUS"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                        lineNumber: 52,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "EXPIRES"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                        lineNumber: 53,
                                        columnNumber: 15
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                lineNumber: 48,
                                columnNumber: 13
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                            lineNumber: 47,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableBody"], {
                            children: activeOrders.map((order)=>{
                                // Parse bet amount
                                let betAmount = 0;
                                if (typeof order.betAmount === 'string') {
                                    const parsed = parseFloat(order.betAmount);
                                    betAmount = isNaN(parsed) ? 0 : parsed;
                                } else if (typeof order.betAmount === 'number') {
                                    betAmount = order.betAmount;
                                }
                                // Parse prices for calculation
                                const entryPriceNum = parseFloat(order.entryPrice) / 100000000;
                                const targetPriceNum = parseFloat(order.targetPrice) / 100000000;
                                // Recalculate multiplier
                                const displayMultiplier = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$charts$2f$PerSecondChart$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["calculateMultiplier"])(entryPriceNum, targetPriceNum, order.entryTime, order.targetTime);
                                return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableRow"], {
                                    className: "hover:bg-gray-800/30 transition-colors border-gray-800/50",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "flex items-center gap-2",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                                        src: getLogoUrl(order.symbol),
                                                        alt: order.symbol,
                                                        className: "w-5 h-5 rounded-full",
                                                        onError: (e)=>{
                                                            e.target.src = 'https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png';
                                                        }
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                                        lineNumber: 87,
                                                        columnNumber: 23
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: "flex flex-col",
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                            className: "font-semibold text-white",
                                                            children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatMarketPair"])(order.symbol)
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                                            lineNumber: 97,
                                                            columnNumber: 25
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                                        lineNumber: 96,
                                                        columnNumber: 23
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                                lineNumber: 86,
                                                columnNumber: 21
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                            lineNumber: 85,
                                            columnNumber: 19
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                            className: "text-right",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "text-white font-medium",
                                                children: [
                                                    "$",
                                                    betAmount > 0 ? betAmount.toFixed(2) : '0.00'
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                                lineNumber: 106,
                                                columnNumber: 21
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                            lineNumber: 105,
                                            columnNumber: 19
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                            className: "text-right",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "text-blue-300 font-bold",
                                                children: [
                                                    (displayMultiplier / 100).toFixed(2),
                                                    "x"
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                                lineNumber: 113,
                                                columnNumber: 21
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                            lineNumber: 112,
                                            columnNumber: 19
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                            className: "text-right",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "font-bold text-yellow-400 bg-yellow-400/10 px-2 py-0.5 rounded text-xs",
                                                children: order.status
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                                lineNumber: 120,
                                                columnNumber: 21
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                            lineNumber: 119,
                                            columnNumber: 19
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                            className: "text-right",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "text-yellow-400 text-xs font-mono",
                                                children: new Date(order.targetTime * 1000).toLocaleTimeString()
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                                lineNumber: 127,
                                                columnNumber: 21
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                            lineNumber: 126,
                                            columnNumber: 19
                                        }, this)
                                    ]
                                }, order.betId, true, {
                                    fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                                    lineNumber: 80,
                                    columnNumber: 17
                                }, this);
                            })
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                            lineNumber: 56,
                            columnNumber: 11
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                    lineNumber: 46,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                lineNumber: 45,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "md:hidden space-y-4 p-4 overflow-y-auto flex-1",
                children: activeOrders.map((order)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$MobileOneTapOrderCard$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                        order: order
                    }, `onetap-card-${order.betId}`, false, {
                        fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                        lineNumber: 141,
                        columnNumber: 11
                    }, this))
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
                lineNumber: 139,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/OneTapProfitTab.tsx",
        lineNumber: 43,
        columnNumber: 5
    }, this);
}
_s(OneTapProfitTab, "r8vQKWQ4LdIboUSXHtx96Sap6d0=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useBinaryOrders$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useBinaryOrders"]
    ];
});
_c = OneTapProfitTab;
var _c;
__turbopack_context__.k.register(_c, "OneTapProfitTab");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/MobileHistoryCard.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/lib/marketUtils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$charts$2f$PerSecondChart$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/charts/PerSecondChart/utils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/constants/markets.ts [app-client] (ecmascript)");
;
;
;
;
const MobileHistoryCard = ({ item })=>{
    const getLogoUrl = (symbol)=>{
        const market = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ALL_MARKETS"].find((m)=>m.symbol === symbol || m.binanceSymbol === symbol);
        return market?.logoUrl || `https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png`;
    };
    const isTap = item.type === 'TAP';
    const date = new Date(item.time * 1000);
    let resultDisplay = '-';
    let statusColor = 'text-gray-400';
    let betMarginDisplay = '-';
    // Status Logic
    if ([
        'WON',
        'EXECUTED'
    ].includes(item.status)) statusColor = 'text-green-400';
    else if ([
        'LOST',
        'FAILED'
    ].includes(item.status)) statusColor = 'text-red-400';
    else if ([
        'CANCELLED',
        'EXPIRED'
    ].includes(item.status)) statusColor = 'text-orange-400';
    if (isTap) {
        let amount = 0;
        if (typeof item.collateral === 'string') amount = parseFloat(item.collateral) / 1000000;
        else if (typeof item.collateral === 'bigint') amount = Number(item.collateral) / 1000000;
        else if (typeof item.collateral === 'number') amount = item.collateral / 1000000;
        betMarginDisplay = `$${amount.toFixed(2)}`;
        if (item.status === 'EXECUTED' && item.executedTxHash) {
            resultDisplay = 'View Tx';
        }
    } else {
        let amount = 0;
        if (typeof item.betAmount === 'string') amount = parseFloat(item.betAmount);
        else if (typeof item.betAmount === 'number') amount = item.betAmount;
        betMarginDisplay = `$${amount.toFixed(2)}`;
        const entry = parseFloat(item.entryPrice) / 100000000;
        const target = parseFloat(item.targetPrice) / 100000000;
        const mult = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$charts$2f$PerSecondChart$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["calculateMultiplier"])(entry, target, item.entryTime, item.targetTime);
        const multDisplay = (mult / 100).toFixed(2);
        if (item.status === 'WON') {
            const payout = amount * (mult / 100);
            const profit = payout - amount;
            resultDisplay = `+$${profit.toFixed(2)} (${multDisplay}x)`;
        } else if (item.status === 'LOST') {
            resultDisplay = `-$${amount.toFixed(2)}`;
        }
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "bg-[#131B26] p-4 rounded-lg border border-gray-800 space-y-3",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex items-center justify-between",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-center gap-3",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                src: getLogoUrl(item.symbol),
                                alt: item.symbol,
                                className: "w-8 h-8 rounded-full bg-slate-800",
                                onError: (e)=>{
                                    e.target.style.visibility = 'hidden';
                                }
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/MobileHistoryCard.tsx",
                                lineNumber: 66,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "font-bold text-white text-base block",
                                        children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatMarketPair"])(item.symbol)
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/MobileHistoryCard.tsx",
                                        lineNumber: 75,
                                        columnNumber: 13
                                    }, ("TURBOPACK compile-time value", void 0)),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: `text-[10px] font-bold px-1.5 py-0.5 rounded ${isTap ? 'bg-purple-500/10 text-purple-400' : 'bg-orange-500/10 text-orange-400'}`,
                                        children: isTap ? 'OPEN POS' : '1-TAP'
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/MobileHistoryCard.tsx",
                                        lineNumber: 78,
                                        columnNumber: 13
                                    }, ("TURBOPACK compile-time value", void 0))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/MobileHistoryCard.tsx",
                                lineNumber: 74,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/MobileHistoryCard.tsx",
                        lineNumber: 65,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "text-right",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: `text-sm font-bold ${statusColor}`,
                                children: item.status
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/MobileHistoryCard.tsx",
                                lineNumber: 88,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "text-xs text-gray-500",
                                children: date.toLocaleTimeString()
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/MobileHistoryCard.tsx",
                                lineNumber: 89,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/MobileHistoryCard.tsx",
                        lineNumber: 87,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/MobileHistoryCard.tsx",
                lineNumber: 64,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0)),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "grid grid-cols-2 gap-4 text-xs border-t border-gray-800 pt-3",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-500",
                                children: "Margin/Bet"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/MobileHistoryCard.tsx",
                                lineNumber: 96,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-white font-medium",
                                children: betMarginDisplay
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/MobileHistoryCard.tsx",
                                lineNumber: 97,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/MobileHistoryCard.tsx",
                        lineNumber: 95,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0)),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex justify-between",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-500",
                                children: "Result"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/MobileHistoryCard.tsx",
                                lineNumber: 100,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0)),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: `${item.status === 'WON' ? 'text-green-400' : item.status === 'LOST' ? 'text-red-400' : 'text-gray-400'} font-medium`,
                                children: resultDisplay === 'View Tx' ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("a", {
                                    href: `https://sepolia.basescan.org/tx/${item.executedTxHash}`,
                                    target: "_blank",
                                    rel: "noreferrer",
                                    className: "text-blue-400 underline",
                                    children: "Tx"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/orders/MobileHistoryCard.tsx",
                                    lineNumber: 111,
                                    columnNumber: 15
                                }, ("TURBOPACK compile-time value", void 0)) : resultDisplay
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/orders/MobileHistoryCard.tsx",
                                lineNumber: 101,
                                columnNumber: 11
                            }, ("TURBOPACK compile-time value", void 0))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/orders/MobileHistoryCard.tsx",
                        lineNumber: 99,
                        columnNumber: 9
                    }, ("TURBOPACK compile-time value", void 0))
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/MobileHistoryCard.tsx",
                lineNumber: 94,
                columnNumber: 7
            }, ("TURBOPACK compile-time value", void 0))
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/MobileHistoryCard.tsx",
        lineNumber: 62,
        columnNumber: 5
    }, ("TURBOPACK compile-time value", void 0));
};
_c = MobileHistoryCard;
const __TURBOPACK__default__export__ = MobileHistoryCard;
var _c;
__turbopack_context__.k.register(_c, "MobileHistoryCard");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/orders/HistoryTab.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>HistoryTab
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useTapToTradeOrders$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/hooks/useTapToTradeOrders.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useBinaryOrders$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/hooks/useBinaryOrders.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/lib/marketUtils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$charts$2f$PerSecondChart$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/charts/PerSecondChart/utils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/constants/markets.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$MobileHistoryCard$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/MobileHistoryCard.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/table.tsx [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
;
;
;
;
;
;
;
;
function HistoryTab() {
    _s();
    const { orders: tapOrders, isLoading: isLoadingTap } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useTapToTradeOrders$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTapToTradeOrders"])();
    const { orders: binaryOrders, isLoading: isLoadingBinary } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useBinaryOrders$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useBinaryOrders"])();
    const [filter, setFilter] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('ALL');
    // Filter Tap Orders (Executed, Cancelled, Expired, Failed)
    const tapHistory = tapOrders.filter((o)=>[
            'EXECUTED',
            'CANCELLED',
            'EXPIRED',
            'FAILED'
        ].includes(o.status));
    // Filter Binary Orders (Won, Lost, Cancelled)
    const binaryHistory = binaryOrders.filter((o)=>[
            'WON',
            'LOST',
            'CANCELLED'
        ].includes(o.status));
    const isLoading = isLoadingTap || isLoadingBinary;
    // Helper to get logo URL
    const getLogoUrl = (symbol)=>{
        const market = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$constants$2f$markets$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ALL_MARKETS"].find((m)=>m.symbol === symbol || m.binanceSymbol === symbol);
        return market?.logoUrl || `https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png`;
    };
    if (isLoading && tapHistory.length === 0 && binaryHistory.length === 0) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "text-center py-16 text-gray-500",
            children: "Loading history..."
        }, void 0, false, {
            fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
            lineNumber: 43,
            columnNumber: 12
        }, this);
    }
    if (tapHistory.length === 0 && binaryHistory.length === 0) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "text-center py-16 text-gray-500",
            children: "No history found."
        }, void 0, false, {
            fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
            lineNumber: 47,
            columnNumber: 12
        }, this);
    }
    // Combine and Sort by Created Date (Desc)
    const combinedHistory = [
        ...tapHistory.map((o)=>({
                ...o,
                type: 'TAP',
                time: o.createdAt
            })),
        ...binaryHistory.map((o)=>({
                ...o,
                type: 'BINARY',
                time: o.createdAt
            }))
    ].sort((a, b)=>b.time - a.time);
    const filteredHistory = filter === 'ALL' ? combinedHistory : combinedHistory.filter((o)=>o.type === filter);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "h-full flex flex-col",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex gap-4 p-4 border-b border-gray-800/50 overflow-x-auto no-scrollbar items-center",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                        onClick: ()=>setFilter('ALL'),
                        className: `px-4 py-2 text-sm rounded-lg font-bold transition-all shrink-0 ${filter === 'ALL' ? 'bg-blue-500 text-white shadow-lg shadow-blue-500/20' : 'bg-gray-800/50 text-gray-400 hover:bg-gray-800 hover:text-gray-200'}`,
                        children: "All History"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                        lineNumber: 63,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                        onClick: ()=>setFilter('BINARY'),
                        className: `px-4 py-2 text-sm rounded-lg font-bold transition-all shrink-0 ${filter === 'BINARY' ? 'bg-orange-500 text-white shadow-lg shadow-orange-500/20' : 'bg-gray-800/50 text-gray-400 hover:bg-gray-800 hover:text-gray-200'}`,
                        children: "One Tap Profit"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                        lineNumber: 73,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                        onClick: ()=>setFilter('TAP'),
                        className: `px-4 py-2 text-sm rounded-lg font-bold transition-all shrink-0 ${filter === 'TAP' ? 'bg-purple-500 text-white shadow-lg shadow-purple-500/20' : 'bg-gray-800/50 text-gray-400 hover:bg-gray-800 hover:text-gray-200'}`,
                        children: "Open Position"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                        lineNumber: 83,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                lineNumber: 62,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "hidden md:block overflow-x-auto",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Table"], {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHeader"], {
                            className: "bg-[#0B1017] sticky top-0 z-10",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableRow"], {
                                className: "border-b border-gray-800 hover:bg-transparent",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "font-medium",
                                        children: "Type"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                        lineNumber: 100,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "font-medium",
                                        children: "Symbol"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                        lineNumber: 101,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "Bet Margin"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                        lineNumber: 102,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "Result (Win)"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                        lineNumber: 103,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "Status"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                        lineNumber: 104,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableHead"], {
                                        className: "text-right font-medium",
                                        children: "Time"
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                        lineNumber: 105,
                                        columnNumber: 15
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                lineNumber: 99,
                                columnNumber: 13
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                            lineNumber: 98,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableBody"], {
                            children: filteredHistory.map((item)=>{
                                const isTap = item.type === 'TAP';
                                const date = new Date(item.time * 1000);
                                let resultDisplay = '-';
                                let statusColor = 'text-gray-400';
                                // Bet Margin / Size
                                let betMarginDisplay = '-';
                                // Status Color Logic
                                if ([
                                    'WON',
                                    'EXECUTED'
                                ].includes(item.status)) statusColor = 'text-green-400';
                                else if ([
                                    'LOST',
                                    'FAILED'
                                ].includes(item.status)) statusColor = 'text-red-400';
                                else if ([
                                    'CANCELLED',
                                    'EXPIRED'
                                ].includes(item.status)) statusColor = 'text-orange-400';
                                if (isTap) {
                                    // Collateral for Tap
                                    // Collateral comes as wei string usually
                                    let amount = 0;
                                    if (typeof item.collateral === 'string') amount = parseFloat(item.collateral) / 1000000;
                                    else if (typeof item.collateral === 'bigint') amount = Number(item.collateral) / 1000000;
                                    else if (typeof item.collateral === 'number') amount = item.collateral / 1000000;
                                    betMarginDisplay = `$${amount.toFixed(2)}`;
                                    // Tap: Show Tx Link or -
                                    if (item.status === 'EXECUTED' && item.executedTxHash) {
                                        resultDisplay = 'View Tx';
                                    }
                                } else {
                                    // Bet Amount for Binary
                                    let amount = 0;
                                    if (typeof item.betAmount === 'string') amount = parseFloat(item.betAmount);
                                    else if (typeof item.betAmount === 'number') amount = item.betAmount;
                                    betMarginDisplay = `$${amount.toFixed(2)}`;
                                    // Binary: Show Profit (Multiplier)
                                    const entry = parseFloat(item.entryPrice) / 100000000;
                                    const target = parseFloat(item.targetPrice) / 100000000;
                                    const mult = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$charts$2f$PerSecondChart$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["calculateMultiplier"])(entry, target, item.entryTime, item.targetTime);
                                    const multDisplay = (mult / 100).toFixed(2);
                                    if (item.status === 'WON') {
                                        // Profit = Total Payout - Bet Amount
                                        // Payout = Amount * (Mult/100)
                                        const payout = amount * (mult / 100);
                                        const profit = payout - amount;
                                        resultDisplay = `+$${profit.toFixed(2)} (${multDisplay}x)`;
                                    } else if (item.status === 'LOST') {
                                        resultDisplay = `-$${amount.toFixed(2)} (-1.00x)`;
                                    }
                                }
                                return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableRow"], {
                                    className: "hover:bg-gray-800/30 transition-colors border-gray-800/50",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                            children: isTap ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "px-2 py-0.5 rounded text-[10px] font-bold bg-purple-500/10 text-purple-400",
                                                children: "OPEN POS"
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                                lineNumber: 173,
                                                columnNumber: 23
                                            }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "px-2 py-0.5 rounded text-[10px] font-bold bg-orange-500/10 text-orange-400",
                                                children: "1-TAP"
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                                lineNumber: 177,
                                                columnNumber: 23
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                            lineNumber: 171,
                                            columnNumber: 19
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                            className: "text-white font-medium",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "flex items-center gap-2",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                                        src: getLogoUrl(item.symbol),
                                                        alt: item.symbol,
                                                        className: "w-5 h-5 rounded-full",
                                                        onError: (e)=>{
                                                            e.target.src = 'https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png';
                                                        }
                                                    }, void 0, false, {
                                                        fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                                        lineNumber: 184,
                                                        columnNumber: 23
                                                    }, this),
                                                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$lib$2f$marketUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["formatMarketPair"])(item.symbol)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                                lineNumber: 183,
                                                columnNumber: 21
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                            lineNumber: 182,
                                            columnNumber: 19
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                            className: "text-right font-mono text-white",
                                            children: betMarginDisplay
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                            lineNumber: 198,
                                            columnNumber: 19
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                            className: "text-right font-mono text-white",
                                            children: resultDisplay === 'View Tx' ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("a", {
                                                href: `https://sepolia.basescan.org/tx/${item.executedTxHash}`,
                                                target: "_blank",
                                                rel: "noreferrer",
                                                className: "text-blue-400 underline hover:text-blue-300",
                                                children: "View Tx"
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                                lineNumber: 205,
                                                columnNumber: 23
                                            }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: item.status === 'WON' ? 'text-green-400' : item.status === 'LOST' ? 'text-red-400' : 'text-gray-500',
                                                children: resultDisplay
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                                lineNumber: 214,
                                                columnNumber: 23
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                            lineNumber: 203,
                                            columnNumber: 19
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                            className: `text-right font-bold text-xs ${statusColor}`,
                                            children: item.status
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                            lineNumber: 227,
                                            columnNumber: 19
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$table$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TableCell"], {
                                            className: "text-right text-xs text-gray-500",
                                            children: date.toLocaleString()
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                            lineNumber: 230,
                                            columnNumber: 19
                                        }, this)
                                    ]
                                }, `${item.type}-${item.id || item.betId}`, true, {
                                    fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                                    lineNumber: 167,
                                    columnNumber: 17
                                }, this);
                            })
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                            lineNumber: 108,
                            columnNumber: 11
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                    lineNumber: 97,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                lineNumber: 96,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "md:hidden space-y-4 p-4 overflow-y-auto flex-1",
                children: filteredHistory.map((item)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$MobileHistoryCard$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                        item: item
                    }, `history-card-${item.type}-${item.id || item.betId}`, false, {
                        fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                        lineNumber: 243,
                        columnNumber: 11
                    }, this))
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
                lineNumber: 241,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/orders/HistoryTab.tsx",
        lineNumber: 60,
        columnNumber: 5
    }, this);
}
_s(HistoryTab, "BbRW5BXQojX3vciTReTQnRZJ2m4=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useTapToTradeOrders$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTapToTradeOrders"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$hooks$2f$useBinaryOrders$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useBinaryOrders"]
    ];
});
_c = HistoryTab;
var _c;
__turbopack_context__.k.register(_c, "HistoryTab");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>MobileMarketDetails
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/image.js [app-client] (ecmascript)");
;
;
function MobileMarketDetails({ isOpen, marketData, activeMarket, currentPrice }) {
    if (!isOpen) return null;
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "lg:hidden absolute left-0 right-0 bg-trading-panel border-b border-border-default shadow-lg z-20 animate-slide-down",
        style: {
            top: '60px'
        },
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "p-3 relative",
            children: [
                activeMarket && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                    src: `${activeMarket.logoUrl}`,
                    alt: `${activeMarket.symbol}`,
                    className: "absolute top-2 right-2 w-10 h-10 rounded-full bg-trading-surface ring-2 ring-border-light",
                    onError: (e)=>{
                        const target = e.currentTarget;
                        target.onerror = null;
                        target.style.visibility = 'hidden';
                    }
                }, void 0, false, {
                    fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                    lineNumber: 41,
                    columnNumber: 11
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "grid grid-cols-2 gap-3",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "text-xs text-text-secondary mb-1",
                                    children: "Current Price"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                                    lineNumber: 56,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "text-sm font-mono font-semibold text-text-primary",
                                    children: currentPrice ? `$${parseFloat(currentPrice).toLocaleString('en-US', {
                                        minimumFractionDigits: 2,
                                        maximumFractionDigits: 2
                                    })}` : '$--'
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                                    lineNumber: 57,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                            lineNumber: 55,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "text-xs text-text-secondary mb-1",
                                    children: "24h Change"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                                    lineNumber: 67,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: `text-sm font-mono font-semibold ${marketData?.priceChangePercent ? parseFloat(marketData.priceChangePercent) >= 0 ? 'text-success' : 'text-error' : 'text-text-muted'}`,
                                    children: marketData?.priceChangePercent ? `${parseFloat(marketData.priceChangePercent) >= 0 ? '+' : ''}${parseFloat(marketData.priceChangePercent).toFixed(2)}%` : '+0.00%'
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                                    lineNumber: 68,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                            lineNumber: 66,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "text-xs text-text-secondary mb-1",
                                    children: "24h High"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                                    lineNumber: 85,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "text-xs font-mono text-text-primary",
                                    children: marketData?.high24h ? `$${parseFloat(marketData.high24h).toLocaleString('en-US', {
                                        minimumFractionDigits: 2,
                                        maximumFractionDigits: 2
                                    })}` : '$--'
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                                    lineNumber: 86,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                            lineNumber: 84,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "text-xs text-text-secondary mb-1",
                                    children: "24h Low"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                                    lineNumber: 96,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "text-xs font-mono text-text-primary",
                                    children: marketData?.low24h ? `$${parseFloat(marketData.low24h).toLocaleString('en-US', {
                                        minimumFractionDigits: 2,
                                        maximumFractionDigits: 2
                                    })}` : '$--'
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                                    lineNumber: 97,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                            lineNumber: 95,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "text-xs text-text-secondary mb-1",
                                    children: "24h Volume"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                                    lineNumber: 107,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "text-xs font-mono text-text-primary",
                                    children: marketData?.volume24h ? (()=>{
                                        const vol = parseFloat(marketData.volume24h);
                                        if (vol >= 1e9) return `$${(vol / 1e9).toFixed(2)}B`;
                                        if (vol >= 1e6) return `$${(vol / 1e6).toFixed(2)}M`;
                                        if (vol >= 1e3) return `$${(vol / 1e3).toFixed(2)}K`;
                                        return `$${vol.toFixed(2)}`;
                                    })() : '--'
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                                    lineNumber: 108,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                            lineNumber: 106,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "text-xs text-text-secondary mb-1",
                                    children: "Open Interest"
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                                    lineNumber: 121,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "text-xs font-mono text-text-primary",
                                    children: marketData?.openInterestValue ? (()=>{
                                        const oi = parseFloat(marketData.openInterestValue);
                                        if (oi >= 1e9) return `$${(oi / 1e9).toFixed(2)}B`;
                                        if (oi >= 1e6) return `$${(oi / 1e6).toFixed(2)}M`;
                                        if (oi >= 1e3) return `$${(oi / 1e3).toFixed(2)}K`;
                                        return `$${oi.toFixed(2)}`;
                                    })() : '--'
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                                    lineNumber: 122,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                            lineNumber: 120,
                            columnNumber: 11
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
                    lineNumber: 54,
                    columnNumber: 9
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
            lineNumber: 38,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx",
        lineNumber: 33,
        columnNumber: 5
    }, this);
}
_c = MobileMarketDetails;
var _c;
__turbopack_context__.k.register(_c, "MobileMarketDetails");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/trade-content/MobileOrderTabs.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>MobileOrderTabs
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$mouse$2d$pointer$2d$click$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MousePointerClick$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/mouse-pointer-click.js [app-client] (ecmascript) <export default as MousePointerClick>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$trending$2d$up$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__TrendingUp$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/trending-up.js [app-client] (ecmascript) <export default as TrendingUp>");
;
;
function MobileOrderTabs({ mobileActiveTab, onTabClick, mode = 'market', activeTradeMode, onTradeModeClick }) {
    if (mode === 'trade') {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "flex items-center bg-trading-panel",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                    onClick: ()=>onTradeModeClick && onTradeModeClick('one-tap-profit'),
                    className: `flex-1 py-3.5 font-semibold text-sm transition-colors flex items-center justify-center gap-2 ${activeTradeMode === 'one-tap-profit' ? 'bg-success/20 text-success border-t-2 border-success' : 'bg-trading-surface text-text-secondary hover:bg-button-hover border-t-2 border-transparent'}`,
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$mouse$2d$pointer$2d$click$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MousePointerClick$3e$__["MousePointerClick"], {
                            size: 16
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/trade-content/MobileOrderTabs.tsx",
                            lineNumber: 30,
                            columnNumber: 11
                        }, this),
                        "One Tap Profit"
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/trade-content/MobileOrderTabs.tsx",
                    lineNumber: 22,
                    columnNumber: 9
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                    onClick: ()=>onTradeModeClick && onTradeModeClick('open-position'),
                    className: `flex-1 py-3.5 font-semibold text-sm transition-colors flex items-center justify-center gap-2 ${activeTradeMode === 'open-position' ? 'bg-info/20 text-info border-t-2 border-info' : 'bg-trading-surface text-text-secondary hover:bg-button-hover border-t-2 border-transparent'}`,
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$trending$2d$up$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__TrendingUp$3e$__["TrendingUp"], {
                            size: 16
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/trade-content/MobileOrderTabs.tsx",
                            lineNumber: 41,
                            columnNumber: 11
                        }, this),
                        "Open Position"
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/trade-content/MobileOrderTabs.tsx",
                    lineNumber: 33,
                    columnNumber: 9
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/src/features/trading/components/trade-content/MobileOrderTabs.tsx",
            lineNumber: 21,
            columnNumber: 7
        }, this);
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "flex items-center bg-trading-panel",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                onClick: ()=>onTabClick && onTabClick('long'),
                className: `flex-1 py-3.5 font-semibold text-sm transition-colors flex items-center justify-center gap-2 ${mobileActiveTab === 'long' ? 'bg-long text-text-primary hover:bg-long-active' : 'bg-trading-surface text-text-secondary hover:bg-button-hover'}`,
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                        width: "16",
                        height: "16",
                        viewBox: "0 0 24 24",
                        fill: "none",
                        stroke: "currentColor",
                        strokeWidth: "2",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("polyline", {
                                points: "23 6 13.5 15.5 8.5 10.5 1 18"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/trade-content/MobileOrderTabs.tsx",
                                lineNumber: 66,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("polyline", {
                                points: "17 6 23 6 23 12"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/trade-content/MobileOrderTabs.tsx",
                                lineNumber: 67,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/trade-content/MobileOrderTabs.tsx",
                        lineNumber: 58,
                        columnNumber: 9
                    }, this),
                    "Long"
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/trade-content/MobileOrderTabs.tsx",
                lineNumber: 50,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                onClick: ()=>onTabClick && onTabClick('short'),
                className: `flex-1 py-3.5 font-semibold text-sm transition-colors flex items-center justify-center gap-2 ${mobileActiveTab === 'short' ? 'bg-short text-text-primary hover:bg-short-active' : 'bg-trading-surface text-text-secondary hover:bg-button-hover'}`,
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                        width: "16",
                        height: "16",
                        viewBox: "0 0 24 24",
                        fill: "none",
                        stroke: "currentColor",
                        strokeWidth: "2",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("polyline", {
                                points: "23 18 13.5 8.5 8.5 13.5 1 6"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/trade-content/MobileOrderTabs.tsx",
                                lineNumber: 87,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("polyline", {
                                points: "17 18 23 18 23 12"
                            }, void 0, false, {
                                fileName: "[project]/src/features/trading/components/trade-content/MobileOrderTabs.tsx",
                                lineNumber: 88,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/trade-content/MobileOrderTabs.tsx",
                        lineNumber: 79,
                        columnNumber: 9
                    }, this),
                    "Short"
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/trade-content/MobileOrderTabs.tsx",
                lineNumber: 71,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                onClick: ()=>onTabClick && onTabClick('swap'),
                className: `flex-1 py-3.5 font-semibold text-sm transition-colors flex items-center justify-center gap-2 ${mobileActiveTab === 'swap' ? 'bg-swap text-text-primary hover:bg-swap-active' : 'bg-trading-surface text-text-secondary hover:bg-button-hover'}`,
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                        width: "16",
                        height: "16",
                        viewBox: "0 0 24 24",
                        fill: "none",
                        stroke: "currentColor",
                        strokeWidth: "2",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                            d: "M13 2L3 14h9l-1 8 10-12h-9l1-8z"
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/trade-content/MobileOrderTabs.tsx",
                            lineNumber: 108,
                            columnNumber: 11
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/trade-content/MobileOrderTabs.tsx",
                        lineNumber: 100,
                        columnNumber: 9
                    }, this),
                    "Swap"
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/trade-content/MobileOrderTabs.tsx",
                lineNumber: 92,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/trade-content/MobileOrderTabs.tsx",
        lineNumber: 49,
        columnNumber: 5
    }, this);
}
_c = MobileOrderTabs;
var _c;
__turbopack_context__.k.register(_c, "MobileOrderTabs");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/trade-content/BottomPanelToggle.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>BottomPanelToggle
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chevron$2d$up$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ChevronUp$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/chevron-up.js [app-client] (ecmascript) <export default as ChevronUp>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chevron$2d$down$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ChevronDown$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/chevron-down.js [app-client] (ecmascript) <export default as ChevronDown>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/button.tsx [app-client] (ecmascript)");
;
;
;
function BottomPanelToggle({ isOpen, onToggle, isMobile = false }) {
    if (isOpen) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "flex justify-center",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                onClick: onToggle,
                className: "bg-trading-bg border border-border-default rounded-t-lg px-4 py-2 flex items-center gap-2 hover:bg-button-hover transition-colors",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chevron$2d$down$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ChevronDown$3e$__["ChevronDown"], {
                        size: 16,
                        className: "text-text-secondary"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/trade-content/BottomPanelToggle.tsx",
                        lineNumber: 22,
                        columnNumber: 11
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-xs text-text-secondary font-medium cursor-pointer",
                        children: "Close Positions"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/trade-content/BottomPanelToggle.tsx",
                        lineNumber: 23,
                        columnNumber: 11
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chevron$2d$down$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ChevronDown$3e$__["ChevronDown"], {
                        size: 16,
                        className: "text-text-secondary"
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/trade-content/BottomPanelToggle.tsx",
                        lineNumber: 26,
                        columnNumber: 11
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/trade-content/BottomPanelToggle.tsx",
                lineNumber: 18,
                columnNumber: 9
            }, this)
        }, void 0, false, {
            fileName: "[project]/src/features/trading/components/trade-content/BottomPanelToggle.tsx",
            lineNumber: 17,
            columnNumber: 7
        }, this);
    }
    const buttonClasses = isMobile ? 'lg:hidden fixed bottom-16 left-1/2 -translate-x-1/2 z-50' : 'hidden lg:flex absolute bottom-2 left-1/2 -translate-x-1/2 z-50';
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
        onClick: onToggle,
        className: `${buttonClasses} bg-trading-bg border border-border-default rounded-t-lg px-4 py-2 items-center gap-2 hover:bg-button-hover transition-colors cursor-pointer`,
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chevron$2d$up$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ChevronUp$3e$__["ChevronUp"], {
                size: 16,
                className: "text-text-secondary"
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/trade-content/BottomPanelToggle.tsx",
                lineNumber: 41,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                className: "text-xs text-text-secondary font-medium",
                children: "Open Positions"
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/trade-content/BottomPanelToggle.tsx",
                lineNumber: 42,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chevron$2d$up$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ChevronUp$3e$__["ChevronUp"], {
                size: 16,
                className: "text-text-secondary"
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/trade-content/BottomPanelToggle.tsx",
                lineNumber: 43,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/trade-content/BottomPanelToggle.tsx",
        lineNumber: 37,
        columnNumber: 5
    }, this);
}
_c = BottomPanelToggle;
var _c;
__turbopack_context__.k.register(_c, "BottomPanelToggle");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/trade-content/StopTapToTradeButton.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>StopTapToTradeButton
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/button.tsx [app-client] (ecmascript)");
;
;
function StopTapToTradeButton({ onStop }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "w-full bg-trading-dark border-t border-border-default",
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
            onClick: onStop,
            variant: "destructive",
            className: "w-full h-14 text-lg font-bold gap-2 uppercase tracking-wide",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                    width: "20",
                    height: "20",
                    viewBox: "0 0 24 24",
                    fill: "none",
                    stroke: "currentColor",
                    strokeWidth: "2.5",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                            d: "M18 6L6 18"
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/trade-content/StopTapToTradeButton.tsx",
                            lineNumber: 24,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                            d: "M6 6L18 18"
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/trade-content/StopTapToTradeButton.tsx",
                            lineNumber: 25,
                            columnNumber: 11
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/features/trading/components/trade-content/StopTapToTradeButton.tsx",
                    lineNumber: 16,
                    columnNumber: 9
                }, this),
                "Stop Trading"
            ]
        }, void 0, true, {
            fileName: "[project]/src/features/trading/components/trade-content/StopTapToTradeButton.tsx",
            lineNumber: 11,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/src/features/trading/components/trade-content/StopTapToTradeButton.tsx",
        lineNumber: 10,
        columnNumber: 5
    }, this);
}
_c = StopTapToTradeButton;
var _c;
__turbopack_context__.k.register(_c, "StopTapToTradeButton");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/src/features/trading/components/trade-content/TradePageContent.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>TradePageContent
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$ResponsiveSidebar$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/layout/ResponsiveSidebar.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$SidebarContent$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/layout/SidebarContent.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$MobileHeader$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/layout/MobileHeader.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$charts$2f$TradingChart$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/charts/TradingChart.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$OrderPanel$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/orders/OrderPanel.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$BottomTrading$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/layout/BottomTrading.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$WalletConnectButton$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/layout/WalletConnectButton.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$utils$2f$useDynamicTitle$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/hooks/utils/useDynamicTitle.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$PriceTicker$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/layout/PriceTicker.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$TapToTradeContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/contexts/TapToTradeContext.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$MarketContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/contexts/MarketContext.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$trade$2d$content$2f$MobileMarketDetails$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/trade-content/MobileMarketDetails.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$trade$2d$content$2f$MobileOrderTabs$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/trade-content/MobileOrderTabs.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$trade$2d$content$2f$BottomPanelToggle$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/trade-content/BottomPanelToggle.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$trade$2d$content$2f$StopTapToTradeButton$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/features/trading/components/trade-content/StopTapToTradeButton.tsx [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
function TradePageContent() {
    _s();
    const { isEnabled, toggleMode, tradeMode, setTradeMode, setIsBinaryTradingEnabled } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$TapToTradeContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTapToTrade"])();
    const { activeMarket, currentPrice } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$MarketContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMarket"])();
    const [isBottomPanelOpen, setIsBottomPanelOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [isMobileOrderPanelOpen, setIsMobileOrderPanelOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [isMobileCoinInfoOpen, setIsMobileCoinInfoOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [mobileActiveTab, setMobileActiveTab] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('long');
    const [marketDataState, setMarketDataState] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    // Vertical Resize Logic (Bottom Panel)
    const [bottomPanelHeight, setBottomPanelHeight] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(300); // Default 300px
    const [isResizingBottom, setIsResizingBottom] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "TradePageContent.useEffect": ()=>{
            const handleMouseMoveBottom = {
                "TradePageContent.useEffect.handleMouseMoveBottom": (e)=>{
                    if (!isResizingBottom) return;
                    // Calculate new height: Total Height - Mouse Y
                    // We need to account for the bottom of the window
                    const newHeight = window.innerHeight - e.clientY;
                    // Constraints: Min 200px, Max 80vh
                    if (newHeight >= 200 && newHeight <= window.innerHeight * 0.8) {
                        setBottomPanelHeight(newHeight);
                    }
                }
            }["TradePageContent.useEffect.handleMouseMoveBottom"];
            const handleMouseUpBottom = {
                "TradePageContent.useEffect.handleMouseUpBottom": ()=>{
                    setIsResizingBottom(false);
                    document.body.style.userSelect = '';
                    document.body.style.cursor = '';
                }
            }["TradePageContent.useEffect.handleMouseUpBottom"];
            if (isResizingBottom) {
                window.addEventListener('mousemove', handleMouseMoveBottom);
                window.addEventListener('mouseup', handleMouseUpBottom);
                document.body.style.userSelect = 'none';
                document.body.style.cursor = 'row-resize';
            }
            return ({
                "TradePageContent.useEffect": ()=>{
                    window.removeEventListener('mousemove', handleMouseMoveBottom);
                    window.removeEventListener('mouseup', handleMouseUpBottom);
                }
            })["TradePageContent.useEffect"];
        }
    }["TradePageContent.useEffect"], [
        isResizingBottom
    ]);
    const [activeMarketState, setActiveMarketState] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    // Resizable Panel State (Right - Order Panel)
    const [panelWidth, setPanelWidth] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(30); // Default 30vw
    const [isResizing, setIsResizing] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    // Handle Resize Logic (Right Panel)
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "TradePageContent.useEffect": ()=>{
            const handleMouseMove = {
                "TradePageContent.useEffect.handleMouseMove": (e)=>{
                    if (!isResizing) return;
                    // Calculate width as percentage of window width (Right panel grows as mouse moves left)
                    // New Width = ((Window Width - Mouse X) / Window Width) * 100
                    const newWidth = (window.innerWidth - e.clientX) / window.innerWidth * 100;
                    // Clamp between 20vw and 50vw
                    if (newWidth >= 20 && newWidth <= 50) {
                        setPanelWidth(newWidth);
                    }
                }
            }["TradePageContent.useEffect.handleMouseMove"];
            const handleMouseUp = {
                "TradePageContent.useEffect.handleMouseUp": ()=>{
                    setIsResizing(false);
                    document.body.style.userSelect = ''; // Re-enable selection
                    document.body.style.cursor = '';
                }
            }["TradePageContent.useEffect.handleMouseUp"];
            if (isResizing) {
                window.addEventListener('mousemove', handleMouseMove);
                window.addEventListener('mouseup', handleMouseUp);
                document.body.style.userSelect = 'none'; // Disable text selection while dragging
                document.body.style.cursor = 'col-resize';
            }
            return ({
                "TradePageContent.useEffect": ()=>{
                    window.removeEventListener('mousemove', handleMouseMove);
                    window.removeEventListener('mouseup', handleMouseUp);
                }
            })["TradePageContent.useEffect"];
        }
    }["TradePageContent.useEffect"], [
        isResizing
    ]);
    const isTapToTradeActive = isEnabled;
    const priceValue = currentPrice ? parseFloat(currentPrice) : null;
    const pairName = activeMarket?.symbol || 'BTC/USDT';
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$utils$2f$useDynamicTitle$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useDynamicTitle"])(priceValue, pairName);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "TradePageContent.useEffect": ()=>{
            const handleToggleCoinInfo = {
                "TradePageContent.useEffect.handleToggleCoinInfo": (event)=>{
                    setIsMobileCoinInfoOpen({
                        "TradePageContent.useEffect.handleToggleCoinInfo": (prev)=>!prev
                    }["TradePageContent.useEffect.handleToggleCoinInfo"]);
                    if (event.detail?.marketData) {
                        setMarketDataState(event.detail.marketData);
                    }
                    if (event.detail?.activeMarket) {
                        setActiveMarketState(event.detail.activeMarket);
                    }
                }
            }["TradePageContent.useEffect.handleToggleCoinInfo"];
            window.addEventListener('toggleMobileCoinInfo', handleToggleCoinInfo);
            return ({
                "TradePageContent.useEffect": ()=>window.removeEventListener('toggleMobileCoinInfo', handleToggleCoinInfo)
            })["TradePageContent.useEffect"];
        }
    }["TradePageContent.useEffect"], []);
    const handleStopTrading = async ()=>{
        if (tradeMode === 'one-tap-profit') {
            setIsBinaryTradingEnabled(false);
            await toggleMode();
        // toast.success('Binary Trading stopped'); // toast is not imported in this file, toggleMode might handle errors
        } else {
            await toggleMode();
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("main", {
        className: "bg-trading-dark text-text-primary h-screen flex flex-col relative lg:p-2 p-2 lg:overflow-hidden overflow-auto",
        children: [
            !isTapToTradeActive && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$MobileHeader$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                rightContent: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$WalletConnectButton$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {}, void 0, false, {
                    fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                    lineNumber: 152,
                    columnNumber: 59
                }, void 0)
            }, void 0, false, {
                fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                lineNumber: 152,
                columnNumber: 31
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex flex-col lg:flex-row w-full flex-1 lg:gap-2 gap-2 lg:overflow-hidden",
                style: {
                    minHeight: 0
                },
                children: [
                    !isTapToTradeActive && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$ResponsiveSidebar$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$SidebarContent$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {}, void 0, false, {
                            fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                            lineNumber: 161,
                            columnNumber: 13
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                        lineNumber: 160,
                        columnNumber: 11
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "lg:flex-1 flex flex-col min-w-0 relative",
                        style: {
                            minHeight: 0
                        },
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "transition-all duration-300 relative flex-1",
                                style: {
                                    minHeight: 0,
                                    display: 'flex',
                                    flexDirection: 'column',
                                    marginBottom: isTapToTradeActive ? 0 : 0
                                },
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$charts$2f$TradingChart$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {}, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                        lineNumber: 177,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$trade$2d$content$2f$MobileMarketDetails$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                        isOpen: isMobileCoinInfoOpen,
                                        marketData: marketDataState,
                                        activeMarket: activeMarketState || activeMarket,
                                        currentPrice: currentPrice
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                        lineNumber: 180,
                                        columnNumber: 13
                                    }, this),
                                    isTapToTradeActive && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "hidden lg:block absolute bottom-6 right-6 z-50",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                            onClick: handleStopTrading,
                                            className: "bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-8 rounded-lg shadow-lg flex items-center gap-2 transform transition-transform hover:scale-105",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                    width: "20",
                                                    height: "20",
                                                    viewBox: "0 0 24 24",
                                                    fill: "none",
                                                    stroke: "currentColor",
                                                    strokeWidth: "2.5",
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                            d: "M18 6L6 18"
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                                            lineNumber: 202,
                                                            columnNumber: 21
                                                        }, this),
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                            d: "M6 6L18 18"
                                                        }, void 0, false, {
                                                            fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                                            lineNumber: 203,
                                                            columnNumber: 21
                                                        }, this)
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                                    lineNumber: 194,
                                                    columnNumber: 19
                                                }, this),
                                                "Stop Trading"
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                            lineNumber: 190,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                        lineNumber: 189,
                                        columnNumber: 15
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                lineNumber: 168,
                                columnNumber: 11
                            }, this),
                            isTapToTradeActive ? /* Tap to Trade Active - Toggle button with overlay */ /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                children: [
                                    isBottomPanelOpen && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "absolute bottom-0 left-0 right-0 z-10 transition-all duration-300 flex flex-col mb-0 lg:mb-0",
                                        style: {
                                            height: '40vh',
                                            minHeight: '200px',
                                            maxHeight: '50vh'
                                        },
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$trade$2d$content$2f$BottomPanelToggle$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                                isOpen: true,
                                                onToggle: ()=>setIsBottomPanelOpen(!isBottomPanelOpen)
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                                lineNumber: 226,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "flex-1 overflow-hidden",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$BottomTrading$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {}, void 0, false, {
                                                    fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                                    lineNumber: 233,
                                                    columnNumber: 21
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                                lineNumber: 232,
                                                columnNumber: 19
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                        lineNumber: 217,
                                        columnNumber: 17
                                    }, this),
                                    !isBottomPanelOpen && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$trade$2d$content$2f$BottomPanelToggle$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                        isOpen: false,
                                        onToggle: ()=>setIsBottomPanelOpen(true)
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                        lineNumber: 240,
                                        columnNumber: 17
                                    }, this)
                                ]
                            }, void 0, true) : /* Normal mode - Resizable Bottom Panel */ /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "hidden lg:flex w-full h-1 hover:bg-blue-500/50 cursor-row-resize items-center justify-center transition-colors group z-20 my-1",
                                        onMouseDown: ()=>setIsResizingBottom(true),
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: `h-0.5 w-8 bg-gray-600 group-hover:bg-blue-400 rounded-full transition-colors ${isResizingBottom ? 'bg-blue-500 w-32' : ''}`
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                            lineNumber: 251,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                        lineNumber: 247,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "lg:w-full transition-all duration-75 mb-10 lg:mb-0",
                                        style: {
                                            height: `${bottomPanelHeight}px`,
                                            minHeight: '200px',
                                            maxHeight: '80vh'
                                        },
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$BottomTrading$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {}, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                            lineNumber: 266,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                        lineNumber: 258,
                                        columnNumber: 15
                                    }, this)
                                ]
                            }, void 0, true)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                        lineNumber: 166,
                        columnNumber: 9
                    }, this),
                    !isTapToTradeActive && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "hidden lg:flex w-1 hover:bg-blue-500/50 cursor-col-resize items-center justify-center transition-colors group z-20",
                        onMouseDown: ()=>setIsResizing(true),
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: `w-0.5 h-8 bg-gray-600 group-hover:bg-blue-400 rounded-full transition-colors ${isResizing ? 'bg-blue-500 h-16' : ''}`
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                            lineNumber: 278,
                            columnNumber: 13
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                        lineNumber: 274,
                        columnNumber: 11
                    }, this),
                    !isTapToTradeActive && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "hidden lg:flex shrink-0 flex-col",
                        style: {
                            width: `${panelWidth}vw`,
                            minWidth: '300px',
                            maxWidth: '50vw'
                        },
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$OrderPanel$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                            mode: "trade"
                        }, void 0, false, {
                            fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                            lineNumber: 296,
                            columnNumber: 13
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                        lineNumber: 288,
                        columnNumber: 11
                    }, this),
                    isTapToTradeActive && !isBottomPanelOpen && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$trade$2d$content$2f$BottomPanelToggle$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                        isOpen: false,
                        onToggle: ()=>setIsBottomPanelOpen(!isBottomPanelOpen),
                        isMobile: true
                    }, void 0, false, {
                        fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                        lineNumber: 302,
                        columnNumber: 11
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "lg:hidden fixed bottom-0 left-0 right-0 z-50",
                        children: [
                            !isMobileOrderPanelOpen && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                children: isTapToTradeActive ? /* Stop Tap to Trade Button */ /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$trade$2d$content$2f$StopTapToTradeButton$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                    onStop: handleStopTrading
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                    lineNumber: 316,
                                    columnNumber: 17
                                }, this) : /* Normal Mode: Long/Short/Swap Tabs */ /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$trade$2d$content$2f$MobileOrderTabs$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                    mode: "trade",
                                    activeTradeMode: tradeMode,
                                    onTradeModeClick: (mode)=>{
                                        setTradeMode(mode);
                                        setIsMobileOrderPanelOpen(true);
                                    }
                                }, void 0, false, {
                                    fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                    lineNumber: 319,
                                    columnNumber: 17
                                }, this)
                            }, void 0, false),
                            isMobileOrderPanelOpen && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "fixed inset-0 bg-black/40 -z-10",
                                        onClick: ()=>setIsMobileOrderPanelOpen(false)
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                        lineNumber: 335,
                                        columnNumber: 15
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "bg-[#0B1017] shadow-2xl animate-slide-up rounded-t-lg",
                                        style: {
                                            maxHeight: '85vh',
                                            overflowY: 'auto'
                                        },
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$components$2f$orders$2f$OrderPanel$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                            mobileActiveTab: mobileActiveTab,
                                            mode: "trade",
                                            onMobileClose: ()=>setIsMobileOrderPanelOpen(false)
                                        }, void 0, false, {
                                            fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                            lineNumber: 346,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                                        lineNumber: 341,
                                        columnNumber: 15
                                    }, this)
                                ]
                            }, void 0, true)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                        lineNumber: 310,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                lineNumber: 154,
                columnNumber: 7
            }, this),
            !isTapToTradeActive && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$PriceTicker$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {}, void 0, false, {
                fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
                lineNumber: 358,
                columnNumber: 31
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/features/trading/components/trade-content/TradePageContent.tsx",
        lineNumber: 150,
        columnNumber: 5
    }, this);
}
_s(TradePageContent, "HNnTOhVQV+PjCylSJm5I3Gl/DXQ=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$TapToTradeContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTapToTrade"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$features$2f$trading$2f$contexts$2f$MarketContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMarket"],
        __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$utils$2f$useDynamicTitle$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useDynamicTitle"]
    ];
});
_c = TradePageContent;
var _c;
__turbopack_context__.k.register(_c, "TradePageContent");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
]);

//# sourceMappingURL=src_features_trading_9479c5d9._.js.map